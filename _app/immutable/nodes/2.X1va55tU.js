var p0=Object.defineProperty;var b0=(e,t,n)=>t in e?p0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Sn=(e,t,n)=>b0(e,typeof t!="symbol"?t+"":t,n);import{t as yt,a as Ze,d as Hc,c as Na}from"../chunks/BAWB9XE6.js";import{G as ll,h as mt,A as m0,z as w0,F as y0,b as v0,j as ve,W as md,I as x0,J as Yc,K as Si,c as ai,ae as k0,L as wd,a as yd,M as S0,ao as vd,ai as xd,q as M0,$ as E0,ap as Xc,aq as sl,P as A0,C as Fl,ar as ys,as as $0,at as vs,au as Gc,av as T0,ah as C0,aw as N0,d as O0,ax as L0,ac as z0,ay as R0,az as V0,aA as D0,a6 as Qc,a7 as Kc,a8 as I0,aB as P0,aC as F0,aD as U0,i as j0,O as W0,N as kd,aE as q0,s as Vn,w as et,y as at,x as Ke,v as Dn,t as pn,al as Jt,g as ba,an as Ul,_ as ct,aF as B0,f as Oa,Z as pi,aG as H0,n as Jc}from"../chunks/CmCdpu8g.js";import{a as Y0,l as Sd,e as nn,s as po,d as X0}from"../chunks/2Zf1Up7B.js";import{p as Ge,_ as xe,b as Md,i as Sr}from"../chunks/BiVdNLtt.js";import{c as G0,o as xs,a as Ed}from"../chunks/BRRcW6vk.js";import{i as bo}from"../chunks/GLpAVtWs.js";import{s as Q0}from"../chunks/BmSS3LmY.js";function ks(e,t){return t}function K0(e,t,n,r){for(var i=[],a=t.length,o=0;o<a;o++)T0(t[o].e,i,!0);var l=a>0&&i.length===0&&n!==null;if(l){var s=n.parentNode;C0(s),s.append(n),r.clear(),An(e,t[0].prev,t[a-1].next)}N0(i,()=>{for(var c=0;c<a;c++){var u=t[c];l||(r.delete(u.k),An(e,u.prev,u.next)),O0(u.e,!l)}})}function mo(e,t,n,r,i,a=null){var o=e,l={flags:t,items:new Map,first:null},s=(t&vd)!==0;if(s){var c=e;o=mt?ll(m0(c)):c.appendChild(w0())}mt&&y0();var u=null,d=!1,f=md(()=>{var h=n();return M0(h)?h:h==null?[]:xd(h)});v0(()=>{var h=ve(f),_=h.length;if(d&&_===0)return;d=_===0;let p=!1;if(mt){var x=o.data===x0;x!==(_===0)&&(o=Yc(),ll(o),Si(!1),p=!0)}if(mt){for(var b=null,A,$=0;$<_;$++){if(ai.nodeType===8&&ai.data===k0){o=ai,p=!0,Si(!1);break}var S=h[$],w=r(S,$);A=Ad(ai,l,b,null,S,w,$,i,t,n),l.items.set(w,A),b=A}_>0&&ll(Yc())}mt||J0(h,l,o,i,t,r,n),a!==null&&(_===0?u?wd(u):u=yd(()=>a(o)):u!==null&&S0(u,()=>{u=null})),p&&Si(!0),ve(f)}),mt&&(o=ai)}function J0(e,t,n,r,i,a,o){var O,H,z,Q;var l=(i&$0)!==0,s=(i&(vs|ys))!==0,c=e.length,u=t.items,d=t.first,f=d,h,_=null,p,x=[],b=[],A,$,S,w;if(l)for(w=0;w<c;w+=1)A=e[w],$=a(A,w),S=u.get($),S!==void 0&&((O=S.a)==null||O.measure(),(p??(p=new Set)).add(S));for(w=0;w<c;w+=1){if(A=e[w],$=a(A,w),S=u.get($),S===void 0){var k=f?f.e.nodes_start:n;_=Ad(k,t,_,_===null?t.first:_.next,A,$,w,r,i,o),u.set($,_),x=[],b=[],f=_.next;continue}if(s&&Z0(S,A,w,i),(S.e.f&sl)!==0&&(wd(S.e),l&&((H=S.a)==null||H.unfix(),(p??(p=new Set)).delete(S))),S!==f){if(h!==void 0&&h.has(S)){if(x.length<b.length){var I=b[0],L;_=I.prev;var G=x[0],F=x[x.length-1];for(L=0;L<x.length;L+=1)Zc(x[L],I,n);for(L=0;L<b.length;L+=1)h.delete(b[L]);An(t,G.prev,F.next),An(t,_,G),An(t,F,I),f=I,_=F,w-=1,x=[],b=[]}else h.delete(S),Zc(S,f,n),An(t,S.prev,S.next),An(t,S,_===null?t.first:_.next),An(t,_,S),_=S;continue}for(x=[],b=[];f!==null&&f.k!==$;)(f.e.f&sl)===0&&(h??(h=new Set)).add(f),b.push(f),f=f.next;if(f===null)continue;S=f}x.push(S),_=S,f=S.next}if(f!==null||h!==void 0){for(var D=h===void 0?[]:xd(h);f!==null;)(f.e.f&sl)===0&&D.push(f),f=f.next;var Z=D.length;if(Z>0){var W=(i&vd)!==0&&c===0?n:null;if(l){for(w=0;w<Z;w+=1)(z=D[w].a)==null||z.measure();for(w=0;w<Z;w+=1)(Q=D[w].a)==null||Q.fix()}K0(t,D,W,u)}}l&&A0(()=>{var V;if(p!==void 0)for(S of p)(V=S.a)==null||V.apply()}),Fl.first=t.first&&t.first.e,Fl.last=_&&_.e}function Z0(e,t,n,r){(r&vs)!==0&&Gc(e.v,t),(r&ys)!==0?Gc(e.i,n):e.i=n}function Ad(e,t,n,r,i,a,o,l,s,c){var u=(s&vs)!==0,d=(s&L0)===0,f=u?d?E0(i):Xc(i):i,h=(s&ys)===0?o:Xc(o),_={i:h,v:f,k:a,a:null,e:null,prev:n,next:r};try{return _.e=yd(()=>l(e,f,h,c),mt),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?t.first=_:(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Zc(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==r;){var o=z0(a);i.before(a),a=o}}function An(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function $d(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$d(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ep(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$d(e))&&(r&&(r+=" "),r+=t);return r}function tp(e){return typeof e=="object"?ep(e):e??""}function np(e,t,n){var r=e==null?"":""+e;return t&&(r=r?r+" "+t:t),r===""?null:r}function eu(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var a=e[i];a!=null&&a!==""&&(r+=" "+i+": "+a+n)}return r}function rp(e,t){if(t){var n="",r,i;return Array.isArray(t)?(r=t[0],i=t[1]):r=t,r&&(n+=eu(r)),i&&(n+=eu(i,!0)),n=n.trim(),n===""?null:n}return String(e)}function Ss(e,t,n,r,i,a){var o=e.__className;if(mt||o!==n||o===void 0){var l=np(n,r);(!mt||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=n}return a}function cl(e,t={},n,r){for(var i in n){var a=n[i];t[i]!==a&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,a,r))}}function ip(e,t,n,r){var i=e.__style;if(mt||i!==t){var a=rp(t,r);(!mt||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=t}else r&&(Array.isArray(r)?(cl(e,n==null?void 0:n[0],r[0]),cl(e,n==null?void 0:n[1],r[1],"important")):cl(e,n,r));return r}const ap=Symbol("is custom element"),op=Symbol("is html");function Li(e){if(mt){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;jl(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;jl(e,"checked",null),e.checked=i}}};e.__on_r=n,R0(n),Y0()}}function jl(e,t,n,r){var i=sp(e);mt&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="loading"&&(e[V0]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Td(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function lp(e,t,n){var r=I0,i=Fl;let a=mt;mt&&Si(!1),Qc(null),Kc(null);try{t!=="style"&&(Wl.has(e.nodeName)||!customElements||customElements.get(e.tagName.toLowerCase())?Td(e).includes(t):n&&typeof n=="object")?e[t]=n:jl(e,t,n==null?n:String(n))}finally{Qc(r),Kc(i),a&&Si(!0)}}function sp(e){return e.__attributes??(e.__attributes={[ap]:e.nodeName.includes("-"),[op]:e.namespaceURI===D0})}var Wl=new Map;function Td(e){var t=Wl.get(e.nodeName);if(t)return t;Wl.set(e.nodeName,t=[]);for(var n,r=e,i=Element.prototype;i!==r;){n=F0(r);for(var a in n)n[a].set&&t.push(a);r=P0(r)}return t}function zi(e,t,n=t){var r=U0();Sd(e,"input",i=>{var a=i?e.defaultValue:e.value;if(a=ul(e)?fl(a):a,n(a),r&&a!==(a=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),(mt&&e.defaultValue!==e.value||j0(t)==null&&e.value)&&n(ul(e)?fl(e.value):e.value),W0(()=>{var i=t();ul(e)&&i===fl(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function ul(e){var t=e.type;return t==="number"||t==="range"}function fl(e){return e===""?null:+e}function Cd(e,t,n){if(e.multiple)return fp(e,t);for(var r of e.options){var i=Mi(r);if(q0(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function cp(e,t){kd(()=>{var n=new MutationObserver(()=>{var r=e.__value;Cd(e,r)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function up(e,t,n=t){var r=!0;Sd(e,"change",i=>{var a=i?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(a),Mi);else{var l=e.querySelector(a)??e.querySelector("option:not([disabled])");o=l&&Mi(l)}n(o)}),kd(()=>{var i=t();if(Cd(e,i,r),r&&i===void 0){var a=e.querySelector(":checked");a!==null&&(i=Mi(a),n(i))}e.__value=i,r=!1}),cp(e)}function fp(e,t){for(var n of e.options)n.selected=~t.indexOf(Mi(n))}function Mi(e){return"__value"in e?e.__value:e.value}var dp=yt('<div id="login" class="svelte-1ke8rxq"><div><div class="logintitle svelte-1ke8rxq"><span class="loginh1 svelte-1ke8rxq">Login</span> <span>&nbsp;&nbsp;(Windows)</span></div> <input type="text" placeholder="username"> <input type="password" placeholder="password"> <button>Login</button></div></div>');function hp(e,t){Vn(t,!1);let n=Ge(t,"username",12,""),r=Ge(t,"password",12,""),i=Ge(t,"onLogin",8);function a(f){f.key==="Enter"&&o()}function o(){i()(n(),r())}bo();var l=dp(),s=et(l),c=at(et(s),2);Li(c);var u=at(c,2);Li(u);var d=at(u,2);Ke(s),Ke(l),zi(c,n),nn("keydown",c,a),zi(u,r),nn("keydown",u,a),nn("click",d,o),Ze(e,l),Dn()}var _p=yt('<li class="svelte-ea1f7n"><a class="svelte-ea1f7n"><span> </span></a></li>'),gp=yt('<div class="sidebar svelte-ea1f7n" id="sidebar"><h2 class="svelte-ea1f7n"><span class="icon svelte-ea1f7n">ðŸ“š</span><span class="label svelte-ea1f7n">Saved Queries</span></h2> <ul class="svelte-ea1f7n"></ul></div>');function pp(e,t){Vn(t,!1);let n=Ge(t,"savedQueries",24,()=>[]),r=Ge(t,"currentQueryName",8,""),i=Ge(t,"onQuerySelected",8);bo();var a=gp(),o=at(et(a),2);mo(o,5,n,ks,(l,s)=>{var c=_p(),u=et(c),d=et(u),f=et(d,!0);Ke(d),Ke(u),Ke(c),pn(()=>{Ss(d,1,tp(ve(s).name===r()?"label selected":"label"),"svelte-ea1f7n"),po(f,ve(s).name)}),nn("click",u,()=>i()(ve(s))),Ze(l,c)}),Ke(o),Ke(a),Ze(e,a),Dn()}function bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tu(Object(n),!0).forEach(function(r){bp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mp(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function wp(e,t){if(e==null)return{};var n=mp(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yp(e,t){return vp(e)||xp(e,t)||kp(e,t)||Sp()}function vp(e){if(Array.isArray(e))return e}function xp(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(s){i=!0,a=s}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function kp(e,t){if(e){if(typeof e=="string")return ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ru(e,t)}}function ru(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iu(Object(n),!0).forEach(function(r){Mp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ep(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,a){return a(i)},r)}}function bi(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return t.apply(n,[].concat(i,l))}}}function ja(e){return{}.toString.call(e).includes("Object")}function Ap(e){return!Object.keys(e).length}function Ri(e){return typeof e=="function"}function $p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Tp(e,t){return ja(t)||Nn("changeType"),Object.keys(t).some(function(n){return!$p(e,n)})&&Nn("changeField"),t}function Cp(e){Ri(e)||Nn("selectorType")}function Np(e){Ri(e)||ja(e)||Nn("handlerType"),ja(e)&&Object.values(e).some(function(t){return!Ri(t)})&&Nn("handlersType")}function Op(e){e||Nn("initialIsRequired"),ja(e)||Nn("initialType"),Ap(e)&&Nn("initialContent")}function Lp(e,t){throw new Error(e[t]||e.default)}var zp={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Nn=bi(Lp)(zp),ma={changes:Tp,selector:Cp,handler:Np,initial:Op};function Rp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ma.initial(e),ma.handler(t);var n={current:e},r=bi(Ip)(n,t),i=bi(Dp)(n),a=bi(ma.changes)(e),o=bi(Vp)(n);function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return ma.selector(c),c(n.current)}function s(c){Ep(r,i,a,o)(c)}return[l,s]}function Vp(e,t){return Ri(t)?t(e.current):t}function Dp(e,t){return e.current=au(au({},e.current),t),t}function Ip(e,t,n){return Ri(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var Pp={create:Rp},Fp={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Up(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return t.apply(n,[].concat(i,l))}}}function jp(e){return{}.toString.call(e).includes("Object")}function Wp(e){return e||ou("configIsRequired"),jp(e)||ou("configType"),e.urls?(qp(),{paths:{vs:e.urls.monacoBase}}):e}function qp(){console.warn(Nd.deprecation)}function Bp(e,t){throw new Error(e[t]||e.default)}var Nd={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ou=Up(Bp)(Nd),Hp={config:Wp},Yp=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(a,o){return o(a)},i)}};function Od(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Od(e[n],t[n]))}),nu(nu({},e),t)}var Xp={type:"cancelation",msg:"operation is manually canceled"};function dl(e){var t=!1,n=new Promise(function(r,i){e.then(function(a){return t?i(Xp):r(a)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var Gp=Pp.create({config:Fp,isInitialized:!1,resolve:null,reject:null,monaco:null}),Ld=yp(Gp,2),ea=Ld[0],wo=Ld[1];function Qp(e){var t=Hp.config(e),n=t.monaco,r=wp(t,["monaco"]);wo(function(i){return{config:Od(i.config,r),monaco:n}})}function Kp(){var e=ea(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(wo({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),dl(hl);if(window.monaco&&window.monaco.editor)return zd(window.monaco),e.resolve(window.monaco),dl(hl);Yp(Jp,eb)(tb)}return dl(hl)}function Jp(e){return document.body.appendChild(e)}function Zp(e){var t=document.createElement("script");return e&&(t.src=e),t}function eb(e){var t=ea(function(r){var i=r.config,a=r.reject;return{config:i,reject:a}}),n=Zp("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function tb(){var e=ea(function(n){var r=n.config,i=n.resolve,a=n.reject;return{config:r,resolve:i,reject:a}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){zd(n),e.resolve(n)},function(n){e.reject(n)})}function zd(e){ea().monaco||wo({monaco:e})}function nb(){return ea(function(e){var t=e.monaco;return t})}var hl=new Promise(function(e,t){return wo({resolve:e,reject:t})}),rb={config:Qp,init:Kp,__getMonacoInstance:nb};const ql=Object.fromEntries(Object.entries(Object.assign({"/node_modules/monaco-themes/themes/Active4D.json":()=>xe(()=>import("../chunks/DCMaBw04.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/All Hallows Eve.json":()=>xe(()=>import("../chunks/7vaAaitg.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Amy.json":()=>xe(()=>import("../chunks/Dh5QREKo.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Birds of Paradise.json":()=>xe(()=>import("../chunks/oCXBP02r.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Blackboard.json":()=>xe(()=>import("../chunks/CFXNeI-o.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Brilliance Black.json":()=>xe(()=>import("../chunks/CB4Vh9Nj.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Brilliance Dull.json":()=>xe(()=>import("../chunks/CoXJ9oE7.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Chrome DevTools.json":()=>xe(()=>import("../chunks/CGWZGI7O.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Clouds Midnight.json":()=>xe(()=>import("../chunks/2ths_mE7.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Clouds.json":()=>xe(()=>import("../chunks/Bibh36ez.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Cobalt.json":()=>xe(()=>import("../chunks/DNAqQlSJ.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Cobalt2.json":()=>xe(()=>import("../chunks/B4DyEI1J.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Dawn.json":()=>xe(()=>import("../chunks/EKPPaCMI.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Dominion Day.json":()=>xe(()=>import("../chunks/C9A9NfeL.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Dracula.json":()=>xe(()=>import("../chunks/C3rd88UQ.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Dreamweaver.json":()=>xe(()=>import("../chunks/CJxjPY1p.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Eiffel.json":()=>xe(()=>import("../chunks/DxR6xVtZ.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Espresso Libre.json":()=>xe(()=>import("../chunks/C4Twn5kD.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/GitHub Dark.json":()=>xe(()=>import("../chunks/sp1UhCqD.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/GitHub Light.json":()=>xe(()=>import("../chunks/Vgw1L57b.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/GitHub.json":()=>xe(()=>import("../chunks/CnB5fA5j.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/IDLE.json":()=>xe(()=>import("../chunks/DPjUkObu.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Katzenmilch.json":()=>xe(()=>import("../chunks/Cq-Qfo4h.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Kuroir Theme.json":()=>xe(()=>import("../chunks/D52Gtouo.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/LAZY.json":()=>xe(()=>import("../chunks/C9qbDqdv.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/MagicWB (Amiga).json":()=>xe(()=>import("../chunks/Cx9JqgkA.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Merbivore Soft.json":()=>xe(()=>import("../chunks/CdjjCMk3.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Merbivore.json":()=>xe(()=>import("../chunks/Bmek2Fil.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Monokai Bright.json":()=>xe(()=>import("../chunks/yk4Ykd6D.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Monokai.json":()=>xe(()=>import("../chunks/Ci587x6O.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Night Owl.json":()=>xe(()=>import("../chunks/BdmhJRfO.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Nord.json":()=>xe(()=>import("../chunks/Bj50XztE.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Oceanic Next.json":()=>xe(()=>import("../chunks/BUu7Pa-n.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Pastels on Dark.json":()=>xe(()=>import("../chunks/uBz5MCvn.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Slush and Poppies.json":()=>xe(()=>import("../chunks/YSW8CL5m.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Solarized-dark.json":()=>xe(()=>import("../chunks/CYWqIfaP.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Solarized-light.json":()=>xe(()=>import("../chunks/BvLRi89Y.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/SpaceCadet.json":()=>xe(()=>import("../chunks/DD1mkU1q.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Sunburst.json":()=>xe(()=>import("../chunks/BVWzxNUV.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Textmate (Mac Classic).json":()=>xe(()=>import("../chunks/KgIAXcFy.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Tomorrow-Night-Blue.json":()=>xe(()=>import("../chunks/Rs0JKAWH.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Tomorrow-Night-Bright.json":()=>xe(()=>import("../chunks/C8ujZbWN.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Tomorrow-Night-Eighties.json":()=>xe(()=>import("../chunks/BpK0hqlP.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Tomorrow-Night.json":()=>xe(()=>import("../chunks/_pJfbC1f.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Tomorrow.json":()=>xe(()=>import("../chunks/BRJ0LMx5.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Twilight.json":()=>xe(()=>import("../chunks/D14EW1Tv.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Upstream Sunburst.json":()=>xe(()=>import("../chunks/DCp8CPcP.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Vibrant Ink.json":()=>xe(()=>import("../chunks/BxaY3Ba1.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Xcode_default.json":()=>xe(()=>import("../chunks/1YyPzZGu.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Zenburnesque.json":()=>xe(()=>import("../chunks/VD2wTOvW.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/iPlastic.json":()=>xe(()=>import("../chunks/Ch4VfpOd.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/idleFingers.json":()=>xe(()=>import("../chunks/5ndTPyr4.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/krTheme.json":()=>xe(()=>import("../chunks/CUmmZeAm.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/monoindustrial.json":()=>xe(()=>import("../chunks/BS0iMKKa.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/themelist.json":()=>xe(()=>import("../chunks/VWg_pfli.js"),[],import.meta.url)})).map(([e,t])=>[e.toLowerCase().split("/").reverse()[0].slice(0,-5).replaceAll(" ","-"),t])),Rd=["vs","vs-dark","hc-black"];[...Object.keys(ql),...Rd].sort((e,t)=>e.localeCompare(t));var ib=yt('<div class="monaco-container svelte-1hkxewt"></div>');function ab(e,t){Vn(t,!0);const n=G0();let r=Jt(void 0),i=Ge(t,"editor",15,void 0),a=Ge(t,"value",15),o=Ge(t,"theme",3,void 0),l=Ge(t,"options",19,()=>({value:a(),automaticLayout:!0})),s=Ge(t,"monaco",15);function c(){var f;if(o())if(ql[o()]){const h=o();ql[o()]().then(_=>{var p,x;(p=s())==null||p.editor.defineTheme(h,_),(x=s())==null||x.editor.setTheme(h)})}else Rd.includes(o())&&((f=s())==null||f.editor.setTheme(o()))}ba(()=>{o()&&c()}),ba(()=>{var f;(f=i())==null||f.updateOptions(l())});let u=Ul(()=>{var f;return(f=i())==null?void 0:f.getModel()});ba(()=>{ve(u)&&l().language&&s().editor.setModelLanguage(ve(u),l().language)}),ba(()=>{if(i()&&i().getValue()!=a()){const f=i().getPosition();i().setValue(a()),f&&i().setPosition(f)}}),xs(async()=>{s(await rb.init()),i(s().editor.create(ve(r),l())),n("ready",i()),c(),i().getModel().onDidChangeContent(()=>{i()&&a(i().getValue())})}),Ed(()=>{var f;return(f=i())==null?void 0:f.dispose()});var d=ib();Md(d,f=>ct(r,f),()=>ve(r)),Ze(e,d),Dn()}var ob=yt('<div id="sqleditor" class="svelte-2t8cnv"><!></div>');function lb(e,t){let n=Ge(t,"query",12,"");const r={language:"sql",theme:"vs",automaticLayout:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",wordWrap:"on",folding:!0,fontSize:12};var i=ob(),a=et(i);ab(a,{options:r,height:"100%",get value(){return n()},set value(o){n(o)},$$legacy:!0}),Ke(i),Ze(e,i)}const sb=[{id:"local",name:"Local",cluster:"local"},{id:"uat",name:"UAT",cluster:"uat"},{id:"prod",name:"Prod",cluster:"prod"}];function cb(){return"uat"}var ub=yt("<option> </option>"),fb=yt('<label class="env-selector svelte-1hsm2xj"><span>Environment</span> <select class="svelte-1hsm2xj"></select></label>');function db(e,t){Vn(t,!1);let n=Ge(t,"selectedEnvironment",12),r=Ge(t,"onChange",8,()=>{});function i(l){n(l.target.value),r()(n())}bo();var a=fb(),o=at(et(a),2);pn(()=>{n(),B0(()=>{})}),mo(o,5,()=>sb,ks,(l,s)=>{var c=ub(),u={},d=et(c,!0);Ke(c),pn(()=>{u!==(u=ve(s).id)&&(c.value=(c.__value=ve(s).id)==null?"":ve(s).id),po(d,ve(s).name)}),Ze(l,c)}),Ke(o),Ke(a),up(o,n),nn("change",o,i),Ze(e,a),Dn()}var hb=yt('<span id="lastQueryTime"> </span>'),_b=yt('<div><input type="text" placeholder="Query Name"> <button>Save Query</button> &nbsp; <button>Reset</button> &nbsp; <label class="limit-control svelte-1u88fti"><span>Limit</span> <input type="number" class="limit-input svelte-1u88fti" size="8"></label> &nbsp; <!> &nbsp; <button id="run" class="svelte-1u88fti"><!></button> &nbsp; <!></div>');function gb(e,t){Vn(t,!1);let n=Ge(t,"queryName",12,""),r=Ge(t,"limit",12,1e5),i=Ge(t,"executing",8,!1),a=Ge(t,"lastQueryTime",8,0),o=Ge(t,"selectedEnvironment",12),l=Ge(t,"onEnvironmentChange",8),s=Ge(t,"onSave",8),c=Ge(t,"onReset",8),u=Ge(t,"onExecute",8);bo();var d=_b(),f=et(d);Li(f);var h=at(f,2),_=at(h,2),p=at(_,2),x=at(et(p),2);Li(x),Ke(p);var b=at(p,2);db(b,{get onChange(){return l()},get selectedEnvironment(){return o()},set selectedEnvironment(L){o(L)},$$legacy:!0});var A=at(b,2),$=et(A);{var S=L=>{var G=Hc("Running...");Ze(L,G)},w=L=>{var G=Hc("Run");Ze(L,G)};Sr($,L=>{i()?L(S):L(w,!1)})}Ke(A);var k=at(A,2);{var I=L=>{var G=hb(),F=et(G);Ke(G),pn(D=>po(F,`${D??""} ms`),[()=>new Intl.NumberFormat().format(Math.round(a()))],md),Ze(L,G)};Sr(k,L=>{a()>0&&L(I)})}Ke(d),pn(()=>A.disabled=i()),zi(f,n),nn("click",h,function(...L){var G;(G=s())==null||G.apply(this,L)}),nn("click",_,function(...L){var G;(G=c())==null||G.apply(this,L)}),zi(x,r),nn("click",A,function(...L){var G;(G=u())==null||G.apply(this,L)}),Ze(e,d),Dn()}var pb=yt('<div id="error" class="svelte-1q4vsnm"> </div>');function bb(e,t){let n=Ge(t,"error",8,"");var r=Na(),i=Oa(r);{var a=o=>{var l=pb(),s=et(l,!0);Ke(l),pn(()=>po(s,n())),Ze(o,l)};Sr(i,o=>{n()&&o(a)})}Ze(e,r)}var mb=Object.defineProperty,wb=(e,t)=>{for(var n in t)mb(e,n,{get:t[n],enumerable:!0})},Vd={};wb(Vd,{Client:()=>yo,ProxySession:()=>Ms,Table:()=>Es,View:()=>pr,default:()=>qd,init:()=>Fd,initSync:()=>Tb});var lu=class extends Error{},J,Vt=new Array(128).fill(void 0);Vt.push(void 0,null,!0,!1);function B(e){return Vt[e]}var dn=0,mi=null;function La(){return(mi===null||mi.byteLength===0)&&(mi=new Uint8Array(J.memory.buffer)),mi}var Dd=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},yb=function(e,t){return Dd.encodeInto(e,t)};function Hn(e,t,n){if(n===void 0){let l=Dd.encode(e),s=t(l.length,1)>>>0;return La().subarray(s,s+l.length).set(l),dn=l.length,s}let r=e.length,i=t(r,1)>>>0,a=La(),o=0;for(;o<r;o++){let l=e.charCodeAt(o);if(l>127)break;a[i+o]=l}if(o!==r){o!==0&&(e=e.slice(o)),i=n(i,r,r=o+e.length*3,1)>>>0;let l=La().subarray(i+o,i+r);o+=yb(e,l).written,i=n(i,r,o,1)>>>0}return dn=o,i}var Wn=null;function it(){return(Wn===null||Wn.buffer.detached===!0||Wn.buffer.detached===void 0&&Wn.buffer!==J.memory.buffer)&&(Wn=new DataView(J.memory.buffer)),Wn}var Ei=Vt.length;function ie(e){Ei===Vt.length&&Vt.push(Vt.length+1);let t=Ei;return Ei=Vt[t],Vt[t]=e,t}function ht(e,t){try{return e.apply(this,t)}catch(n){J.__wbindgen_export_2(ie(n))}}var Id=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Id.decode();function Mt(e,t){return e=e>>>0,Id.decode(La().subarray(e,e+t))}function Je(e){return e==null}function vb(e){e<132||(Vt[e]=Ei,Ei=e)}function pe(e){let t=B(e);return vb(e),t}var Wa=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{J.__wbindgen_export_4.get(e.dtor)(e.a,e.b)});function xb(e,t,n,r){let i={a:e,b:t,cnt:1,dtor:n},a=(...o)=>{i.cnt++;let l=i.a;i.a=0;try{return r(l,i.b,...o)}finally{--i.cnt===0?(J.__wbindgen_export_4.get(i.dtor)(l,i.b),Wa.unregister(i)):i.a=l}};return a.original=i,Wa.register(a,i,i),a}function kb(e,t,n,r){let i={a:e,b:t,cnt:1,dtor:n},a=(...o)=>{i.cnt++;try{return r(i.a,i.b,...o)}finally{--i.cnt===0&&(J.__wbindgen_export_4.get(i.dtor)(i.a,i.b),i.a=0,Wa.unregister(i))}};return a.original=i,Wa.register(a,i,i),a}function Bl(e){let t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){let i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){let i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){let i=e.length,a="[";i>0&&(a+=Bl(e[0]));for(let o=1;o<i;o++)a+=", "+Bl(e[o]);return a+="]",a}let n=/\[object ([^\]]+)\]/.exec(toString.call(e)),r;if(n&&n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function Sb(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}var Ai=128;function Pd(e){if(Ai==1)throw new Error("out of js stack");return Vt[--Ai]=e,Ai}function Fd(){J.init()}function Mb(e,t){let n=J.__wbindgen_export_5(e,t);return pe(n)}function Eb(e,t,n){J.__wbindgen_export_6(e,t,ie(n))}function Ab(e,t,n,r){J.__wbindgen_export_7(e,t,ie(n),ie(r))}var _l=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>J.__wbg_client_free(e>>>0,1)),yo=class{static __wrap(t){t=t>>>0;let n=Object.create(yo.prototype);return n.__wbg_ptr=t,_l.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,_l.unregister(this),t}free(){let t=this.__destroy_into_raw();J.__wbg_client_free(t,0)}__getClassname(){let t,n;try{let a=J.__wbindgen_add_to_stack_pointer(-16);J.client___getClassname(a,this.__wbg_ptr);var r=it().getInt32(a+4*0,!0),i=it().getInt32(a+4*1,!0);return t=r,n=i,Mt(r,i)}finally{J.__wbindgen_add_to_stack_pointer(16),J.__wbindgen_export_3(t,n,1)}}constructor(t,n){let r=J.client_new(ie(t),Je(n)?0:ie(n));return this.__wbg_ptr=r>>>0,_l.register(this,this.__wbg_ptr,this),this}new_proxy_session(t){try{let n=J.client_new_proxy_session(this.__wbg_ptr,Pd(t));return Ms.__wrap(n)}finally{Vt[Ai++]=void 0}}init(){let t=J.client_init(this.__wbg_ptr);return pe(t)}handle_response(t){let n=J.client_handle_response(this.__wbg_ptr,ie(t));return pe(n)}handle_error(t,n){var r=Je(t)?0:Hn(t,J.__wbindgen_export_0,J.__wbindgen_export_1),i=dn;let a=J.client_handle_error(this.__wbg_ptr,r,i,Je(n)?0:ie(n));return pe(a)}on_error(t){let n=J.client_on_error(this.__wbg_ptr,ie(t));return pe(n)}table(t,n){let r=J.client_table(this.__wbg_ptr,ie(t),Je(n)?0:ie(n));return pe(r)}terminate(){try{let i=J.__wbindgen_add_to_stack_pointer(-16);J.client_terminate(i,this.__wbg_ptr);var t=it().getInt32(i+4*0,!0),n=it().getInt32(i+4*1,!0),r=it().getInt32(i+4*2,!0);if(r)throw pe(n);return pe(t)}finally{J.__wbindgen_add_to_stack_pointer(16)}}open_table(t){let n=Hn(t,J.__wbindgen_export_0,J.__wbindgen_export_1),r=dn,i=J.client_open_table(this.__wbg_ptr,n,r);return pe(i)}get_hosted_table_names(){let t=J.client_get_hosted_table_names(this.__wbg_ptr);return pe(t)}on_hosted_tables_update(t){let n=J.client_on_hosted_tables_update(this.__wbg_ptr,ie(t));return pe(n)}remove_hosted_tables_update(t){let n=J.client_remove_hosted_tables_update(this.__wbg_ptr,t);return pe(n)}system_info(){let t=J.client_system_info(this.__wbg_ptr);return pe(t)}},gl=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>J.__wbg_proxysession_free(e>>>0,1)),Ms=class{static __wrap(t){t=t>>>0;let n=Object.create(Ms.prototype);return n.__wbg_ptr=t,gl.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,gl.unregister(this),t}free(){let t=this.__destroy_into_raw();J.__wbg_proxysession_free(t,0)}constructor(t,n){try{Sb(t,yo);let r=J.client_new_proxy_session(t.__wbg_ptr,Pd(n));return this.__wbg_ptr=r>>>0,gl.register(this,this.__wbg_ptr,this),this}finally{Vt[Ai++]=void 0}}handle_request(t){let n=J.proxysession_handle_request(this.__wbg_ptr,ie(t));return pe(n)}poll(){let t=J.proxysession_poll(this.__wbg_ptr);return pe(t)}close(){let t=this.__destroy_into_raw(),n=J.proxysession_close(t);return pe(n)}},su=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>J.__wbg_table_free(e>>>0,1)),Es=class{static __wrap(t){t=t>>>0;let n=Object.create(Es.prototype);return n.__wbg_ptr=t,su.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,su.unregister(this),t}free(){let t=this.__destroy_into_raw();J.__wbg_table_free(t,0)}__getClassname(){let t,n;try{let a=J.__wbindgen_add_to_stack_pointer(-16);J.table___getClassname(a,this.__wbg_ptr);var r=it().getInt32(a+4*0,!0),i=it().getInt32(a+4*1,!0);return t=r,n=i,Mt(r,i)}finally{J.__wbindgen_add_to_stack_pointer(16),J.__wbindgen_export_3(t,n,1)}}get_index(){let t=J.table_get_index(this.__wbg_ptr);return pe(t)}get_client(){let t=J.table_get_client(this.__wbg_ptr);return pe(t)}get_name(){let t=J.table_get_name(this.__wbg_ptr);return pe(t)}get_limit(){let t=J.table_get_limit(this.__wbg_ptr);return pe(t)}clear(){let t=J.table_clear(this.__wbg_ptr);return pe(t)}delete(){let t=J.table_delete(this.__wbg_ptr);return pe(t)}size(){let t=J.table_size(this.__wbg_ptr);return pe(t)}schema(){let t=J.table_schema(this.__wbg_ptr);return pe(t)}columns(){let t=J.table_columns(this.__wbg_ptr);return pe(t)}make_port(){let t=J.table_make_port(this.__wbg_ptr);return pe(t)}on_delete(t){let n=J.table_on_delete(this.__wbg_ptr,ie(t));return pe(n)}remove_delete(t){let n=J.table_remove_delete(this.__wbg_ptr,t);return pe(n)}remove(t,n){let r=J.table_remove(this.__wbg_ptr,ie(t),Je(n)?0:ie(n));return pe(r)}replace(t,n){let r=J.table_replace(this.__wbg_ptr,ie(t),Je(n)?0:ie(n));return pe(r)}update(t,n){let r=J.table_update(this.__wbg_ptr,ie(t),Je(n)?0:ie(n));return pe(r)}view(t){let n=J.table_view(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}validate_expressions(t){let n=J.table_validate_expressions(this.__wbg_ptr,ie(t));return pe(n)}},cu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>J.__wbg_view_free(e>>>0,1)),pr=class{static __wrap(t){t=t>>>0;let n=Object.create(pr.prototype);return n.__wbg_ptr=t,cu.register(n,n.__wbg_ptr,n),n}static __unwrap(t){return t instanceof pr?t.__destroy_into_raw():0}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,cu.unregister(this),t}free(){let t=this.__destroy_into_raw();J.__wbg_view_free(t,0)}__get_model(){let t=J.view___get_model(this.__wbg_ptr);return pr.__wrap(t)}column_paths(){let t=J.view_column_paths(this.__wbg_ptr);return pe(t)}delete(){let t=J.view_delete(this.__wbg_ptr);return pe(t)}dimensions(){let t=J.view_dimensions(this.__wbg_ptr);return pe(t)}expression_schema(){let t=J.view_expression_schema(this.__wbg_ptr);return pe(t)}get_config(){let t=J.view_get_config(this.__wbg_ptr);return pe(t)}get_min_max(t){let n=Hn(t,J.__wbindgen_export_0,J.__wbindgen_export_1),r=dn,i=J.view_get_min_max(this.__wbg_ptr,n,r);return pe(i)}num_rows(){let t=J.view_num_rows(this.__wbg_ptr);return pe(t)}schema(){let t=J.view_schema(this.__wbg_ptr);return pe(t)}to_arrow(t){let n=J.view_to_arrow(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_columns_string(t){let n=J.view_to_columns_string(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_columns(t){let n=J.view_to_columns(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_json_string(t){let n=J.view_to_json_string(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_json(t){let n=J.view_to_json(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_ndjson(t){let n=J.view_to_ndjson(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_csv(t){let n=J.view_to_csv(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}on_update(t,n){let r=J.view_on_update(this.__wbg_ptr,ie(t),Je(n)?0:ie(n));return pe(r)}remove_update(t){let n=J.view_remove_update(this.__wbg_ptr,t);return pe(n)}on_delete(t){let n=J.view_on_delete(this.__wbg_ptr,ie(t));return pe(n)}num_columns(){let t=J.view_num_columns(this.__wbg_ptr);return pe(t)}remove_delete(t){let n=J.view_remove_delete(this.__wbg_ptr,t);return pe(n)}collapse(t){let n=J.view_collapse(this.__wbg_ptr,t);return pe(n)}expand(t){let n=J.view_expand(this.__wbg_ptr,t);return pe(n)}set_depth(t){let n=J.view_set_depth(this.__wbg_ptr,t);return pe(n)}};async function $b(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Ud(){let e={};return e.wbg={},e.wbg.__wbg_String_8f0eb39a4a4c2f66=function(t,n){let r=String(B(n)),i=Hn(r,J.__wbindgen_export_0,J.__wbindgen_export_1),a=dn;it().setInt32(t+4*1,a,!0),it().setInt32(t+4*0,i,!0)},e.wbg.__wbg_at_1abf0efc31a7fc6e=function(t,n){let r=B(t).at(n);return ie(r)},e.wbg.__wbg_buffer_bacd7706db793204=function(t){let n=B(t).buffer;return ie(n)},e.wbg.__wbg_buffer_ef9774282e5dab94=function(t){let n=B(t).buffer;return ie(n)},e.wbg.__wbg_call_0ad083564791763a=function(){return ht(function(t,n){let r=B(t).call(B(n));return ie(r)},arguments)},e.wbg.__wbg_call_a34b6b4765f27be0=function(){return ht(function(t,n,r){let i=B(t).call(B(n),B(r));return ie(i)},arguments)},e.wbg.__wbg_call_efe5a4db7065d1a2=function(){return ht(function(t,n,r,i){let a=B(t).call(B(n),B(r),B(i));return ie(a)},arguments)},e.wbg.__wbg_client_new=function(t){let n=yo.__wrap(t);return ie(n)},e.wbg.__wbg_crypto_ed58b8e10a292839=function(t){let n=B(t).crypto;return ie(n)},e.wbg.__wbg_debug_338493c12960e4a7=function(t){console.debug(B(t))},e.wbg.__wbg_debug_f201c091a5d2019b=function(t,n,r,i){console.debug(B(t),B(n),B(r),B(i))},e.wbg.__wbg_done_f4c254830a095eaf=function(t){return B(t).done},e.wbg.__wbg_entries_83beb641792ccb9c=function(t){let n=Object.entries(B(t));return ie(n)},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(t,n){let r,i;try{r=t,i=n,console.error(Mt(t,n))}finally{J.__wbindgen_export_3(r,i,1)}},e.wbg.__wbg_error_852b114509bed301=function(t){console.error(B(t))},e.wbg.__wbg_error_94252a8e90b35b8e=function(t,n,r,i){console.error(B(t),B(n),B(r),B(i))},e.wbg.__wbg_error_afd05d3fc1f414ce=function(t,n){console.error(B(t),B(n))},e.wbg.__wbg_from_3aa0fcaa8eef0104=function(t){let n=Array.from(B(t));return ie(n)},e.wbg.__wbg_getEntriesByName_6fb8ccc67553373f=function(t,n,r,i,a){let o=B(t).getEntriesByName(Mt(n,r),Mt(i,a));return ie(o)},e.wbg.__wbg_getRandomValues_bcb4912f16000dc4=function(){return ht(function(t,n){B(t).getRandomValues(B(n))},arguments)},e.wbg.__wbg_get_0c3cc364764a0b98=function(t,n){let r=B(t)[n>>>0];return ie(r)},e.wbg.__wbg_get_977cbaa63dc20090=function(t,n,r){let i=B(t)[Mt(n,r)];return Je(i)?0:ie(i)},e.wbg.__wbg_get_b996a12be035ef4f=function(){return ht(function(t,n){let r=Reflect.get(B(t),B(n));return ie(r)},arguments)},e.wbg.__wbg_getwithrefkey_1dc361bd10053bfe=function(t,n){let r=B(t)[B(n)];return ie(r)},e.wbg.__wbg_globalThis_6b4d52a0b6aaeaea=function(){return ht(function(){let t=globalThis.globalThis;return ie(t)},arguments)},e.wbg.__wbg_global_49324ce12193de77=function(){return ht(function(){let t=global.global;return ie(t)},arguments)},e.wbg.__wbg_has_bdec43a5ed4cb454=function(){return ht(function(t,n){return Reflect.has(B(t),B(n))},arguments)},e.wbg.__wbg_info_493696cc38ae1ad0=function(t,n,r,i){console.info(B(t),B(n),B(r),B(i))},e.wbg.__wbg_info_6c1abe3d4e1ae962=function(t){console.info(B(t))},e.wbg.__wbg_instanceof_ArrayBuffer_ff40e55b5978e215=function(t){let n;try{n=B(t)instanceof ArrayBuffer}catch{n=!1}return n},e.wbg.__wbg_instanceof_Array_23bc22ecdd4608e6=function(t){let n;try{n=B(t)instanceof Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_Map_0f3f3653f757ced1=function(t){let n;try{n=B(t)instanceof Map}catch{n=!1}return n},e.wbg.__wbg_instanceof_Object_9108547bac1f91b1=function(t){let n;try{n=B(t)instanceof Object}catch{n=!1}return n},e.wbg.__wbg_instanceof_PerspectiveViewNotFoundError_b4d9eb94ce63f22c=function(t){let n;try{n=B(t)instanceof lu}catch{n=!1}return n},e.wbg.__wbg_instanceof_Uint8Array_db97368f94b1373f=function(t){let n;try{n=B(t)instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_Window_311934805c10047c=function(t){let n;try{n=B(t)instanceof Window}catch{n=!1}return n},e.wbg.__wbg_isArray_8738f1062fa88586=function(t){return Array.isArray(B(t))},e.wbg.__wbg_isSafeInteger_a1b3e0811faecf2f=function(t){return Number.isSafeInteger(B(t))},e.wbg.__wbg_iterator_c0c688f37fa815e6=function(){return ie(Symbol.iterator)},e.wbg.__wbg_keys_45b15edb4089351e=function(t){let n=Object.keys(B(t));return ie(n)},e.wbg.__wbg_length_12246a78d2f65d3a=function(t){return B(t).length},e.wbg.__wbg_length_c24da17096edfe57=function(t){return B(t).length},e.wbg.__wbg_mark_2e459508e2ea726f=function(){return ht(function(t,n,r){B(t).mark(Mt(n,r))},arguments)},e.wbg.__wbg_measure_590e79f6f28bcf70=function(){return ht(function(t,n,r,i,a){B(t).measure(Mt(n,r),Mt(i,a))},arguments)},e.wbg.__wbg_msCrypto_0a36e2ec3a343d26=function(t){let n=B(t).msCrypto;return ie(n)},e.wbg.__wbg_new_518e2184725aa711=function(){return ie(new Map)},e.wbg.__wbg_new_5479cd54aab193ea=function(){let t=new lu;return ie(t)},e.wbg.__wbg_new_59845962d1127937=function(t){let n=new Uint8Array(B(t));return ie(n)},e.wbg.__wbg_new_67abf4a77618ee3e=function(){let t=new Object;return ie(t)},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){let t=new Error;return ie(t)},e.wbg.__wbg_new_ac7361beaf933ba6=function(t,n){try{var r={a:t,b:n},i=(o,l)=>{let s=r.a;r.a=0;try{return Ab(s,r.b,o,l)}finally{r.a=s}};let a=new Promise(i);return ie(a)}finally{r.a=r.b=0}},e.wbg.__wbg_new_e2d07398d7689006=function(){let t=new Array;return ie(t)},e.wbg.__wbg_newnoargs_a136448eeb7d48ac=function(t,n){let r=new Function(Mt(t,n));return ie(r)},e.wbg.__wbg_newwithbyteoffsetandlength_84908302a4c137cf=function(t,n,r){let i=new Uint8Array(B(t),n>>>0,r>>>0);return ie(i)},e.wbg.__wbg_newwithlength_4c216eaaf23f2f9a=function(t){let n=new Uint8Array(t>>>0);return ie(n)},e.wbg.__wbg_next_928df8c15fc0c9b0=function(t){let n=B(t).next;return ie(n)},e.wbg.__wbg_next_9dc0926f351c7090=function(){return ht(function(t){let n=B(t).next();return ie(n)},arguments)},e.wbg.__wbg_node_02999533c4ea02e3=function(t){let n=B(t).node;return ie(n)},e.wbg.__wbg_now_c893509b6d04fa0d=function(t){return B(t).now()},e.wbg.__wbg_parse_bd09af51fd7dd576=function(){return ht(function(t,n){let r=JSON.parse(Mt(t,n));return ie(r)},arguments)},e.wbg.__wbg_performance_69882c3bda965f91=function(t){let n=B(t).performance;return Je(n)?0:ie(n)},e.wbg.__wbg_process_5c1d670bc53614b8=function(t){let n=B(t).process;return ie(n)},e.wbg.__wbg_push_e7d7247e69dad3ee=function(t,n){return B(t).push(B(n))},e.wbg.__wbg_queueMicrotask_6808622725a52272=function(t){let n=B(t).queueMicrotask;return ie(n)},e.wbg.__wbg_queueMicrotask_ef0e86b0263a71ee=function(t){queueMicrotask(B(t))},e.wbg.__wbg_randomFillSync_ab2cfe79ebbf2740=function(){return ht(function(t,n){B(t).randomFillSync(pe(n))},arguments)},e.wbg.__wbg_reject_fd3a67e45841ae99=function(t){let n=Promise.reject(B(t));return ie(n)},e.wbg.__wbg_require_79b1e9274cde3c87=function(){return ht(function(){let t=module.require;return ie(t)},arguments)},e.wbg.__wbg_resolve_267ff08e7e1d2ce4=function(t){let n=Promise.resolve(B(t));return ie(n)},e.wbg.__wbg_self_cca3ca60d61220f4=function(){return ht(function(){let t=self.self;return ie(t)},arguments)},e.wbg.__wbg_set_393f510a6b7e9da5=function(t,n,r){let i=B(t).set(B(n),B(r));return ie(i)},e.wbg.__wbg_set_3f1d0b984ed272ed=function(t,n,r){B(t)[pe(n)]=pe(r)},e.wbg.__wbg_set_5deee49b10b2b780=function(t,n,r){B(t).set(B(n),r>>>0)},e.wbg.__wbg_set_93ba9407b5476ec6=function(t,n,r){B(t)[n>>>0]=pe(r)},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(t,n){let r=B(n).stack,i=Hn(r,J.__wbindgen_export_0,J.__wbindgen_export_1),a=dn;it().setInt32(t+4*1,a,!0),it().setInt32(t+4*0,i,!0)},e.wbg.__wbg_startTime_06f7b6aebc293aff=function(t){return B(t).startTime},e.wbg.__wbg_stringify_841980d1bf485619=function(){return ht(function(t){let n=JSON.stringify(B(t));return ie(n)},arguments)},e.wbg.__wbg_subarray_2dc34705c0dc7cdb=function(t,n,r){let i=B(t).subarray(n>>>0,r>>>0);return ie(i)},e.wbg.__wbg_table_new=function(t){let n=Es.__wrap(t);return ie(n)},e.wbg.__wbg_then_84907e7a6730461e=function(t,n){let r=B(t).then(B(n));return ie(r)},e.wbg.__wbg_then_db12746ab6cec3f6=function(t,n,r){let i=B(t).then(B(n),B(r));return ie(i)},e.wbg.__wbg_toString_2a965b6fc5a7e89f=function(t){let n=B(t).toString();return ie(n)},e.wbg.__wbg_trace_04e683e452168e85=function(t,n,r,i){console.trace(B(t),B(n),B(r),B(i))},e.wbg.__wbg_trace_bf1357f2a705e4dd=function(t){console.trace(B(t))},e.wbg.__wbg_value_51f8a88d4a1805fb=function(t){let n=B(t).value;return ie(n)},e.wbg.__wbg_values_9b070f5059e8183e=function(t){let n=Object.values(B(t));return ie(n)},e.wbg.__wbg_versions_c71aa1626a93e0a1=function(t){let n=B(t).versions;return ie(n)},e.wbg.__wbg_view_new=function(t){let n=pr.__wrap(t);return ie(n)},e.wbg.__wbg_view_unwrap=function(t){return pr.__unwrap(pe(t))},e.wbg.__wbg_warn_4f29d3e20ba97cd0=function(t,n,r,i){console.warn(B(t),B(n),B(r),B(i))},e.wbg.__wbg_warn_fecc8e96c5e56fb2=function(t){console.warn(B(t))},e.wbg.__wbg_window_2aba046d3fc4ad7c=function(){return ht(function(){let t=window.window;return ie(t)},arguments)},e.wbg.__wbindgen_as_number=function(t){return+B(t)},e.wbg.__wbindgen_bigint_from_i64=function(t){return ie(t)},e.wbg.__wbindgen_bigint_from_u64=function(t){let n=BigInt.asUintN(64,t);return ie(n)},e.wbg.__wbindgen_bigint_get_as_i64=function(t,n){let r=B(n),i=typeof r=="bigint"?r:void 0;it().setBigInt64(t+8*1,Je(i)?BigInt(0):i,!0),it().setInt32(t+4*0,!Je(i),!0)},e.wbg.__wbindgen_boolean_get=function(t){let n=B(t);return typeof n=="boolean"?n?1:0:2},e.wbg.__wbindgen_cb_drop=function(t){let n=pe(t).original;return n.cnt--==1?(n.a=0,!0):!1},e.wbg.__wbindgen_closure_wrapper3145=function(t,n,r){let i=xb(t,n,469,Eb);return ie(i)},e.wbg.__wbindgen_closure_wrapper372=function(t,n,r){let i=kb(t,n,4,Mb);return ie(i)},e.wbg.__wbindgen_debug_string=function(t,n){let r=Bl(B(n)),i=Hn(r,J.__wbindgen_export_0,J.__wbindgen_export_1),a=dn;it().setInt32(t+4*1,a,!0),it().setInt32(t+4*0,i,!0)},e.wbg.__wbindgen_error_new=function(t,n){let r=new Error(Mt(t,n));return ie(r)},e.wbg.__wbindgen_in=function(t,n){return B(t)in B(n)},e.wbg.__wbindgen_is_bigint=function(t){return typeof B(t)=="bigint"},e.wbg.__wbindgen_is_function=function(t){return typeof B(t)=="function"},e.wbg.__wbindgen_is_object=function(t){let n=B(t);return typeof n=="object"&&n!==null},e.wbg.__wbindgen_is_string=function(t){return typeof B(t)=="string"},e.wbg.__wbindgen_is_undefined=function(t){return B(t)===void 0},e.wbg.__wbindgen_jsval_eq=function(t,n){return B(t)===B(n)},e.wbg.__wbindgen_jsval_loose_eq=function(t,n){return B(t)==B(n)},e.wbg.__wbindgen_memory=function(){let t=J.memory;return ie(t)},e.wbg.__wbindgen_number_get=function(t,n){let r=B(n),i=typeof r=="number"?r:void 0;it().setFloat64(t+8*1,Je(i)?0:i,!0),it().setInt32(t+4*0,!Je(i),!0)},e.wbg.__wbindgen_number_new=function(t){return ie(t)},e.wbg.__wbindgen_object_clone_ref=function(t){let n=B(t);return ie(n)},e.wbg.__wbindgen_object_drop_ref=function(t){pe(t)},e.wbg.__wbindgen_string_get=function(t,n){let r=B(n),i=typeof r=="string"?r:void 0;var a=Je(i)?0:Hn(i,J.__wbindgen_export_0,J.__wbindgen_export_1),o=dn;it().setInt32(t+4*1,o,!0),it().setInt32(t+4*0,a,!0)},e.wbg.__wbindgen_string_new=function(t,n){let r=Mt(t,n);return ie(r)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(Mt(t,n))},e}function jd(e,t){return J=e.exports,Wd.__wbindgen_wasm_module=t,Wn=null,mi=null,J}function Tb(e){if(J!==void 0)return J;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));let t=Ud();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));let n=new WebAssembly.Instance(e,t);return jd(n,e)}async function Wd(e){if(J!==void 0)return J;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead"));let t=Ud();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:r}=await $b(await e,t);return jd(n,r)}var qd=Wd;function Cb(){let e,t,n=new Promise((r,i)=>{e=r,t=i});return[e,n,t]}async function Nb(e,t,n){let r,i;async function a(){if((i==null?void 0:i.readyState)===e.CONNECTING||(i==null?void 0:i.readyState)===e.OPEN){console.warn(`Already connected ${i.readyState}`);return}let[s,c,u]=Cb();i=new e(n),i.onopen=s,i.binaryType="arraybuffer",i.onerror=d=>{r.handle_error("WebSocket error",a),u("WebSocket error")},i.onclose=d=>{let f=`WebSocket closed ${d.code}`;r.handle_error(f,a),u(f)},i.onmessage=d=>{r.handle_response(d.data)},await c}async function o(s){if(i.readyState===e.CLOSING||i.readyState===e.CLOSED){let c=`WebSocket transport error (${i.readyState})`;throw r.handle_error(c,a),new Error(c)}else if(i.readyState===e.CONNECTING){let c=`WebSocket message dropped (${i.readyState})`;throw new Error(c)}else{let c=s.slice().buffer;i.send(c)}}async function l(){console.debug("Closing WebSocket"),i.close()}return r=new t(o,l),await a(),await r.init(),r}function Ob(){let e,t,n=new Promise((r,i)=>{e=r,t=i});return[e,n,t]}async function Lb(e,t){let[n,r]=Ob();e.addEventListener("message",function i(a){e.removeEventListener("message",i),n(null)}),e.onmessage=function(i){e.onmessage=function(){},n(null)},e.onmessageerror=console.error,e.postMessage({cmd:"init",args:[t]},{transfer:t instanceof WebAssembly.Module?[]:[t]}),await r}async function zb(e,t,n){let[r,i]=await Promise.all([t,n]),{Client:a}=await e,o;if(typeof SharedWorker<"u"&&i instanceof SharedWorker)o=i.port;else{i=i;let s=new MessageChannel;i.postMessage(null,[s.port2]),o=s.port1}let l=new a(async s=>{let c=s.slice().buffer;o.postMessage(c,{transfer:[c]})},async()=>{console.debug("Closing WebWorker"),o.close()});return await Lb(o,r),o.addEventListener("message",s=>{l.handle_response(s.data)}),await l.init(),l}async function Rb(e,t){let{Client:n}=await e;return await Nb(WebSocket,n,t)}if(typeof WebAssembly>"u")throw new Error("WebAssembly not supported.");async function Vb(e){return e instanceof Response?(await WebAssembly.instantiateStreaming(e)).instance.exports:e instanceof WebAssembly.Module?(await WebAssembly.instantiate(e)).exports:e instanceof WebAssembly.Instance?e.exports:e instanceof ArrayBuffer?(await WebAssembly.instantiate(e)).instance.exports:e}async function Bd(e){e instanceof Function&&(e=await e());try{let t=await Vb(e),n=t.size(),r=t.offset();return new Uint8Array(t.memory.buffer).slice(r,r+n)}catch{return console.warn("Stage 0 wasm loading failed, skipping"),new Uint8Array(e)}}var uu='"use strict";(()=>{var B=Object.defineProperty;var I=(n,t,r)=>t in n?B(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r;var d=(n,t,r)=>(I(n,typeof t!="symbol"?t+"":t,r),r);var g=class{constructor(t){d(this,"clients");d(this,"server");d(this,"module");this.clients=new Map,this.module=t,this.server=t._psp_new_server()}make_session(t){let r=this.module._psp_new_session(this.server);return this.clients.set(r,t),new h(this.module,this.server,r,this.clients)}delete(){this.module._psp_delete_server(this.server)}},h=class{constructor(t,r,a,i){this.mod=t;this.server=r;this.client_id=a;this.client_map=i}async handle_request(t){let r=await x(this.mod,t,async a=>this.mod._psp_handle_request(this.server,this.client_id,a,this.mod._psp_is_memory64()?BigInt(t.byteLength):t.byteLength));await A(this.mod,r,async a=>{await this.client_map.get(a.client_id)(a.data)})}poll(){let t=this.mod._psp_poll(this.server);A(this.mod,t,async r=>{await this.client_map.get(r.client_id)(r.data)})}close(){this.mod._psp_close_session(this.server,this.client_id)}};async function x(n,t,r){let a=n._psp_alloc(n._psp_is_memory64()?BigInt(t.byteLength):t.byteLength);n.HEAPU8.set(t,Number(a));let i=await r(a);return n._psp_free(a),i}async function A(n,t,r){let a=n._psp_is_memory64(),i=new DataView(n.HEAPU8.buffer,Number(t),a?12:8),c=i.getUint32(0,!0),l=a?i.getBigInt64(4,!0):i.getUint32(4,!0),e=new DataView(n.HEAPU8.buffer,Number(l),c*(a?16:12));try{for(let s=0;s<c;s++){let[o,p,f]=a?[e.getBigInt64(s*16,!0),e.getInt32(s*16+8,!0),e.getInt32(s*16+12,!0)]:[e.getInt32(s*12,!0),e.getInt32(s*12+4,!0),e.getInt32(s*12+8,!0)],_=new Uint8Array(n.HEAPU8.buffer,Number(o),p);await r({client_id:f,data:_})}}finally{for(let s=0;s<c;s++){let o=a?e.getBigInt64(s*16,!0):e.getInt32(s*12,!0);n._psp_free(o)}n._psp_free(a?BigInt(e.byteOffset):e.byteOffset),n._psp_free(a?BigInt(i.byteOffset):i.byteOffset)}}var H=console.log.bind(console),N=console.error.bind(console),L=new TextDecoder("utf8"),S=[null,[],[]];function j(n,t=0,r=NaN){for(var a=t+r,i=t;n[i]&&!(i>=a);)++i;return L.decode(n instanceof Uint8Array?n.subarray(t,i):new Uint8Array(n.slice(t,i)))}function P(n,t){var r=S[n];t===0||t===10?((n===1?H:N)(j(r,0)),r.length=0):r.push(t)}async function U(n){let t,r=!1,a,i={HaveOffsetConverter(){console.error("HaveOffsetConverter")},__syscall_ftruncate64(...e){console.error("__syscall_frtuncate64",e)},__syscall_getdents64(...e){console.error("__syscall_frtuncate64",e)},__syscall_unlinkat(...e){console.error("__syscall_frtuncate64",e)},__throw_exception_with_stack_trace(e){let s=new WebAssembly.Exception(t.__cpp_exception,[e],{traceStack:!0});throw s.message="Unexpected internal error",s},clock_time_get(e,s,o){if(r){if(o=o,o=Number(o),!(e==0||e==1||e==2||e==3))return 28;var p;e===0?p=Date.now():p=performance.now();let _=Math.round(p*1e3*1e3),u=new BigInt64Array(a.buffer);return u[o/8]=BigInt(_),0}else{if(o=o,o>>>=0,!(e==0||e==1||e==2||e==3))return 28;var p;e===0?p=Date.now():p=performance.now();var f=Math.round(p*1e6);let u=new BigInt64Array(a.buffer);return u[o>>>3]=BigInt(f),0}},emscripten_asm_const_int(...e){return 0},emscripten_notify_memory_growth(e){r?e=Number(e):(e=e,e>>>=0),e!=0&&console.error("abort")},environ_get(...e){return 0},environ_sizes_get(...e){return 0},fd_close(...e){return console.error("fd_close",e),0},fd_read(...e){return console.error("fd_read",e),0},fd_seek(...e){return console.error("fs_seek",e),0},fd_write(e,s,o,p){let f=new Uint8Array(a.buffer);if(r){s=Number(s),o=Number(o),p=Number(p);let _=0,u=new BigUint64Array(a.buffer);for(let y=0;y<o;y++){let v=Number(u[s/8]),b=Number(u[(s+8)/8]);s+=16;for(let m=0;m<b;m++)P(e,f[v+m]);_+=b}return u[p/8]=BigInt(_),0}else{s=s,o=o,p=p,s>>>=0,o>>>=0,p>>>=0;let _=0,u=new Uint32Array(a.buffer);for(let y=0;y<o;y++){let v=u[s>>>2>>>0],b=u[s+4>>>2>>>0];s+=8;for(let m=0;m<b;m++)P(e,f[v+m>>>0]);_+=b}return u[p>>>2>>>0]=_,0}},proc_exit(e){return console.error("proc_exit",e),0}},c=await n.instantiateWasm({env:i,wasi_snapshot_preview1:i},e=>{t=e.exports,r=!!t.psp_is_memory64(),a=e.exports.memory,t._initialize()}),l={};for(let[e,s]of Object.entries(c))l[`_${e}`]=s;return{...c,...l,get HEAPU8(){return new Uint8Array(a.buffer)}}}async function E(n){let t=await U({locateFile(r){return r},instantiateWasm:async(r,a)=>{r.env={...r.env,psp_stack_trace(){let c=Error().stack||"",e=new TextEncoder().encode(c),s=t._psp_alloc(t._psp_is_memory64()?BigInt(e.byteLength+1):e.byteLength+1);return t.HEAPU8.set(e,Number(s)),t.HEAPU8[Number(s)+e.byteLength]=0,s},psp_heap_size(){return t._psp_is_memory64()?BigInt(t.HEAPU8.buffer.byteLength):t.HEAPU8.buffer.byteLength}};let i=await WebAssembly.instantiate(n,r);return a(i.instance),i.instance.exports}});return t}var w;function M(n){let t=n.ports[0],r;t.addEventListener("message",async a=>{if(a.data.cmd==="init"){let i=a.data.id;if(!w){let c=await E(a.data.args[0]);w=new g(c)}r=w.make_session(async c=>{let l=c.slice().buffer;t.postMessage(l,{transfer:[l]})}),t.postMessage({id:i})}else r.handle_request(new Uint8Array(a.data)),setTimeout(()=>r.poll())}),t.start()}self.addEventListener("connect",M);self.addEventListener("message",M);})();\n';function fu(e,t){function n(a,o){a==="message"&&e.push(o)}function r(a){let o=e.indexOf(a);o>-1&&e.splice(o,1)}function i(a,o){for(let l of t)l({data:a,ports:o})}return{addEventListener:n,removeEventListener:r,postMessage:i,location:{href:""}}}function Db(e){console.error("Running perspective in single-threaded mode");let t=Function("const self = arguments[0];"+e),n=[],r=[];return t(fu(n,r)),fu(r,n)}var Ib=async function(){try{if(window.location.protocol.startsWith("file"))return console.warn("file:// protocol does not support Web Workers"),Db(uu);{let e=new Blob([uu],{type:"application/javascript"}),t=URL.createObjectURL(e);return new Worker(t,{type:"module"})}}catch(e){console.error("Error instantiating engine",e)}},Pb=Ib,$n;function Fb(e,t=!1){e instanceof Uint8Array?$n=Promise.resolve(e.buffer):e instanceof Response?$n=e.arrayBuffer():e instanceof Promise?$n=e.then(n=>n instanceof Response?n.arrayBuffer():n):$n=Promise.resolve(e),t||($n=$n.then(n=>Bd(n).then(r=>r.buffer)))}var Tn;async function oi(e,t=!1){let n=t?e:await Bd(e);return await qd({module_or_path:n}),await Fd(),Vd}function Ub(e,t=!1){e instanceof Uint8Array?Tn=oi(e.buffer,t):e instanceof ArrayBuffer?Tn=oi(e,t):e instanceof Response?Tn=e.arrayBuffer().then(n=>oi(n,t)):e instanceof Promise?Tn=e.then(n=>n instanceof ArrayBuffer?oi(n,t):n instanceof Response?n.arrayBuffer().then(r=>oi(r,t)):n):e instanceof Object&&(Tn=Promise.resolve(e))}function Hd(){let e=customElements.get("perspective-viewer");if(e)Tn=Promise.resolve(e.__wasm_module__);else if(Tn===void 0)throw new Error("Missing perspective-client.wasm");return Tn}function jb(){if($n===void 0)throw new Error("Missing perspective-server.wasm");return $n.then(e=>e instanceof WebAssembly.Module?e:e.slice(0))}function Wb(){return Pb()}async function qb(e){return await Rb(Hd(),e)}async function Bb(e){return typeof e>"u"&&(e=Wb()),await zb(Hd(),jb(),e)}var Hl={websocket:qb,worker:Bb,init_client:Ub,init_server:Fb},Hb=Object.defineProperty,Yb=(e,t)=>{for(var n in t)Hb(e,n,{get:t[n],enumerable:!0})},Yd={};Yb(Yd,{Client:()=>vo,ColumnDropDownElement:()=>um,CopyDropDownMenuElement:()=>fm,ExportDropDownMenuElement:()=>dm,FilterDropDownElement:()=>_m,FunctionDropDownElement:()=>pm,PerspectiveDebugPluginElement:()=>bm,PerspectiveViewerElement:()=>Di,ProxySession:()=>$s,Table:()=>Ts,View:()=>qt,default:()=>eh,init:()=>Qd,initSync:()=>wm,registerPlugin:()=>nm});var du=class extends Error{},Xb=window.ClipboardItem,Gb=window.IntersectionObserver,Qb=window.ResizeObserver;function Kb(e,t,n,r){let i=e[n],a=i.prototype;class o extends HTMLElement{constructor(){super(),this._instance=new i(this)}}let l=Object.getOwnPropertyNames(a);for(let s of l)"get"in Object.getOwnPropertyDescriptor(a,s)?Object.defineProperty(o.prototype,s,{get:function(){return this._instance[s]}}):Object.defineProperty(o.prototype,s,{value:function(...c){return this._instance[s].call(this._instance,...c)}});for(let s of r)Object.defineProperty(o,s,{value:function(...c){return e[s].call(e,...c)}});Object.defineProperty(o,"__wasm_module__",{get(){return e}}),customElements.define(t,o)}var T,Tt=new Array(128).fill(void 0);Tt.push(void 0,null,!0,!1);function v(e){return Tt[e]}var Ue=0,wi=null;function za(){return(wi===null||wi.byteLength===0)&&(wi=new Uint8Array(T.memory.buffer)),wi}var Xd=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Jb=function(e,t){return Xd.encodeInto(e,t)};function Xe(e,t,n){if(n===void 0){let l=Xd.encode(e),s=t(l.length,1)>>>0;return za().subarray(s,s+l.length).set(l),Ue=l.length,s}let r=e.length,i=t(r,1)>>>0,a=za(),o=0;for(;o<r;o++){let l=e.charCodeAt(o);if(l>127)break;a[i+o]=l}if(o!==r){o!==0&&(e=e.slice(o)),i=n(i,r,r=o+e.length*3,1)>>>0;let l=za().subarray(i+o,i+r);o+=Jb(e,l).written,i=n(i,r,o,1)>>>0}return Ue=o,i}var qn=null;function he(){return(qn===null||qn.buffer.detached===!0||qn.buffer.detached===void 0&&qn.buffer!==T.memory.buffer)&&(qn=new DataView(T.memory.buffer)),qn}function ge(e){return e==null}var $i=Tt.length;function P(e){$i===Tt.length&&Tt.push(Tt.length+1);let t=$i;return $i=Tt[t],Tt[t]=e,t}var Gd=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Gd.decode();function we(e,t){return e=e>>>0,Gd.decode(za().subarray(e,e+t))}function de(e,t){try{return e.apply(this,t)}catch(n){T.__wbindgen_export_2(P(n))}}function Zb(e){e<132||(Tt[e]=$i,$i=e)}function te(e){let t=v(e);return Zb(e),t}function em(e,t){e=e>>>0;let n=he(),r=[];for(let i=e;i<e+4*t;i+=4)r.push(te(n.getUint32(i,!0)));return r}var qa=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{T.__wbindgen_export_4.get(e.dtor)(e.a,e.b)});function wa(e,t,n,r){let i={a:e,b:t,cnt:1,dtor:n},a=(...o)=>{i.cnt++;try{return r(i.a,i.b,...o)}finally{--i.cnt===0&&(T.__wbindgen_export_4.get(i.dtor)(i.a,i.b),i.a=0,qa.unregister(i))}};return a.original=i,qa.register(a,i,i),a}function li(e,t,n,r){let i={a:e,b:t,cnt:1,dtor:n},a=(...o)=>{i.cnt++;let l=i.a;i.a=0;try{return r(l,i.b,...o)}finally{--i.cnt===0?(T.__wbindgen_export_4.get(i.dtor)(l,i.b),qa.unregister(i)):i.a=l}};return a.original=i,qa.register(a,i,i),a}function Yl(e){let t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){let i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){let i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){let i=e.length,a="[";i>0&&(a+=Yl(e[0]));for(let o=1;o<i;o++)a+=", "+Yl(e[o]);return a+="]",a}let n=/\[object ([^\]]+)\]/.exec(toString.call(e)),r;if(n&&n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function Vi(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}function tm(e,t){let n=t(e.length*4,4)>>>0,r=he();for(let i=0;i<e.length;i++)r.setUint32(n+4*i,P(e[i]),!0);return Ue=e.length,n}function nm(e){let t=Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue;T.registerPlugin(t,n)}function Qd(){T.init()}var br=128;function As(e){if(br==1)throw new Error("out of js stack");return Tt[--br]=e,br}function hu(e,t,n){T.__wbindgen_export_5(e,t,P(n))}function rm(e,t){try{let i=T.__wbindgen_add_to_stack_pointer(-16);T.__wbindgen_export_6(i,e,t);var n=he().getInt32(i+4*0,!0),r=he().getInt32(i+4*1,!0);if(r)throw te(n)}finally{T.__wbindgen_add_to_stack_pointer(16)}}function _u(e,t,n){T.__wbindgen_export_7(e,t,P(n))}function im(e,t){let n=T.__wbindgen_export_8(e,t);return te(n)}function am(e,t,n){try{T.__wbindgen_export_9(e,t,As(n))}finally{Tt[br++]=void 0}}function om(e,t){T.__wbindgen_export_10(e,t)}function lm(e,t,n){T.__wbindgen_export_11(e,t,P(n))}function sm(e,t,n,r){T.__wbindgen_export_12(e,t,P(n),P(r))}var pl=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_client_free(e>>>0,1)),vo=class{static __wrap(e){e=e>>>0;let t=Object.create(vo.prototype);return t.__wbg_ptr=e,pl.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,pl.unregister(this),e}free(){let e=this.__destroy_into_raw();T.__wbg_client_free(e,0)}__getClassname(){let e,t;try{let i=T.__wbindgen_add_to_stack_pointer(-16);T.client___getClassname(i,this.__wbg_ptr);var n=he().getInt32(i+4*0,!0),r=he().getInt32(i+4*1,!0);return e=n,t=r,we(n,r)}finally{T.__wbindgen_add_to_stack_pointer(16),T.__wbindgen_export_3(e,t,1)}}constructor(e,t){let n=T.client_new(P(e),ge(t)?0:P(t));return this.__wbg_ptr=n>>>0,pl.register(this,this.__wbg_ptr,this),this}new_proxy_session(e){try{let t=T.client_new_proxy_session(this.__wbg_ptr,As(e));return $s.__wrap(t)}finally{Tt[br++]=void 0}}init(){let e=T.client_init(this.__wbg_ptr);return te(e)}handle_response(e){let t=T.client_handle_response(this.__wbg_ptr,P(e));return te(t)}handle_error(e,t){var n=ge(e)?0:Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),r=Ue;let i=T.client_handle_error(this.__wbg_ptr,n,r,ge(t)?0:P(t));return te(i)}on_error(e){let t=T.client_on_error(this.__wbg_ptr,P(e));return te(t)}table(e,t){let n=T.client_table(this.__wbg_ptr,P(e),ge(t)?0:P(t));return te(n)}terminate(){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.client_terminate(r,this.__wbg_ptr);var e=he().getInt32(r+4*0,!0),t=he().getInt32(r+4*1,!0),n=he().getInt32(r+4*2,!0);if(n)throw te(t);return te(e)}finally{T.__wbindgen_add_to_stack_pointer(16)}}open_table(e){let t=Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue,r=T.client_open_table(this.__wbg_ptr,t,n);return te(r)}get_hosted_table_names(){let e=T.client_get_hosted_table_names(this.__wbg_ptr);return te(e)}on_hosted_tables_update(e){let t=T.client_on_hosted_tables_update(this.__wbg_ptr,P(e));return te(t)}remove_hosted_tables_update(e){let t=T.client_remove_hosted_tables_update(this.__wbg_ptr,e);return te(t)}system_info(){let e=T.client_system_info(this.__wbg_ptr);return te(e)}},cm=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_columndropdownelement_free(e>>>0,1)),um=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,cm.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_columndropdownelement_free(t,0)}},gu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_copydropdownmenuelement_free(e>>>0,1)),fm=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,gu.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_copydropdownmenuelement_free(t,0)}constructor(t){let n=T.copydropdownmenuelement_new(P(t));return this.__wbg_ptr=n>>>0,gu.register(this,this.__wbg_ptr,this),this}open(t){T.copydropdownmenuelement_open(this.__wbg_ptr,P(t))}hide(){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.copydropdownmenuelement_hide(r,this.__wbg_ptr);var t=he().getInt32(r+4*0,!0),n=he().getInt32(r+4*1,!0);if(n)throw te(t)}finally{T.__wbindgen_add_to_stack_pointer(16)}}set_model(t){Vi(t,Di),T.copydropdownmenuelement_set_model(this.__wbg_ptr,t.__wbg_ptr)}connected_callback(){T.copydropdownmenuelement_connected_callback(this.__wbg_ptr)}},pu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_exportdropdownmenuelement_free(e>>>0,1)),dm=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,pu.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_exportdropdownmenuelement_free(t,0)}constructor(t){let n=T.copydropdownmenuelement_new(P(t));return this.__wbg_ptr=n>>>0,pu.register(this,this.__wbg_ptr,this),this}open(t){T.exportdropdownmenuelement_open(this.__wbg_ptr,P(t))}hide(){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.exportdropdownmenuelement_hide(r,this.__wbg_ptr);var t=he().getInt32(r+4*0,!0),n=he().getInt32(r+4*1,!0);if(n)throw te(t)}finally{T.__wbindgen_add_to_stack_pointer(16)}}set_model(t){Vi(t,Di),T.exportdropdownmenuelement_set_model(this.__wbg_ptr,t.__wbg_ptr)}connected_callback(){T.copydropdownmenuelement_connected_callback(this.__wbg_ptr)}},hm=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_filterdropdownelement_free(e>>>0,1)),_m=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,hm.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_filterdropdownelement_free(t,0)}},gm=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_functiondropdownelement_free(e>>>0,1)),pm=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,gm.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_functiondropdownelement_free(t,0)}},bu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_perspectivedebugpluginelement_free(e>>>0,1)),bm=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,bu.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_perspectivedebugpluginelement_free(t,0)}constructor(t){let n=T.perspectivedebugpluginelement_new(P(t));return this.__wbg_ptr=n>>>0,bu.register(this,this.__wbg_ptr,this),this}get name(){let t,n;try{let a=T.__wbindgen_add_to_stack_pointer(-16);T.perspectivedebugpluginelement_name(a,this.__wbg_ptr);var r=he().getInt32(a+4*0,!0),i=he().getInt32(a+4*1,!0);return t=r,n=i,we(r,i)}finally{T.__wbindgen_add_to_stack_pointer(16),T.__wbindgen_export_3(t,n,1)}}get select_mode(){let t,n;try{let a=T.__wbindgen_add_to_stack_pointer(-16);T.perspectivedebugpluginelement_select_mode(a,this.__wbg_ptr);var r=he().getInt32(a+4*0,!0),i=he().getInt32(a+4*1,!0);return t=r,n=i,we(r,i)}finally{T.__wbindgen_add_to_stack_pointer(16),T.__wbindgen_export_3(t,n,1)}}get min_config_columns(){let t=T.perspectivedebugpluginelement_config_column_names(this.__wbg_ptr);return te(t)}get config_column_names(){let t=T.perspectivedebugpluginelement_config_column_names(this.__wbg_ptr);return te(t)}update(t){Vi(t,qt);let n=T.perspectivedebugpluginelement_draw(this.__wbg_ptr,t.__wbg_ptr);return te(n)}draw(t){Vi(t,qt);let n=T.perspectivedebugpluginelement_draw(this.__wbg_ptr,t.__wbg_ptr);return te(n)}clear(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return te(t)}resize(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return te(t)}restyle(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return te(t)}save(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return te(t)}restore(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return te(t)}delete(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return te(t)}connectedCallback(){T.perspectivedebugpluginelement_connectedCallback(this.__wbg_ptr)}},bl=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_perspectiveviewerelement_free(e>>>0,1)),Di=class{static __wrap(e){e=e>>>0;let t=Object.create(Di.prototype);return t.__wbg_ptr=e,bl.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,bl.unregister(this),e}free(){let e=this.__destroy_into_raw();T.__wbg_perspectiveviewerelement_free(e,0)}constructor(e){let t=T.perspectiveviewerelement_new(P(e));return this.__wbg_ptr=t>>>0,bl.register(this,this.__wbg_ptr,this),this}connectedCallback(){T.perspectiveviewerelement_connectedCallback(this.__wbg_ptr)}load(e){let t=T.perspectiveviewerelement_load(this.__wbg_ptr,P(e));return te(t)}delete(){let e=T.perspectiveviewerelement_delete(this.__wbg_ptr);return te(e)}getView(){let e=T.perspectiveviewerelement_getView(this.__wbg_ptr);return te(e)}getTable(e){let t=T.perspectiveviewerelement_getTable(this.__wbg_ptr,ge(e)?16777215:e?1:0);return te(t)}getRenderStats(){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.perspectiveviewerelement_getRenderStats(r,this.__wbg_ptr);var e=he().getInt32(r+4*0,!0),t=he().getInt32(r+4*1,!0),n=he().getInt32(r+4*2,!0);if(n)throw te(t);return te(e)}finally{T.__wbindgen_add_to_stack_pointer(16)}}flush(){let e=T.perspectiveviewerelement_flush(this.__wbg_ptr);return te(e)}restore(e){let t=T.perspectiveviewerelement_restore(this.__wbg_ptr,P(e));return te(t)}resetError(){let e=T.perspectiveviewerelement_resetError(this.__wbg_ptr);return te(e)}save(e){var t=ge(e)?0:Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue;let r=T.perspectiveviewerelement_save(this.__wbg_ptr,t,n);return te(r)}download(e){let t=T.perspectiveviewerelement_download(this.__wbg_ptr,ge(e)?16777215:e?1:0);return te(t)}copy(e){let t=T.perspectiveviewerelement_copy(this.__wbg_ptr,ge(e)?0:P(e));return te(t)}reset(e){let t=T.perspectiveviewerelement_reset(this.__wbg_ptr,ge(e)?16777215:e?1:0);return te(t)}resize(e){let t=T.perspectiveviewerelement_resize(this.__wbg_ptr,ge(e)?16777215:e?1:0);return te(t)}setAutoSize(e){T.perspectiveviewerelement_setAutoSize(this.__wbg_ptr,e)}setAutoPause(e){T.perspectiveviewerelement_setAutoPause(this.__wbg_ptr,e)}getSelection(){let e=T.perspectiveviewerelement_getSelection(this.__wbg_ptr);return te(e)}setSelection(e){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.perspectiveviewerelement_setSelection(r,this.__wbg_ptr,ge(e)?0:P(e));var t=he().getInt32(r+4*0,!0),n=he().getInt32(r+4*1,!0);if(n)throw te(t)}finally{T.__wbindgen_add_to_stack_pointer(16)}}getEditPort(){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.perspectiveviewerelement_getEditPort(r,this.__wbg_ptr);var e=he().getFloat64(r+8*0,!0),t=he().getInt32(r+4*2,!0),n=he().getInt32(r+4*3,!0);if(n)throw te(t);return e}finally{T.__wbindgen_add_to_stack_pointer(16)}}restyleElement(){let e=T.perspectiveviewerelement_restyleElement(this.__wbg_ptr);return te(e)}resetThemes(e){var t=ge(e)?0:tm(e,T.__wbindgen_export_0),n=Ue;let r=T.perspectiveviewerelement_resetThemes(this.__wbg_ptr,t,n);return te(r)}setThrottle(e){T.perspectiveviewerelement_setThrottle(this.__wbg_ptr,!ge(e),ge(e)?0:e)}toggleConfig(e){let t=T.perspectiveviewerelement_toggleConfig(this.__wbg_ptr,ge(e)?16777215:e?1:0);return te(t)}getAllPlugins(){let e=T.perspectiveviewerelement_getAllPlugins(this.__wbg_ptr);return te(e)}getPlugin(e){try{let o=T.__wbindgen_add_to_stack_pointer(-16);var t=ge(e)?0:Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue;T.perspectiveviewerelement_getPlugin(o,this.__wbg_ptr,t,n);var r=he().getInt32(o+4*0,!0),i=he().getInt32(o+4*1,!0),a=he().getInt32(o+4*2,!0);if(a)throw te(i);return te(r)}finally{T.__wbindgen_add_to_stack_pointer(16)}}get_model(){let e=T.perspectiveviewerelement_get_model(this.__wbg_ptr);return Di.__wrap(e)}toggleColumnSettings(e){let t=Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue,r=T.perspectiveviewerelement_toggleColumnSettings(this.__wbg_ptr,t,n);return te(r)}openColumnSettings(e,t){var n=ge(e)?0:Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),r=Ue;let i=T.perspectiveviewerelement_openColumnSettings(this.__wbg_ptr,n,r,ge(t)?16777215:t?1:0);return te(i)}},ml=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_proxysession_free(e>>>0,1)),$s=class{static __wrap(t){t=t>>>0;let n=Object.create($s.prototype);return n.__wbg_ptr=t,ml.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,ml.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_proxysession_free(t,0)}constructor(t,n){try{Vi(t,vo);let r=T.client_new_proxy_session(t.__wbg_ptr,As(n));return this.__wbg_ptr=r>>>0,ml.register(this,this.__wbg_ptr,this),this}finally{Tt[br++]=void 0}}handle_request(t){let n=T.proxysession_handle_request(this.__wbg_ptr,P(t));return te(n)}poll(){let t=T.proxysession_poll(this.__wbg_ptr);return te(t)}close(){let t=this.__destroy_into_raw(),n=T.proxysession_close(t);return te(n)}},mu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_table_free(e>>>0,1)),Ts=class{static __wrap(t){t=t>>>0;let n=Object.create(Ts.prototype);return n.__wbg_ptr=t,mu.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,mu.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_table_free(t,0)}__getClassname(){let t,n;try{let a=T.__wbindgen_add_to_stack_pointer(-16);T.table___getClassname(a,this.__wbg_ptr);var r=he().getInt32(a+4*0,!0),i=he().getInt32(a+4*1,!0);return t=r,n=i,we(r,i)}finally{T.__wbindgen_add_to_stack_pointer(16),T.__wbindgen_export_3(t,n,1)}}get_index(){let t=T.table_get_index(this.__wbg_ptr);return te(t)}get_client(){let t=T.table_get_client(this.__wbg_ptr);return te(t)}get_name(){let t=T.table_get_name(this.__wbg_ptr);return te(t)}get_limit(){let t=T.table_get_limit(this.__wbg_ptr);return te(t)}clear(){let t=T.table_clear(this.__wbg_ptr);return te(t)}delete(){let t=T.table_delete(this.__wbg_ptr);return te(t)}size(){let t=T.table_size(this.__wbg_ptr);return te(t)}schema(){let t=T.table_schema(this.__wbg_ptr);return te(t)}columns(){let t=T.table_columns(this.__wbg_ptr);return te(t)}make_port(){let t=T.table_make_port(this.__wbg_ptr);return te(t)}on_delete(t){let n=T.table_on_delete(this.__wbg_ptr,P(t));return te(n)}remove_delete(t){let n=T.table_remove_delete(this.__wbg_ptr,t);return te(n)}remove(t,n){let r=T.table_remove(this.__wbg_ptr,P(t),ge(n)?0:P(n));return te(r)}replace(t,n){let r=T.table_replace(this.__wbg_ptr,P(t),ge(n)?0:P(n));return te(r)}update(t,n){let r=T.table_update(this.__wbg_ptr,P(t),ge(n)?0:P(n));return te(r)}view(t){let n=T.table_view(this.__wbg_ptr,ge(t)?0:P(t));return te(n)}validate_expressions(t){let n=T.table_validate_expressions(this.__wbg_ptr,P(t));return te(n)}},wu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_view_free(e>>>0,1)),qt=class{static __wrap(e){e=e>>>0;let t=Object.create(qt.prototype);return t.__wbg_ptr=e,wu.register(t,t.__wbg_ptr,t),t}static __unwrap(e){return e instanceof qt?e.__destroy_into_raw():0}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,wu.unregister(this),e}free(){let e=this.__destroy_into_raw();T.__wbg_view_free(e,0)}__get_model(){let e=T.view___get_model(this.__wbg_ptr);return qt.__wrap(e)}column_paths(){let e=T.view_column_paths(this.__wbg_ptr);return te(e)}delete(){let e=T.view_delete(this.__wbg_ptr);return te(e)}dimensions(){let e=T.view_dimensions(this.__wbg_ptr);return te(e)}expression_schema(){let e=T.view_expression_schema(this.__wbg_ptr);return te(e)}get_config(){let e=T.view_get_config(this.__wbg_ptr);return te(e)}get_min_max(e){let t=Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue,r=T.view_get_min_max(this.__wbg_ptr,t,n);return te(r)}num_rows(){let e=T.view_num_rows(this.__wbg_ptr);return te(e)}schema(){let e=T.view_schema(this.__wbg_ptr);return te(e)}to_arrow(e){let t=T.view_to_arrow(this.__wbg_ptr,ge(e)?0:P(e));return te(t)}to_columns_string(e){let t=T.view_to_columns_string(this.__wbg_ptr,ge(e)?0:P(e));return te(t)}to_columns(e){let t=T.view_to_columns(this.__wbg_ptr,ge(e)?0:P(e));return te(t)}to_json_string(e){let t=T.view_to_json_string(this.__wbg_ptr,ge(e)?0:P(e));return te(t)}to_json(e){let t=T.view_to_json(this.__wbg_ptr,ge(e)?0:P(e));return te(t)}to_ndjson(e){let t=T.view_to_ndjson(this.__wbg_ptr,ge(e)?0:P(e));return te(t)}to_csv(e){let t=T.view_to_csv(this.__wbg_ptr,ge(e)?0:P(e));return te(t)}on_update(e,t){let n=T.view_on_update(this.__wbg_ptr,P(e),ge(t)?0:P(t));return te(n)}remove_update(e){let t=T.view_remove_update(this.__wbg_ptr,e);return te(t)}on_delete(e){let t=T.view_on_delete(this.__wbg_ptr,P(e));return te(t)}num_columns(){let e=T.view_num_columns(this.__wbg_ptr);return te(e)}remove_delete(e){let t=T.view_remove_delete(this.__wbg_ptr,e);return te(t)}collapse(e){let t=T.view_collapse(this.__wbg_ptr,e);return te(t)}expand(e){let t=T.view_expand(this.__wbg_ptr,e);return te(t)}set_depth(e){let t=T.view_set_depth(this.__wbg_ptr,e);return te(t)}};async function mm(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Kd(){let e={};return e.wbg={},e.wbg.__wbg_String_8f0eb39a4a4c2f66=function(t,n){let r=String(v(n)),i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_activeElement_269d90df98fa48af=function(t){let n=v(t).activeElement;return ge(n)?0:P(n)},e.wbg.__wbg_addEventListener_086f56364d0f5f32=function(){return de(function(t,n,r,i,a){v(t).addEventListener(we(n,r),v(i),v(a))},arguments)},e.wbg.__wbg_addEventListener_435e8c1f21f457b2=function(){return de(function(t,n,r,i){v(t).addEventListener(we(n,r),v(i))},arguments)},e.wbg.__wbg_add_8b20bdf6a0133c8d=function(){return de(function(t,n){v(t).add(...v(n))},arguments)},e.wbg.__wbg_add_ad1d1783e738a5e9=function(){return de(function(t,n,r){v(t).add(we(n,r))},arguments)},e.wbg.__wbg_appendChild_7c5825d692053033=function(){return de(function(t,n){let r=v(t).appendChild(v(n));return P(r)},arguments)},e.wbg.__wbg_apply_9bb7fe8fff013a3f=function(){return de(function(t,n,r){let i=Reflect.apply(v(t),v(n),v(r));return P(i)},arguments)},e.wbg.__wbg_at_1abf0efc31a7fc6e=function(t,n){let r=v(t).at(n);return P(r)},e.wbg.__wbg_attachShadow_ca706fa989deead3=function(){return de(function(t,n){let r=v(t).attachShadow(v(n));return P(r)},arguments)},e.wbg.__wbg_blur_d1200a579e3ccf9a=function(){return de(function(t){v(t).blur()},arguments)},e.wbg.__wbg_body_a988e82424f68da9=function(t){let n=v(t).body;return ge(n)?0:P(n)},e.wbg.__wbg_bootstrap_8c31dbe7accb28b1=function(t,n,r,i,a,o){let l=Kb(v(t),we(n,r),we(i,a),te(o));return P(l)},e.wbg.__wbg_bubbles_7b5f623fa401eb0d=function(t){return v(t).bubbles},e.wbg.__wbg_buffer_bacd7706db793204=function(t){let n=v(t).buffer;return P(n)},e.wbg.__wbg_buffer_ef9774282e5dab94=function(t){let n=v(t).buffer;return P(n)},e.wbg.__wbg_button_cf393fc0a7773ee4=function(t){return v(t).button},e.wbg.__wbg_byteLength_d52de988f95295b2=function(t){return v(t).byteLength},e.wbg.__wbg_byteOffset_7fca107d7d193694=function(t){return v(t).byteOffset},e.wbg.__wbg_cachekey_57601dac16343711=function(t){let n=v(t).__yew_subtree_cache_key;return ge(n)?4294967297:n>>>0},e.wbg.__wbg_call_0ad083564791763a=function(){return de(function(t,n){let r=v(t).call(v(n));return P(r)},arguments)},e.wbg.__wbg_call_a34b6b4765f27be0=function(){return de(function(t,n,r){let i=v(t).call(v(n),v(r));return P(i)},arguments)},e.wbg.__wbg_call_efe5a4db7065d1a2=function(){return de(function(t,n,r,i){let a=v(t).call(v(n),v(r),v(i));return P(a)},arguments)},e.wbg.__wbg_cancelBubble_65c441507f8e665c=function(t){return v(t).cancelBubble},e.wbg.__wbg_canrendercolumnstyles_f931e4384ae99a9b=function(){return de(function(t,n,r,i,a){return v(t).can_render_column_styles(we(n,r),i===0?void 0:we(i,a))},arguments)},e.wbg.__wbg_category_83e61dd5804964b3=function(t,n){let r=v(n).category;var i=ge(r)?0:Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_checked_e73ad150b9e38836=function(t){return v(t).checked},e.wbg.__wbg_childNodes_03488c474413d1aa=function(t){let n=v(t).childNodes;return P(n)},e.wbg.__wbg_children_f2103fad05de8500=function(t){let n=v(t).children;return P(n)},e.wbg.__wbg_classList_416e8612217ee162=function(t){let n=v(t).classList;return P(n)},e.wbg.__wbg_click_5c8cca1c6a10688c=function(t){v(t).click()},e.wbg.__wbg_clientHeight_64024d24c91afc9c=function(t){return v(t).clientHeight},e.wbg.__wbg_clientWidth_56ad62b4cfb4eb50=function(t){return v(t).clientWidth},e.wbg.__wbg_clientX_3a92ca49f9e276d1=function(t){return v(t).clientX},e.wbg.__wbg_clientY_8cf1e863a2e20fba=function(t){return v(t).clientY},e.wbg.__wbg_client_new=function(t){let n=vo.__wrap(t);return P(n)},e.wbg.__wbg_clipboard_87e941cdb1e85669=function(t){let n=v(t).clipboard;return ge(n)?0:P(n)},e.wbg.__wbg_cloneNode_007df7834aaa05c7=function(){return de(function(t,n){let r=v(t).cloneNode(n!==0);return P(r)},arguments)},e.wbg.__wbg_cloneNode_953136fba5daff6c=function(){return de(function(t){let n=v(t).cloneNode();return P(n)},arguments)},e.wbg.__wbg_columnstylecontrols_a71cb34b8676ea03=function(){return de(function(t,n,r,i,a){let o=v(t).column_style_controls(we(n,r),i===0?void 0:we(i,a));return P(o)},arguments)},e.wbg.__wbg_composedPath_2bc173ac38e0a20e=function(t){let n=v(t).composedPath();return P(n)},e.wbg.__wbg_configcolumnnames_4c34aa4d47a45f98=function(t){let n=v(t).config_column_names;return ge(n)?0:P(n)},e.wbg.__wbg_contains_c317a65dc27794f3=function(t,n){return v(t).contains(v(n))},e.wbg.__wbg_contentRect_5eb8e05316bb4b7e=function(t){let n=v(t).contentRect;return P(n)},e.wbg.__wbg_createElementNS_76b20f860b18ad4e=function(){return de(function(t,n,r,i,a){let o=v(t).createElementNS(n===0?void 0:we(n,r),we(i,a));return P(o)},arguments)},e.wbg.__wbg_createElement_32c287e69e603e7e=function(){return de(function(t,n,r){let i=v(t).createElement(we(n,r));return P(i)},arguments)},e.wbg.__wbg_createObjectURL_79d470fef236d558=function(){return de(function(t,n){let r=URL.createObjectURL(v(n)),i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},arguments)},e.wbg.__wbg_createTextNode_42cc1e035e528436=function(t,n,r){let i=v(t).createTextNode(we(n,r));return P(i)},e.wbg.__wbg_crypto_ed58b8e10a292839=function(t){let n=v(t).crypto;return P(n)},e.wbg.__wbg_cssRules_ccbd5a21d1b3a12b=function(){return de(function(t){let n=v(t).cssRules;return P(n)},arguments)},e.wbg.__wbg_dataTransfer_0dfb0466f6be620c=function(t){let n=v(t).dataTransfer;return ge(n)?0:P(n)},e.wbg.__wbg_dataset_9555caf70b9cb0c1=function(t){let n=v(t).dataset;return P(n)},e.wbg.__wbg_debug_338493c12960e4a7=function(t){console.debug(v(t))},e.wbg.__wbg_debug_f201c091a5d2019b=function(t,n,r,i){console.debug(v(t),v(n),v(r),v(i))},e.wbg.__wbg_delete_70d7e592a3a49c16=function(t,n,r){delete v(t)[we(n,r)]},e.wbg.__wbg_delete_e6279f488e1641b1=function(t){v(t).delete()},e.wbg.__wbg_dispatchEvent_68c6f2105f6be0f6=function(){return de(function(t,n){return v(t).dispatchEvent(v(n))},arguments)},e.wbg.__wbg_document_da63b92bac45c6f9=function(t){let n=v(t).document;return ge(n)?0:P(n)},e.wbg.__wbg_done_f4c254830a095eaf=function(t){return v(t).done},e.wbg.__wbg_draw_5b859f46a578c236=function(){return de(function(t,n,r,i,a){let o=v(t).draw(qt.__wrap(n),r===4294967297?void 0:r,i===4294967297?void 0:i,a!==0);return P(o)},arguments)},e.wbg.__wbg_entries_83beb641792ccb9c=function(t){let n=Object.entries(v(t));return P(n)},e.wbg.__wbg_error_3c7d958458bf649b=function(t,n){var r=em(t,n).slice();T.__wbindgen_export_3(t,n*4,4),console.error(...r)},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(t,n){let r,i;try{r=t,i=n,console.error(we(t,n))}finally{T.__wbindgen_export_3(r,i,1)}},e.wbg.__wbg_error_852b114509bed301=function(t){console.error(v(t))},e.wbg.__wbg_error_94252a8e90b35b8e=function(t,n,r,i){console.error(v(t),v(n),v(r),v(i))},e.wbg.__wbg_error_afd05d3fc1f414ce=function(t,n){console.error(v(t),v(n))},e.wbg.__wbg_family_df8406822a165a00=function(t,n){let r=v(n).family,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_focus_4118597a9430279f=function(){return de(function(t){v(t).focus()},arguments)},e.wbg.__wbg_fonts_5e9775f930f6db58=function(t){let n=v(t).fonts;return P(n)},e.wbg.__wbg_format_dd85a05737f53b26=function(t){let n=v(t).format;return P(n)},e.wbg.__wbg_from_3aa0fcaa8eef0104=function(t){let n=Array.from(v(t));return P(n)},e.wbg.__wbg_getAttribute_8ea59c069aa8c40f=function(t,n,r,i){let a=v(n).getAttribute(we(r,i));var o=ge(a)?0:Xe(a,T.__wbindgen_export_0,T.__wbindgen_export_1),l=Ue;he().setInt32(t+4*1,l,!0),he().setInt32(t+4*0,o,!0)},e.wbg.__wbg_getBoundingClientRect_d38f67f3e23939f4=function(t){let n=v(t).getBoundingClientRect();return P(n)},e.wbg.__wbg_getComputedStyle_bd01b85926809933=function(){return de(function(t,n){let r=v(t).getComputedStyle(v(n));return ge(r)?0:P(r)},arguments)},e.wbg.__wbg_getEntriesByName_6fb8ccc67553373f=function(t,n,r,i,a){let o=v(t).getEntriesByName(we(n,r),we(i,a));return P(o)},e.wbg.__wbg_getPropertyValue_b51d619f0b96c87f=function(){return de(function(t,n,r,i){let a=v(n).getPropertyValue(we(r,i)),o=Xe(a,T.__wbindgen_export_0,T.__wbindgen_export_1),l=Ue;he().setInt32(t+4*1,l,!0),he().setInt32(t+4*0,o,!0)},arguments)},e.wbg.__wbg_getRandomValues_bcb4912f16000dc4=function(){return de(function(t,n){v(t).getRandomValues(v(n))},arguments)},e.wbg.__wbg_getRootNode_440e85dffade7eea=function(t){let n=v(t).getRootNode();return P(n)},e.wbg.__wbg_getTimezoneOffset_6c191e41297e5a8e=function(t){return v(t).getTimezoneOffset()},e.wbg.__wbg_get_0c3cc364764a0b98=function(t,n){let r=v(t)[n>>>0];return P(r)},e.wbg.__wbg_get_0c9db6b3aed90006=function(t,n,r,i){let a=v(n)[we(r,i)];var o=ge(a)?0:Xe(a,T.__wbindgen_export_0,T.__wbindgen_export_1),l=Ue;he().setInt32(t+4*1,l,!0),he().setInt32(t+4*0,o,!0)},e.wbg.__wbg_get_977cbaa63dc20090=function(t,n,r){let i=v(t)[we(n,r)];return ge(i)?0:P(i)},e.wbg.__wbg_get_b996a12be035ef4f=function(){return de(function(t,n){let r=Reflect.get(v(t),v(n));return P(r)},arguments)},e.wbg.__wbg_getwithindex_bc07b6cede524990=function(t,n){let r=v(t)[n>>>0];return ge(r)?0:P(r)},e.wbg.__wbg_getwithrefkey_1dc361bd10053bfe=function(t,n){let r=v(t)[v(n)];return P(r)},e.wbg.__wbg_globalThis_6b4d52a0b6aaeaea=function(){return de(function(){let t=globalThis.globalThis;return P(t)},arguments)},e.wbg.__wbg_global_49324ce12193de77=function(){return de(function(){let t=global.global;return P(t)},arguments)},e.wbg.__wbg_hasAttribute_ca243798c4c52fb7=function(t,n,r){return v(t).hasAttribute(we(n,r))},e.wbg.__wbg_has_bdec43a5ed4cb454=function(){return de(function(t,n){return Reflect.has(v(t),v(n))},arguments)},e.wbg.__wbg_height_3adc8837b185fd29=function(t){return v(t).height},e.wbg.__wbg_height_62d7d52d37fd0599=function(t){return v(t).height},e.wbg.__wbg_host_407669ea45f72362=function(t){let n=v(t).host;return P(n)},e.wbg.__wbg_info_493696cc38ae1ad0=function(t,n,r,i){console.info(v(t),v(n),v(r),v(i))},e.wbg.__wbg_info_6c1abe3d4e1ae962=function(t){console.info(v(t))},e.wbg.__wbg_innerHeight_fb3ea713a47ae687=function(){return de(function(t){let n=v(t).innerHeight;return P(n)},arguments)},e.wbg.__wbg_innerWidth_8d8ddfaffc5a3230=function(){return de(function(t){let n=v(t).innerWidth;return P(n)},arguments)},e.wbg.__wbg_insertBefore_332a5bd77aff0101=function(){return de(function(t,n,r){let i=v(t).insertBefore(v(n),v(r));return P(i)},arguments)},e.wbg.__wbg_instanceof_ArrayBuffer_ff40e55b5978e215=function(t){let n;try{n=v(t)instanceof ArrayBuffer}catch{n=!1}return n},e.wbg.__wbg_instanceof_Array_23bc22ecdd4608e6=function(t){let n;try{n=v(t)instanceof Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_CssStyleRule_834b6a5dc7cf5b86=function(t){let n;try{n=v(t)instanceof CSSStyleRule}catch{n=!1}return n},e.wbg.__wbg_instanceof_Element_45bdeb22e5f6babd=function(t){let n;try{n=v(t)instanceof Element}catch{n=!1}return n},e.wbg.__wbg_instanceof_FontFace_d2c93c7cd45276b1=function(t){let n;try{n=v(t)instanceof FontFace}catch{n=!1}return n},e.wbg.__wbg_instanceof_Map_0f3f3653f757ced1=function(t){let n;try{n=v(t)instanceof Map}catch{n=!1}return n},e.wbg.__wbg_instanceof_Object_9108547bac1f91b1=function(t){let n;try{n=v(t)instanceof Object}catch{n=!1}return n},e.wbg.__wbg_instanceof_PerspectiveViewNotFoundError_b4d9eb94ce63f22c=function(t){let n;try{n=v(t)instanceof du}catch{n=!1}return n},e.wbg.__wbg_instanceof_Promise_55724f650224c9ed=function(t){let n;try{n=v(t)instanceof Promise}catch{n=!1}return n},e.wbg.__wbg_instanceof_ShadowRoot_832cd6adaa07105a=function(t){let n;try{n=v(t)instanceof ShadowRoot}catch{n=!1}return n},e.wbg.__wbg_instanceof_Uint8Array_db97368f94b1373f=function(t){let n;try{n=v(t)instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_Window_311934805c10047c=function(t){let n;try{n=v(t)instanceof Window}catch{n=!1}return n},e.wbg.__wbg_isArray_8738f1062fa88586=function(t){return Array.isArray(v(t))},e.wbg.__wbg_isConnected_7b81a95a86664699=function(t){return v(t).isConnected},e.wbg.__wbg_isIntersecting_bdd5ae92bc11d148=function(t){return v(t).isIntersecting},e.wbg.__wbg_isSafeInteger_a1b3e0811faecf2f=function(t){return Number.isSafeInteger(v(t))},e.wbg.__wbg_is_d6c5f207fac5a36c=function(t,n){return Object.is(v(t),v(n))},e.wbg.__wbg_item_5ead4800ef53b575=function(t,n){let r=v(t).item(n>>>0);return ge(r)?0:P(r)},e.wbg.__wbg_item_85ec4ec73ec46f50=function(t,n){let r=v(t).item(n>>>0);return ge(r)?0:P(r)},e.wbg.__wbg_item_b8ff6623bcb82860=function(t,n){let r=v(t).item(n>>>0);return ge(r)?0:P(r)},e.wbg.__wbg_item_f0a3d07d29e8ca08=function(t,n,r){let i=v(n).item(r>>>0),a=Xe(i,T.__wbindgen_export_0,T.__wbindgen_export_1),o=Ue;he().setInt32(t+4*1,o,!0),he().setInt32(t+4*0,a,!0)},e.wbg.__wbg_iterator_c0c688f37fa815e6=function(){return P(Symbol.iterator)},e.wbg.__wbg_keyCode_10de39848ccf36f5=function(t){return v(t).keyCode},e.wbg.__wbg_key_b6f8a6b04de6624f=function(t,n){let r=v(n).key,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_keys_45b15edb4089351e=function(t){let n=Object.keys(v(t));return P(n)},e.wbg.__wbg_languages_491c6d0833be0219=function(t){let n=v(t).languages;return P(n)},e.wbg.__wbg_lastChild_560693bae51c9627=function(t){let n=v(t).lastChild;return ge(n)?0:P(n)},e.wbg.__wbg_left_bbc85c05eb704107=function(t){return v(t).left},e.wbg.__wbg_length_0f5a275f7c2091d8=function(t){return v(t).length},e.wbg.__wbg_length_12246a78d2f65d3a=function(t){return v(t).length},e.wbg.__wbg_length_c24da17096edfe57=function(t){return v(t).length},e.wbg.__wbg_length_cd70c82cb6e23144=function(t){return v(t).length},e.wbg.__wbg_length_ea896428bb1146cc=function(t){return v(t).length},e.wbg.__wbg_listenerid_ed1678830a5b97ec=function(t){let n=v(t).__yew_listener_id;return ge(n)?4294967297:n>>>0},e.wbg.__wbg_loaded_9979a254f4c4a18a=function(){return de(function(t){let n=v(t).loaded;return P(n)},arguments)},e.wbg.__wbg_mark_2e459508e2ea726f=function(){return de(function(t,n,r){v(t).mark(we(n,r))},arguments)},e.wbg.__wbg_matches_bc60960a81f65a74=function(){return de(function(t,n,r){return v(t).matches(we(n,r))},arguments)},e.wbg.__wbg_maxcells_fd3a2831ca2d60b4=function(t){let n=v(t).max_cells;return ge(n)?4294967297:n>>>0},e.wbg.__wbg_maxcolumns_1b6602e0531553d5=function(t){let n=v(t).max_columns;return ge(n)?4294967297:n>>>0},e.wbg.__wbg_measure_590e79f6f28bcf70=function(){return de(function(t,n,r,i,a){v(t).measure(we(n,r),we(i,a))},arguments)},e.wbg.__wbg_minconfigcolumns_a1d21c7173cdafb3=function(t){let n=v(t).min_config_columns;return ge(n)?4294967297:n>>>0},e.wbg.__wbg_msCrypto_0a36e2ec3a343d26=function(t){let n=v(t).msCrypto;return P(n)},e.wbg.__wbg_name_2f0220f3f0ac470f=function(t,n){let r=v(n).name,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_namespaceURI_a9c6c7804266ee35=function(t,n){let r=v(n).namespaceURI;var i=ge(r)?0:Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_navigator_f1fcfe352aad9c4a=function(t){let n=v(t).navigator;return P(n)},e.wbg.__wbg_new_26adb8246e7da825=function(){return de(function(t,n){let r=new CustomEvent(we(t,n));return P(r)},arguments)},e.wbg.__wbg_new_4df4d23a555db943=function(t,n){let r=new Intl.NumberFormat(v(t),v(n));return P(r)},e.wbg.__wbg_new_518e2184725aa711=function(){return P(new Map)},e.wbg.__wbg_new_5479cd54aab193ea=function(){let t=new du;return P(t)},e.wbg.__wbg_new_59845962d1127937=function(t){let n=new Uint8Array(v(t));return P(n)},e.wbg.__wbg_new_64f7ad5aa7fe5e65=function(){return de(function(t,n){let r=new InputEvent(we(t,n));return P(r)},arguments)},e.wbg.__wbg_new_67abf4a77618ee3e=function(){let t=new Object;return P(t)},e.wbg.__wbg_new_7af82bd418ef772f=function(t){let n=new Xb(v(t));return P(n)},e.wbg.__wbg_new_7f6cdb425945ba92=function(t,n){let r=new Intl.DateTimeFormat(v(t),v(n));return P(r)},e.wbg.__wbg_new_850c9982fe927db7=function(t){let n=new Gb(v(t));return P(n)},e.wbg.__wbg_new_8a536871ddbc3575=function(t){let n=new Qb(v(t));return P(n)},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){let t=new Error;return P(t)},e.wbg.__wbg_new_a96f21efc59c18b1=function(t){let n=new Date(v(t));return P(n)},e.wbg.__wbg_new_ac7361beaf933ba6=function(t,n){try{var r={a:t,b:n},i=(o,l)=>{let s=r.a;r.a=0;try{return sm(s,r.b,o,l)}finally{r.a=s}};let a=new Promise(i);return P(a)}finally{r.a=r.b=0}},e.wbg.__wbg_new_e2d07398d7689006=function(){let t=new Array;return P(t)},e.wbg.__wbg_newnoargs_a136448eeb7d48ac=function(t,n){let r=new Function(we(t,n));return P(r)},e.wbg.__wbg_newwithbyteoffsetandlength_84908302a4c137cf=function(t,n,r){let i=new Uint8Array(v(t),n>>>0,r>>>0);return P(i)},e.wbg.__wbg_newwitheventinitdict_694b539bc4f40c3d=function(){return de(function(t,n,r){let i=new CustomEvent(we(t,n),v(r));return P(i)},arguments)},e.wbg.__wbg_newwithlength_4c216eaaf23f2f9a=function(t){let n=new Uint8Array(t>>>0);return P(n)},e.wbg.__wbg_newwithstrsequenceandoptions_7f10a04698e1ea40=function(){return de(function(t,n){let r=new Blob(v(t),v(n));return P(r)},arguments)},e.wbg.__wbg_newwithu8arraysequence_bd1e90bbc7b7a251=function(){return de(function(t){let n=new Blob(v(t));return P(n)},arguments)},e.wbg.__wbg_nextSibling_e8b3016fe0fc3483=function(t){let n=v(t).nextSibling;return ge(n)?0:P(n)},e.wbg.__wbg_next_54bce2e56cc36c18=function(){return de(function(t){let n=v(t).next();return P(n)},arguments)},e.wbg.__wbg_next_928df8c15fc0c9b0=function(t){let n=v(t).next;return P(n)},e.wbg.__wbg_next_9dc0926f351c7090=function(){return de(function(t){let n=v(t).next();return P(n)},arguments)},e.wbg.__wbg_node_02999533c4ea02e3=function(t){let n=v(t).node;return P(n)},e.wbg.__wbg_now_c893509b6d04fa0d=function(t){return v(t).now()},e.wbg.__wbg_observe_66f12e3cec2d313d=function(t,n){v(t).observe(v(n))},e.wbg.__wbg_observe_d1a8bc6a528f0879=function(t,n){v(t).observe(v(n))},e.wbg.__wbg_offsetHeight_6f7ddbf328e832e5=function(t){return v(t).offsetHeight},e.wbg.__wbg_offsetParent_c61271df2ccb206b=function(t){let n=v(t).offsetParent;return ge(n)?0:P(n)},e.wbg.__wbg_offsetWidth_e088bf6f4329d827=function(t){return v(t).offsetWidth},e.wbg.__wbg_offsetX_735d4365b41503ea=function(t){return v(t).offsetX},e.wbg.__wbg_offsetY_b425bca937dc0468=function(t){return v(t).offsetY},e.wbg.__wbg_parentElement_d1f33e17ed9af17f=function(t){let n=v(t).parentElement;return ge(n)?0:P(n)},e.wbg.__wbg_parentNode_632569c5424d986d=function(t){let n=v(t).parentNode;return ge(n)?0:P(n)},e.wbg.__wbg_parse_bd09af51fd7dd576=function(){return de(function(t,n){let r=JSON.parse(we(t,n));return P(r)},arguments)},e.wbg.__wbg_performance_69882c3bda965f91=function(t){let n=v(t).performance;return ge(n)?0:P(n)},e.wbg.__wbg_pointerId_d196f4d67d3e19aa=function(t){return v(t).pointerId},e.wbg.__wbg_preventDefault_ce5728083bec4f8d=function(t){v(t).preventDefault()},e.wbg.__wbg_priority_842998d3ed85aa5d=function(t){let n=v(t).priority;return ge(n)?4294967297:n>>0},e.wbg.__wbg_process_5c1d670bc53614b8=function(t){let n=v(t).process;return P(n)},e.wbg.__wbg_push_e7d7247e69dad3ee=function(t,n){return v(t).push(v(n))},e.wbg.__wbg_queueMicrotask_6808622725a52272=function(t){let n=v(t).queueMicrotask;return P(n)},e.wbg.__wbg_queueMicrotask_ef0e86b0263a71ee=function(t){queueMicrotask(v(t))},e.wbg.__wbg_randomFillSync_ab2cfe79ebbf2740=function(){return de(function(t,n){v(t).randomFillSync(te(n))},arguments)},e.wbg.__wbg_readText_cf819cfa16a76536=function(t){let n=v(t).readText();return P(n)},e.wbg.__wbg_readyState_905c1c6b522c366a=function(t,n){let r=v(n).readyState,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_reject_fd3a67e45841ae99=function(t){let n=Promise.reject(v(t));return P(n)},e.wbg.__wbg_relatedTarget_959a1a6780f8c225=function(t){let n=v(t).relatedTarget;return ge(n)?0:P(n)},e.wbg.__wbg_releasePointerCapture_d85ea7bd3c2e3d60=function(){return de(function(t,n){v(t).releasePointerCapture(n)},arguments)},e.wbg.__wbg_removeAttribute_b92a081e598114ec=function(){return de(function(t,n,r){v(t).removeAttribute(we(n,r))},arguments)},e.wbg.__wbg_removeChild_1a90fe3c463c9fa4=function(){return de(function(t,n){let r=v(t).removeChild(v(n));return P(r)},arguments)},e.wbg.__wbg_removeEventListener_a689e1d3f78c8d6c=function(){return de(function(t,n,r,i){v(t).removeEventListener(we(n,r),v(i))},arguments)},e.wbg.__wbg_remove_e7b8fe94708f369e=function(){return de(function(t,n,r){v(t).remove(we(n,r))},arguments)},e.wbg.__wbg_remove_fa057e80ce79f92a=function(){return de(function(t,n){v(t).remove(...v(n))},arguments)},e.wbg.__wbg_renderwarning_3799da83bf351fce=function(t){let n=v(t).render_warning;return ge(n)?16777215:n?1:0},e.wbg.__wbg_requestAnimationFrame_10b343047ff65a80=function(){return de(function(t,n){return v(t).requestAnimationFrame(v(n))},arguments)},e.wbg.__wbg_require_79b1e9274cde3c87=function(){return de(function(){let t=module.require;return P(t)},arguments)},e.wbg.__wbg_resize_99bcde1bb92f391e=function(){return de(function(t){let n=v(t).resize();return P(n)},arguments)},e.wbg.__wbg_resolve_267ff08e7e1d2ce4=function(t){let n=Promise.resolve(v(t));return P(n)},e.wbg.__wbg_resolvedOptions_73d48ef2e9b809e1=function(t){let n=v(t).resolvedOptions();return P(n)},e.wbg.__wbg_restore_9797641a9507260c=function(){return de(function(t,n,r){v(t).restore(v(n),v(r))},arguments)},e.wbg.__wbg_restyle_340e3a71167f86f3=function(){return de(function(t,n){let r=v(t).restyle(qt.__wrap(n));return P(r)},arguments)},e.wbg.__wbg_save_4da1ad87799b584b=function(){return de(function(t){let n=v(t).save();return P(n)},arguments)},e.wbg.__wbg_scrollLeft_934a89309c2e35fd=function(t){return v(t).scrollLeft},e.wbg.__wbg_scrollTop_124f7d558dd2b1d6=function(t){return v(t).scrollTop},e.wbg.__wbg_scrollTop_baf3b0588ba6af47=function(t){return v(t).scrollTop},e.wbg.__wbg_selectedIndex_3bf09c0e613c15b4=function(t){return v(t).selectedIndex},e.wbg.__wbg_selectionEnd_993c6c28b2c8e8b3=function(){return de(function(t){let n=v(t).selectionEnd;return ge(n)?4294967297:n>>>0},arguments)},e.wbg.__wbg_selectionStart_dda3ffa187132b73=function(){return de(function(t){let n=v(t).selectionStart;return ge(n)?4294967297:n>>>0},arguments)},e.wbg.__wbg_selectmode_9f9f68754e81bc33=function(t){let n=v(t).select_mode;return P(n)},e.wbg.__wbg_selectorText_733f92b3cf56a498=function(t,n){let r=v(n).selectorText,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_self_cca3ca60d61220f4=function(){return de(function(){let t=self.self;return P(t)},arguments)},e.wbg.__wbg_setAttribute_36e2856decdf83a1=function(){return de(function(t,n,r,i,a){v(t).setAttribute(we(n,r),we(i,a))},arguments)},e.wbg.__wbg_setData_3ae346344c1965c4=function(){return de(function(t,n,r,i,a){v(t).setData(we(n,r),we(i,a))},arguments)},e.wbg.__wbg_setDragImage_40c5bf975f17f344=function(t,n,r,i){v(t).setDragImage(v(n),r,i)},e.wbg.__wbg_setPointerCapture_57a3ac98f83ead92=function(){return de(function(t,n){v(t).setPointerCapture(n)},arguments)},e.wbg.__wbg_setProperty_ee6f9ed1d8596887=function(){return de(function(t,n,r,i,a){v(t).setProperty(we(n,r),we(i,a))},arguments)},e.wbg.__wbg_setSelectionRange_5c44940b58375825=function(){return de(function(t,n,r){v(t).setSelectionRange(n>>>0,r>>>0)},arguments)},e.wbg.__wbg_setTimeout_3252f08858c90488=function(){return de(function(t,n,r){return v(t).setTimeout(v(n),r)},arguments)},e.wbg.__wbg_set_1b50d2de855a9d50=function(){return de(function(t,n,r){return Reflect.set(v(t),v(n),v(r))},arguments)},e.wbg.__wbg_set_34625a88f2c05a3b=function(){return de(function(t,n,r,i,a){v(t)[we(n,r)]=we(i,a)},arguments)},e.wbg.__wbg_set_393f510a6b7e9da5=function(t,n,r){let i=v(t).set(v(n),v(r));return P(i)},e.wbg.__wbg_set_3f1d0b984ed272ed=function(t,n,r){v(t)[te(n)]=te(r)},e.wbg.__wbg_set_5deee49b10b2b780=function(t,n,r){v(t).set(v(n),r>>>0)},e.wbg.__wbg_set_93ba9407b5476ec6=function(t,n,r){v(t)[n>>>0]=te(r)},e.wbg.__wbg_setcachekey_bb5f908a0e3ee714=function(t,n){v(t).__yew_subtree_cache_key=n>>>0},e.wbg.__wbg_setchecked_ee957125854726c5=function(t,n){v(t).checked=n!==0},e.wbg.__wbg_setdropEffect_49981812b43d66c7=function(t,n,r){v(t).dropEffect=we(n,r)},e.wbg.__wbg_setinnerHTML_1f5ad3b02760ea31=function(t,n,r){v(t).innerHTML=we(n,r)},e.wbg.__wbg_setlistenerid_3d14d37a42484593=function(t,n){v(t).__yew_listener_id=n>>>0},e.wbg.__wbg_setnodeValue_9abe578fc2812b11=function(t,n,r){v(t).nodeValue=n===0?void 0:we(n,r)},e.wbg.__wbg_setrenderwarning_48fd3e17871ef385=function(t,n){v(t).render_warning=n!==0},e.wbg.__wbg_setscrollLeft_93a4a75faf94192b=function(t,n){v(t).scrollLeft=n},e.wbg.__wbg_setscrollTop_54568fa2c9b61ee9=function(t,n){v(t).scrollTop=n},e.wbg.__wbg_setselectionEnd_4df31af04121bb04=function(){return de(function(t,n){v(t).selectionEnd=n===4294967297?void 0:n},arguments)},e.wbg.__wbg_setselectionStart_9c20762a6ae83185=function(){return de(function(t,n){v(t).selectionStart=n===4294967297?void 0:n},arguments)},e.wbg.__wbg_setsubtreeid_32b8ceff55862e29=function(t,n){v(t).__yew_subtree_id=n>>>0},e.wbg.__wbg_settextContent_60379b5916721a69=function(t,n,r){v(t).textContent=n===0?void 0:we(n,r)},e.wbg.__wbg_setvalue_34a21ed1993f58ef=function(t,n,r){v(t).value=we(n,r)},e.wbg.__wbg_setvalue_4e6fc1110a966527=function(t,n,r){v(t).value=we(n,r)},e.wbg.__wbg_setvalue_fc0b0c122b07f8a1=function(t,n,r){v(t).value=we(n,r)},e.wbg.__wbg_shiftKey_528456f6a6ebf1a9=function(t){return v(t).shiftKey},e.wbg.__wbg_shiftKey_b2a22adb435e27b7=function(t){return v(t).shiftKey},e.wbg.__wbg_slice_1ce88459a1591604=function(t,n,r){let i=v(t).slice(n>>>0,r>>>0);return P(i)},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(t,n){let r=v(n).stack,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_startTime_06f7b6aebc293aff=function(t){return v(t).startTime},e.wbg.__wbg_static_accessor_PSP_5b4ddde6185d213b=function(){return P(Yd)},e.wbg.__wbg_stopPropagation_6c4309fb9ac23f6a=function(t){v(t).stopPropagation()},e.wbg.__wbg_stringify_7330cbd04ec4c682=function(){return de(function(t,n,r){let i=JSON.stringify(v(t),v(n),v(r));return P(i)},arguments)},e.wbg.__wbg_stringify_841980d1bf485619=function(){return de(function(t){let n=JSON.stringify(v(t));return P(n)},arguments)},e.wbg.__wbg_styleSheets_4e820fe7b798a1dd=function(t){let n=v(t).styleSheets;return P(n)},e.wbg.__wbg_style_440caa6047a3adbd=function(t){let n=v(t).style;return P(n)},e.wbg.__wbg_style_920c711d96eb2e5e=function(t){let n=v(t).style;return P(n)},e.wbg.__wbg_subarray_2dc34705c0dc7cdb=function(t,n,r){let i=v(t).subarray(n>>>0,r>>>0);return P(i)},e.wbg.__wbg_subtreeid_e65dfcc52d403fd9=function(t){let n=v(t).__yew_subtree_id;return ge(n)?4294967297:n>>>0},e.wbg.__wbg_supportedValuesOf_8d7945271df8fd61=function(t){let n=Intl.supportedValuesOf(v(t));return P(n)},e.wbg.__wbg_table_new=function(t){let n=Ts.__wrap(t);return P(n)},e.wbg.__wbg_tagName_90c0a7a0bd225b11=function(t,n){let r=v(n).tagName,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_target_d36cdebe98450ed6=function(t){let n=v(t).target;return ge(n)?0:P(n)},e.wbg.__wbg_then_84907e7a6730461e=function(t,n){let r=v(t).then(v(n));return P(r)},e.wbg.__wbg_then_db12746ab6cec3f6=function(t,n,r){let i=v(t).then(v(n),v(r));return P(i)},e.wbg.__wbg_toString_2a965b6fc5a7e89f=function(t){let n=v(t).toString();return P(n)},e.wbg.__wbg_toggleAttribute_3981d7b35ee4dc8c=function(){return de(function(t,n,r,i){return v(t).toggleAttribute(we(n,r),i!==0)},arguments)},e.wbg.__wbg_toggle_aa69dd9b5e2ab306=function(){return de(function(t,n,r){return v(t).toggle(we(n,r))},arguments)},e.wbg.__wbg_top_5e20a889d04709f4=function(t){return v(t).top},e.wbg.__wbg_trace_04e683e452168e85=function(t,n,r,i){console.trace(v(t),v(n),v(r),v(i))},e.wbg.__wbg_trace_bf1357f2a705e4dd=function(t){console.trace(v(t))},e.wbg.__wbg_unobserve_7d4ac855880770e0=function(t,n){v(t).unobserve(v(n))},e.wbg.__wbg_unobserve_fc7f300855e96002=function(t,n){v(t).unobserve(v(n))},e.wbg.__wbg_update_df5b67bd1cce0b24=function(){return de(function(t,n,r,i,a){let o=v(t).update(qt.__wrap(n),r===4294967297?void 0:r,i===4294967297?void 0:i,a!==0);return P(o)},arguments)},e.wbg.__wbg_valueAsNumber_69abf6d7799e2865=function(t){return v(t).valueAsNumber},e.wbg.__wbg_value_0eccaeade4025732=function(t,n){let r=v(n).value,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_value_51f8a88d4a1805fb=function(t){let n=v(t).value;return P(n)},e.wbg.__wbg_value_6da0340a74182dc9=function(t,n){let r=v(n).value,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_values_4521bea64273acef=function(t){let n=v(t).values();return P(n)},e.wbg.__wbg_values_9b070f5059e8183e=function(t){let n=Object.values(v(t));return P(n)},e.wbg.__wbg_versions_c71aa1626a93e0a1=function(t){let n=v(t).versions;return P(n)},e.wbg.__wbg_view_new=function(t){let n=qt.__wrap(t);return P(n)},e.wbg.__wbg_view_unwrap=function(t){return qt.__unwrap(te(t))},e.wbg.__wbg_warn_4f29d3e20ba97cd0=function(t,n,r,i){console.warn(v(t),v(n),v(r),v(i))},e.wbg.__wbg_warn_fecc8e96c5e56fb2=function(t){console.warn(v(t))},e.wbg.__wbg_weight_fa07ad59f7c88d78=function(t,n){let r=v(n).weight,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbg_which_aa39f19447dea33e=function(t){return v(t).which},e.wbg.__wbg_width_672ea0f631559cbd=function(t){return v(t).width},e.wbg.__wbg_width_a542376951d8d711=function(t){return v(t).width},e.wbg.__wbg_window_2aba046d3fc4ad7c=function(){return de(function(){let t=window.window;return P(t)},arguments)},e.wbg.__wbg_write_83931bdf7161281c=function(t,n){let r=v(t).write(v(n));return P(r)},e.wbg.__wbindgen_as_number=function(t){return+v(t)},e.wbg.__wbindgen_bigint_from_i64=function(t){return P(t)},e.wbg.__wbindgen_bigint_from_u64=function(t){let n=BigInt.asUintN(64,t);return P(n)},e.wbg.__wbindgen_bigint_get_as_i64=function(t,n){let r=v(n),i=typeof r=="bigint"?r:void 0;he().setBigInt64(t+8*1,ge(i)?BigInt(0):i,!0),he().setInt32(t+4*0,!ge(i),!0)},e.wbg.__wbindgen_boolean_get=function(t){let n=v(t);return typeof n=="boolean"?n?1:0:2},e.wbg.__wbindgen_cb_drop=function(t){let n=te(t).original;return n.cnt--==1?(n.a=0,!0):!1},e.wbg.__wbindgen_closure_wrapper13943=function(t,n,r){let i=wa(t,n,3600,im);return P(i)},e.wbg.__wbindgen_closure_wrapper17144=function(t,n,r){let i=wa(t,n,4203,am);return P(i)},e.wbg.__wbindgen_closure_wrapper18073=function(t,n,r){let i=li(t,n,4295,om);return P(i)},e.wbg.__wbindgen_closure_wrapper18097=function(t,n,r){let i=li(t,n,4299,lm);return P(i)},e.wbg.__wbindgen_closure_wrapper5869=function(t,n,r){let i=wa(t,n,75,hu);return P(i)},e.wbg.__wbindgen_closure_wrapper5871=function(t,n,r){let i=li(t,n,77,rm);return P(i)},e.wbg.__wbindgen_closure_wrapper5873=function(t,n,r){let i=li(t,n,75,_u);return P(i)},e.wbg.__wbindgen_closure_wrapper5875=function(t,n,r){let i=li(t,n,75,_u);return P(i)},e.wbg.__wbindgen_closure_wrapper5877=function(t,n,r){let i=wa(t,n,75,hu);return P(i)},e.wbg.__wbindgen_debug_string=function(t,n){let r=Yl(v(n)),i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;he().setInt32(t+4*1,a,!0),he().setInt32(t+4*0,i,!0)},e.wbg.__wbindgen_error_new=function(t,n){let r=new Error(we(t,n));return P(r)},e.wbg.__wbindgen_in=function(t,n){return v(t)in v(n)},e.wbg.__wbindgen_is_bigint=function(t){return typeof v(t)=="bigint"},e.wbg.__wbindgen_is_function=function(t){return typeof v(t)=="function"},e.wbg.__wbindgen_is_null=function(t){return v(t)===null},e.wbg.__wbindgen_is_object=function(t){let n=v(t);return typeof n=="object"&&n!==null},e.wbg.__wbindgen_is_string=function(t){return typeof v(t)=="string"},e.wbg.__wbindgen_is_undefined=function(t){return v(t)===void 0},e.wbg.__wbindgen_jsval_eq=function(t,n){return v(t)===v(n)},e.wbg.__wbindgen_jsval_loose_eq=function(t,n){return v(t)==v(n)},e.wbg.__wbindgen_memory=function(){let t=T.memory;return P(t)},e.wbg.__wbindgen_number_get=function(t,n){let r=v(n),i=typeof r=="number"?r:void 0;he().setFloat64(t+8*1,ge(i)?0:i,!0),he().setInt32(t+4*0,!ge(i),!0)},e.wbg.__wbindgen_number_new=function(t){return P(t)},e.wbg.__wbindgen_object_clone_ref=function(t){let n=v(t);return P(n)},e.wbg.__wbindgen_object_drop_ref=function(t){te(t)},e.wbg.__wbindgen_string_get=function(t,n){let r=v(n),i=typeof r=="string"?r:void 0;var a=ge(i)?0:Xe(i,T.__wbindgen_export_0,T.__wbindgen_export_1),o=Ue;he().setInt32(t+4*1,o,!0),he().setInt32(t+4*0,a,!0)},e.wbg.__wbindgen_string_new=function(t,n){let r=we(t,n);return P(r)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(we(t,n))},e}function Jd(e,t){return T=e.exports,Zd.__wbindgen_wasm_module=t,qn=null,wi=null,T}function wm(e){if(T!==void 0)return T;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));let t=Kd();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));let n=new WebAssembly.Instance(e,t);return Jd(n,e)}async function Zd(e){if(T!==void 0)return T;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead"));let t=Kd();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:r}=await mm(await e,t);return Jd(n,r)}var eh=Zd;if(typeof WebAssembly>"u")throw new Error("WebAssembly not supported.");async function ym(e){return e instanceof Response?(await WebAssembly.instantiateStreaming(e)).instance.exports:e instanceof WebAssembly.Module?(await WebAssembly.instantiate(e)).exports:e instanceof WebAssembly.Instance?e.exports:e instanceof ArrayBuffer?(await WebAssembly.instantiate(e)).instance.exports:e}async function vm(e){e instanceof Function&&(e=await e());try{let t=await ym(e),n=t.size(),r=t.offset();return new Uint8Array(t.memory.buffer).slice(r,r+n)}catch{return console.warn("Stage 0 wasm loading failed, skipping"),new Uint8Array(e)}}async function xm(e){e instanceof Promise&&(e=await e),e instanceof Response&&(e=await e.arrayBuffer()),e instanceof Uint8Array&&(e=e.buffer);let t=await vm(e);await eh({module_or_path:t}),await Qd()}var km={init_client:xm},Yn=new WeakMap,Sm=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,Mm=Sm?5e6:1e7,Ba=0,mr=0,yu=performance.now();function Em(){let e=performance.now(),t=e-yu,n=Ba,r=mr*1e3/t,i=1e3/n,a=mr;return Ba=0,mr=0,yu=e,{avg:n,real_fps:r,virtual_fps:i,num_frames:a,elapsed:t}}function Am(e){Ba=(Ba*mr+e)/(mr+1),mr+=1}var th=(e,...t)=>e.map((n,r)=>[n,t[r]]).flat().filter(n=>!!n).join(""),$m=()=>{let e,t=new Promise(n=>{e=n});return t.resolve=e,t},En=new Map;async function Tm(e){return await new Promise(requestAnimationFrame),await En.get(e)}async function nh(e,t){if(En.has(e)&&(await En.get(e),En.has(e))){await En.get(e);return}En.set(e,$m());try{return await t()}finally{let n=En.get(e);En.delete(e),n.resolve()}}var Cm=":host{position:absolute;top:0px;left:0px;right:0px;bottom:0px;overflow:scroll;overflow-anchor:none;overscroll-behavior:none;-webkit-overflow-scrolling:touch;}div.rt-virtual-panel{position:absolute;top:0;left:0;right:0;pointer-events:none;}div.rt-scroll-table-clip{position:sticky;contain:strict;overflow-anchor:none;width:100%;height:100%;}div.rt-tree-container{display:flex;align-items:center;height:100%;}slot{position:absolute;overflow:hidden;overflow-anchor:none;}",Nm=":host ::slotted(table){--regular-table--transform-x:0px;--regular-table--transform-y:0px;--regular-table--clip-x:0px;--regular-table--clip-y:0px;}",Om=class extends HTMLElement{create_shadow_dom(){this.attachShadow({mode:"open"});let t="<slot></slot>";this.shadowRoot.innerHTML=th`
            <style>
                ${Cm}
            </style>
            <style>
                ${Nm}
            </style>
            <div class="rt-virtual-panel"></div>
            <div class="rt-scroll-table-clip">${t}</div>
        `;let[,n,r,i]=this.shadowRoot.children;this._sub_cell_style=n,this._table_clip=i,this._virtual_panel=r,this._setup_virtual_scroll()}_setup_virtual_scroll(){this._table_clip&&(this._virtual_mode==="both"||this._virtual_mode==="vertical"?this._table_clip.style.top="0px":this._table_clip.style.removeProperty("top"),this._virtual_mode==="both"||this._virtual_mode==="horizontal"?this._table_clip.style.left="0px":this._table_clip.style.removeProperty("left"),this._virtual_mode!=="both"?this._table_clip.style.contain="none":this._table_clip.style.removeProperty("contain"))}_calculate_viewport(t,n){let{start_row:r,end_row:i}=this._calculate_row_range(t),{start_col:a,end_col:o}=this._calculate_column_range(n);return this._nrows=t,{start_col:a,end_col:o,start_row:r,end_row:i}}_calculate_row_range(t){let{height:n}=this._container_size,r=this._column_sizes.row_height||19,i=this._view_cache.config.column_pivots.length,a=Math.max(1,this._virtual_panel.offsetHeight-n),o=Math.max(Math.ceil(this.scrollTop),0)/a,l=n/r-i,s=Math.max(0,(t||0)-l)*o,c=Math.max(0,Math.min(s+l,t));return{start_row:s,end_row:c}}_calc_start_column(){let t=this._view_cache.config.row_pivots.length,n=0,r=0,i=0;for(;r<this.scrollLeft;){let a=this._column_sizes.indices[n+t];i=this.scrollLeft-r,n+=1,r+=a!==void 0?a:60}return n+=i/(this._column_sizes.indices[n+t-1]||60),Math.max(0,n-1)}_calculate_column_range(t){if(this._virtual_mode==="none"||this._virtual_mode==="vertical")return{start_col:0,end_col:1/0};{let n=this._calc_start_column(),r=this.table_model.num_columns()||Math.min(t,Math.ceil(this._container_size.width/60)),i=n+r+1;return{start_col:n,end_col:i}}}_max_scroll_column(t){let n=0;if(this._view_cache.config.row_pivots.length>0)for(let a of this._column_sizes.indices.slice(0,this._view_cache.config.row_pivots.length))n+=a;let r=this._view_cache.config.row_pivots.length,i=t;for(;n<this._container_size.width&&i>=0;)i--,n+=this._column_sizes.indices[i+r]||60;return Math.min(t-1,i+1)}_validate_viewport({start_col:t,end_col:n,start_row:r,end_row:i}){r=Math.floor(r),i=Math.ceil(i),t=Math.floor(t),n=Math.ceil(n);let a=this._start_col!==t,o=this._start_row!==r||this._end_row!==i||this._end_col!==n;return this._start_col=t,this._end_col=n,this._start_row=r,this._end_row=i,{invalid_column:a,invalid_row:o}}_calc_scrollable_column_width(t){let n=this._view_cache.config.row_pivots.length,r=this._max_scroll_column(t),i=n,a=0;for(;i<r+n;)a+=this._column_sizes.indices[i]||60,i++;if(i<this._column_sizes.indices.length){let o=this._column_sizes.indices.slice(0,this._view_cache.config.row_pivots.length).reduce((l,s)=>l+s,0);a+=Math.max(0,this._column_sizes.indices[i]-(this._container_size.width-o)||0)}return a}_update_virtual_panel_width(t,n){if(t)if(this._virtual_mode==="vertical"||this._virtual_mode==="none")this._virtual_panel.style.width=this._column_sizes.indices.reduce((r,i)=>r+i,0)+"px";else{let r=this._calc_scrollable_column_width(n);if(r!==0){let i=this._container_size.width+r+2;this._virtual_panel.style.width=i+"px"}else this._virtual_panel.style.width="1px"}}_update_virtual_panel_height(t){let{row_height:n=19}=this._column_sizes,r=this._view_cache.config.column_pivots.length*n,i;i=Math.min(Mm,t*n+r),this._virtual_panel.style.height=`${i}px`}async draw(t={}){return typeof t.throttle<"u"&&!t.throttle?await vu.call(this,t):await nh(this,()=>vu.call(this,t))}async _draw_flush(){await Tm(this)}update_sub_cell_offset(t){var a;let n=this._column_sizes.row_height*(t.start_row%1)||0,r=this._column_sizes.indices[(this.table_model._row_headers_length||0)+Math.floor(t.start_col)]*(t.start_col%1)||0,i=(a=this._sub_cell_style.sheet)==null?void 0:a.cssRules[0].style;i&&(i.setProperty("--regular-table--clip-x",`${r}px`),i.setProperty("--regular-table--clip-y",`${n}px`),i.setProperty("--regular-table--transform-x",`-${r}px`),i.setProperty("--regular-table--transform-y",`-${n}px`))}};async function vu(e){let t=performance.now(),{invalid_viewport:n=!0,preserve_width:r=!1}=e,{num_columns:i,num_rows:a,num_row_headers:o,num_column_headers:l,row_height:s}=await this._view_cache.view(0,0,0,0);o!==void 0&&(this._view_cache.row_pivots=Array(o).fill(0)),l!==void 0&&(this._view_cache.column_pivots=Array(l).fill(0)),this._container_size={width:this._virtual_mode==="none"||this._virtual_mode==="vertical"?1/0:this._table_clip.clientWidth,height:this._virtual_mode==="none"||this._virtual_mode==="horizontal"?1/0:this._table_clip.clientHeight},this._update_virtual_panel_height(a),r||this._update_virtual_panel_width(n,i);let c=this._calculate_viewport(a,i),{invalid_row:u,invalid_column:d}=this._validate_viewport(c);if(this._invalid_schema||u||d||n){let f=[],h=!0;for await(let _ of this.table_model.draw(this._container_size,this._view_cache,this._selected_id,r,c,i)){_!==void 0&&(f=f.concat(_)),h&&(this.update_sub_cell_offset(c),h=!1),this._is_styling=!0;let p=this._style_callbacks;for(let x of p)await x({detail:this});if(this._is_styling=!1,!this._invalidated&&_!==void 0)break;this._invalidated=!1}this.table_model.autosize_cells(f,s),this.table_model.header.reset_header_cache(),r||this._update_virtual_panel_width(this._invalid_schema||d,i),this._invalid_schema=!1}else this.update_sub_cell_offset(c);Am(performance.now()-t)}var Lm=class extends Om{register_listeners(){this.addEventListener("mousedown",this._on_click_or_dblclick.bind(this)),this.addEventListener("scroll",this._on_scroll.bind(this),{passive:!0}),this._register_glitch_scroll_listeners()}async _on_scroll(t){t.stopPropagation(),await this.draw({invalid_viewport:!1}),this.dispatchEvent(new CustomEvent("regular-table-scroll"))}_register_glitch_scroll_listeners(){this.addEventListener("mousewheel",this._on_mousewheel.bind(this))}_on_mousewheel(t){if(!window.safari)return;let{clientWidth:n,clientHeight:r,scrollTop:i,scrollLeft:a}=this;t.preventDefault(),t.returnValue=!1;let o=Math.max(1,this._virtual_panel.offsetHeight-r),l=Math.max(1,this._virtual_panel.offsetWidth-n);this.scrollTop=Math.max(0,Math.min(o,i+t.deltaY)),this.scrollLeft=Math.max(0,Math.min(l,a+t.deltaX)),this._on_scroll(t)}_on_touchmove(t){t.stopPropagation(),t.preventDefault(),t.returnValue=!1;let{clientWidth:n,clientHeight:r}=this,i=Math.max(1,this._virtual_panel.offsetHeight-r),a=Math.max(1,this._virtual_panel.offsetWidth-n);this.scrollTop=Math.min(i,this._memo_scroll_top+(this._memo_touch_startY-t.touches[0].pageY)),this.scrollLeft=Math.min(a,this._memo_scroll_left+(this._memo_touch_startX-t.touches[0].pageX)),this._on_scroll(t)}_on_touchstart(t){this._memo_touch_startY=t.touches[0].pageY,this._memo_touch_startX=t.touches[0].pageX,this._memo_scroll_top=this.scrollTop,this._memo_scroll_left=this.scrollLeft}async _on_dblclick(t){let n=t.target;for(;n.tagName!=="TD"&&n.tagName!=="TH";)if(n=n.parentElement,!this.contains(n))return;let r=t.target.classList.contains("rt-column-resize"),i=Yn.get(n);if(r){t.stopImmediatePropagation(),n.style.minWidth="",n.style.maxWidth="",t.shiftKey?(this._column_sizes.override=[],this._column_sizes.auto=[],this._column_sizes.indices=[]):(this._column_sizes.override[i.size_key]=void 0,this._column_sizes.auto[i.size_key]=void 0,this._column_sizes.indices[i.size_key]=void 0);for(let a of t.shiftKey?[this.table_model.header.cells[this.table_model.header.cells.length-1],...this.table_model.body.cells]:this.table_model.body.cells)for(let o of t.shiftKey?a:[a[i._virtual_x]])o&&(o.style.minWidth="",o.style.maxWidth="",o.classList.remove("rt-cell-clip"));await this.draw()}}async _on_click(t){if(t.button!==0)return;let n=t.target;for(;n.tagName!=="TD"&&n.tagName!=="TH";)if(n=n.parentElement,!this.contains(n))return;let r=t.target.classList.contains("rt-column-resize"),i=Yn.get(n);r&&(this._on_resize_column(t,n,i),t.stopImmediatePropagation())}async _on_click_or_dblclick(t){let n=performance.now();this._last_clicked_time&&n-this._last_clicked_time<500?(this._last_clicked_time=n,await this._on_dblclick(t)):(this._last_clicked_time=n,await this._on_click(t))}_on_resize_column(t,n,r){let{_virtual_x:i,size_key:a}=r,o=t.pageX,l=i+n.colSpan-1,s=this.table_model.header.get_column_header(l),c=this._column_sizes.indices[a],u=f=>nh(this,async()=>await this._on_resize_column_move(f,s,o,c,a,l)),d=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d);let f=this._column_sizes.override[a],h=this._column_sizes.indices[a]!==f;this._column_sizes.indices[a]=f,h&&this.draw()};document.addEventListener("mousemove",u),document.addEventListener("mouseup",d)}async _on_resize_column_move(t,n,r,i,a,o){await new Promise(requestAnimationFrame);let l=t.pageX-r,s=Math.max(1,i+l);if(this._column_sizes.override[a]=s,l<0)await this.draw({preserve_width:!0,throttle:!1});else{n.style.minWidth=s+"px",n.style.maxWidth=s+"px";let c=this._column_sizes.auto[a];for(let u of this.table_model.body.cells){let d=u[o];d&&(d.style.maxWidth=d.style.minWidth=s+"px",d.classList.toggle("rt-cell-clip",c>s))}}}},zm=class{constructor(t){this._name=t,this._elements=[],this._index=0}reset(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));let t=this._elements[this._index];return this._index+=1,t}},rh=class{constructor(t,n,r){this._column_sizes=t,this._container=n,this._span_factory=new zm("span"),this.table=r,this.cells=[],this.rows=[]}num_columns(){return this._get_row(Math.max(0,this.rows.length-1)).row_container.length}num_rows(){return this.cells.length}_set_metadata(t,n){Yn.set(t,n)}_get_or_create_metadata(t){if(t===void 0)return{};if(Yn.has(t))return Yn.get(t);{let n={};return Yn.set(t,n),n}}_replace_cell(t,n){let{tr:r,row_container:i}=this._get_row(t),a=i[n];return a&&(r.removeChild(a),i.splice(n,1,void 0)),a}_fetch_cell(t,n){var r;if(!(t<0||n<0))return(r=this.cells[t])==null?void 0:r[n]}_get_row(t){let n=this.rows[t];n||(n=this.rows[t]=document.createElement("tr"),this.table.appendChild(n));let r=this.cells[t];return r||(r=this.cells[t]=[]),{tr:n,row_container:r}}_get_cell(t="TD",n,r){let{tr:i,row_container:a}=this._get_row(n),o=a[r];if(o||(r<a.length?(o=a[r]=document.createElement(t),i.insertBefore(o,a.slice(r+1).find(l=>l))):(o=a[r]=document.createElement(t),i.appendChild(o))),o.tagName!==t){let l=document.createElement(t);i.replaceChild(l,o),this.cells[n].splice(r,1,l),o=l}return o}_clean_columns(t){for(let n=0;n<this.rows.length;n++){let r=this.rows[n],i=this.cells[n];this.cells[n]=i.slice(0,t[n]||t);let a=this.cells[n].filter(o=>o!==void 0).length;for(;r.children[a];)r.removeChild(r.children[a])}}_clean_rows(t){for(;this.table.children[t];)this.table.removeChild(this.table.children[t]);this.rows=this.rows.slice(0,t),this.cells=this.cells.slice(0,t)}},Rm=class extends rh{constructor(...t){super(...t),this._group_header_cache=[],this._offset_cache=[]}_draw_group_th(t,n,r){let i=this._get_cell("TH",n,t[n]||0);if(t[n]+=1,i.removeAttribute("colspan"),i.style.minWidth="0",i.textContent="",r instanceof HTMLElement)i.appendChild(r);else{let o=this._span_factory.get("span");o.textContent=r,i.appendChild(o)}let a=this._span_factory.get("span");return a.className="rt-column-resize",i.appendChild(a),i}_draw_group(t,n,r){let i=this._get_or_create_metadata(r);return i.column_header=t,i.value=n,i.value=n,i}_draw_th(t,n,r,i,a){let o=this._get_or_create_metadata(r);if(o.column_header=t,o.value=n,o.size_key=a.length?a[0]:a,!(a.length>1)){let l=this._column_sizes.override[o.size_key],s=this._column_sizes.auto[o.size_key];l?(r.classList.toggle("rt-cell-clip",s>l),r.style.minWidth=l+"px",r.style.maxWidth=l+"px"):s?(r.classList.remove("rt-cell-clip"),r.style.maxWidth="",r.style.minWidth=s+"px"):(r.style.maxWidth="",r.style.maxWidth="")}return o}get_column_header(t){return this._get_cell("TH",this.num_rows()-1,t)}draw(t,n,r,i,a,o,l,s,c){var p,x,b;let u=n==null?void 0:n.length;if(u===0)return;let d,f,h,_;s=typeof s>"u"?u-1:s;for(let A=0;A<u;A++){if(h=n[A]?n[A]:"",this._offset_cache[A]=this._offset_cache[A]||0,A<s)c&&((b=(x=(p=this._group_header_cache)==null?void 0:p[A])==null?void 0:x[0])==null?void 0:b.value)===h?(d=this._group_header_cache[A][1],this._group_header_cache[A][2]+=1,r===1&&(this._group_header_cache[A][0].row_header_x=a),d.setAttribute("colspan",this._group_header_cache[A][2])):(d=this._draw_group_th(this._offset_cache,A,h),f=this._draw_group(n,h,d),this._group_header_cache[A]=[f,d,1]);else{d=this._draw_group_th(this._offset_cache,A,h),f=this._draw_th(t||n,h,d,i,a),typeof _>"u"&&(_={th:d,metadata:f});for(let[$]of this._group_header_cache)$.size_key=f.size_key;d.removeAttribute("colspan")}this._get_row(A).tr.classList.toggle("rt-autosize",A===s),d.classList.toggle("rt-group-corner",i===void 0),f&&(f.x=typeof i>"u"?i:Math.floor(i),f.column_header_y=A,f.x0=Math.floor(o),f._virtual_x=l,r===1&&(f.row_header_x=a))}return this._clean_rows(this._offset_cache.length),_=_||{th:d,metadata:f},_}clean(){this._clean_columns(this._offset_cache)}reset_header_cache(){this._offset_cache=[],this._group_header_cache=[]}},Vm=class extends rh{_draw_td(t,n,r,i,{column_name:a},{ridx_offset:o},l){let s=this._get_cell(t,n,i),c=this._get_or_create_metadata(s);c.y=n+Math.floor(o),c.size_key=l,t==="TD"&&(c.column_header=a);let u=this._column_sizes.override[c.size_key];if(u){let d=this._column_sizes.auto[c.size_key];s.classList.toggle("rt-cell-clip",d>u),s.style.minWidth=u+"px",s.style.maxWidth=u+"px"}else s.classList.remove("rt-cell-clip"),s.style.minWidth="",s.style.maxWidth="";return c.value!==r&&(r instanceof HTMLElement?(s.textContent="",s.appendChild(r)):s.textContent=r),c.value=r,{td:s,metadata:c}}draw(t,n,r,i=!1,a,o,l,s){let{cidx:c,column_data:u,row_headers:d,column_data_listener_metadata:f}=n,{row_height:h}=r,_,p=[],x=[],b=0,A=[];for(let $=0;$<(i?r.row_headers_length:1);$++){b=0;for(let S of u){let w=d==null?void 0:d[b],k;if(i){let I=S[$],L=this._fetch_cell(b-(p[$]||1),c+$),G=this._get_or_create_metadata(L),F=this._fetch_cell(b,c+$-(A[b]||1)),D=this._get_or_create_metadata(F);s&&F&&(D.value===I||I===void 0)&&!F.hasAttribute("rowspan")?(A[b]=A[b]?A[b]+1:2,F.setAttribute("colspan",A[b]),this._replace_cell(b,c+$)):s&&L&&G.value===I&&!L.hasAttribute("colspan")?(p[$]=p[$]?p[$]+1:2,L.setAttribute("rowspan",p[$]),this._replace_cell(b,c+$)):(k=this._draw_td("TH",b,I,c+$,n,r,$),k.td.style.display="",k.td.removeAttribute("rowspan"),k.td.removeAttribute("colspan"),k.metadata.row_header=S,k.metadata.row_header_x=$,k.metadata.y0=Math.floor(r.ridx_offset),k.metadata.y1=Math.ceil(r.y1),k.metadata._virtual_x=$,typeof o<"u"&&(k.metadata.x0=Math.floor(o)),p[$]=1,A[b]=1,x[$]=k)}else k=this._draw_td("TD",b,S,c,n,r,l),f&&(k.metadata.user=f[b]),k.metadata.x=typeof a>"u"?a:Math.floor(a),k.metadata.x1=Math.ceil(r.x1),k.metadata.row_header=w||[],k.metadata.y0=Math.floor(r.ridx_offset),k.metadata.y1=Math.ceil(r.y1),k.metadata.dx=Math.floor(a-o),k.metadata.dy=k.metadata.y-Math.floor(k.metadata.y0),k.metadata._virtual_x=c,typeof o<"u"&&(k.metadata.x0=Math.floor(o)),x[0]=k;if(b++,_=k?k.metadata:_,h=h||(k==null?void 0:k.td.offsetHeight),b*h>t)break}}return this._clean_rows(b),{tds:x,ridx:b,metadata:_,row_height:h}}clean({ridx:t,cidx:n}){this._clean_rows(t),this._clean_columns(n)}},xu=class{constructor(t,n,r){this.clear(r);let[i]=r.children,[a,o]=i.children;this.table=i,this._column_sizes=n,this.header=new Rm(n,t,a),this.body=new Vm(n,t,o),this.fragment=document.createDocumentFragment()}num_columns(){return this.header.num_columns()}clear(t){t.innerHTML=th`
            <table cellspacing="0">
                <thead></thead>
                <tbody></tbody>
            </table>
        `}autosize_cells(t,n){for(;t.length>0;){let[r,i]=t.pop(),a=r.getBoundingClientRect();this._column_sizes.row_height=n||Math.max(10,Math.min(this._column_sizes.row_height||a.height,a.height)),this._column_sizes.indices[i.size_key]=a.width;let o=this._column_sizes.override[i.size_key]!==void 0;a.width&&!o&&(this._column_sizes.auto[i.size_key]=a.width),r.style.minWidth==="0px"&&(r.style.minWidth=`${a.width}px`)}}async*draw(t,n,r,i,a,o){var H,z,Q,V;let{width:l,height:s}=t,{view:c,config:u}=n,{data:d,row_headers:f,column_headers:h,metadata:_,num_row_headers:p,num_column_headers:x,column_header_merge_depth:b,merge_headers:A="both"}=await c(Math.floor(a.start_col),Math.floor(a.start_row),Math.ceil(a.end_col),Math.ceil(a.end_row));p!==void 0&&(this._view_cache.row_pivots=Array(p).fill(0)),x!==void 0&&(this._view_cache.column_pivots=Array(x).fill(0));let $=A==="both"||A==="row",S=A==="both"||A==="column",{start_row:w=0,start_col:k=0,end_col:I=0,end_row:L=0}=a;f&&(this._row_headers_length=f.reduce((q,U)=>Math.max(q,U.length),0),f=f.map(q=>(q.length=this._row_headers_length,q))),n.config.column_pivots=Array(((H=h==null?void 0:h[0])==null?void 0:H.length)||0).fill(0),n.config.row_pivots=Array(((z=f==null?void 0:f[0])==null?void 0:z.length)||0).fill(0);let G=this._column_sizes.indices[(this._row_headers_length||0)+Math.floor(a.start_col)]||0,F={viewport_width:0,selected_id:r,ridx_offset:w,sub_cell_offset:G,x0:k,x1:I,y1:L,row_height:this._column_sizes.row_height,row_headers_length:this._row_headers_length},D,Z=0,W=[],O=!0;if((f==null?void 0:f.length)>0){let q=u.row_pivots.join(","),U={column_name:q,cidx:0,column_data:f,row_headers:f,first_col:O},ae=Z+Math.floor(k);D=this.body.draw(s,U,{...F,x0:0},!0,void 0,void 0,ae,$);let fe=[];for(let j=0;j<n.config.row_pivots.length;j++){let K=this.header.draw(q,Array(n.config.column_pivots.length).fill(""),1,void 0,j,k,j,b,S);K&&fe.push(K)}if(O=!1,F.viewport_width+=fe.reduce((j,{th:K},ce)=>j+(this._column_sizes.indices[ce]||K.offsetWidth),0),F.row_height=F.row_height||D.row_height,Z=f[0].length,!i)for(let j=0;j<n.config.row_pivots.length;j++){let{td:K,metadata:ce}=D.tds[j]||{},{th:ke,metadata:Ae}=fe[j]||{};(K||ke)&&W.push([ke||K,Ae||ce])}}try{let q=0,U=o-a.start_col;for(;q<U;){if(!d[q]){let le=Math.max(a.end_col,0);a.start_col=le;let Se=0,Te=0;for(;this._column_sizes.indices.length>Z+k+Se+1&&Te+F.viewport_width<l;)Se++,Te+=this._column_sizes.indices[Z+k+Se];if(Te+F.viewport_width<l){let Ce=Math.min(o,le+5);a.end_col=Math.max(1,Math.min(o,Ce))}else a.end_col=Math.max(1,Math.min(o,le+Se));let re=c(Math.floor(a.start_col),Math.floor(a.start_row),Math.ceil(a.end_col),Math.ceil(a.end_row));yield void 0;let Ie=await re;if(typeof Ie.column_header_merge_depth<"u"&&(b=Ie.column_header_merge_depth),typeof Ie.merge_headers<"u"&&(A=Ie.merge_headers),Ie.data.length===0){yield W;return}a.end_col=a.start_col+Ie.data.length;for(let Ce=0;Ce<Ie.data.length;Ce++)d[q+Ce]=Ie.data[Ce],Ie.metadata&&(_[q+Ce]=Ie.metadata[Ce]),h&&(h[q+Ce]=(Q=Ie.column_headers)==null?void 0:Q[Ce])}let ae=(h==null?void 0:h[q])||"",fe=d[q],j=_==null?void 0:_[q],K={column_name:ae,cidx:Z,column_data:fe,column_data_listener_metadata:j,row_headers:f,first_col:O},ce=q+k,ke=Z+Math.floor(k),Ae=this.header.draw(void 0,ae,void 0,ce,ke,k,Z,b,S);if(D=this.body.draw(s,K,F,!1,ce,k,ke,$),O=!1,!i)for(let{td:le,metadata:Se}of D.tds)W.push([(Ae==null?void 0:Ae.th)||le,(Ae==null?void 0:Ae.metadata)||Se]);let Pe=this._column_sizes.indices[Z+Math.floor(k)];if(Pe?F.viewport_width+=Pe:F.viewport_width+=((V=Ae==null?void 0:Ae.th)==null?void 0:V.offsetWidth)||D.tds.reduce((le,Se)=>{var Te;return le+((Te=Se.td)==null?void 0:Te.offsetWidth)},0),F.row_height=F.row_height||D.row_height,Z++,q++,F.viewport_width-F.sub_cell_offset>l){this.body.clean({ridx:(D==null?void 0:D.ridx)||0,cidx:Z}),this.header.clean(),yield W,F.viewport_width=0;for(let[le]of W)F.viewport_width+=le.offsetWidth;if(F.viewport_width-F.sub_cell_offset>l)return}}this.body.clean({ridx:(D==null?void 0:D.ridx)||0,cidx:Z}),this.header.clean(),yield W}finally{this.body.clean({ridx:(D==null?void 0:D.ridx)||0,cidx:Z}),this.header.clean(),this.body._span_factory.reset(),this.header._span_factory.reset()}}},Dm=["both","horizontal","vertical","none"],Im=class extends Lm{constructor(){super(),this._column_sizes={auto:[],override:[],indices:[]},this._style_callbacks=[],this._initialized=!1}connectedCallback(){this._initialized||(this.create_shadow_dom(),this.register_listeners(),this.setAttribute("tabindex","0"),this._initialized=!0,this.table_model=new xu(this._table_clip,this._column_sizes,this))}_reset_viewport(){this._start_row=void 0,this._end_row=void 0,this._start_col=void 0,this._end_col=void 0}_reset_scroll(){this._column_sizes.indices=[],this.scrollTop=0,this.scrollLeft=0,this._reset_viewport()}_resetAutoSize(){this._column_sizes.auto=[],this._column_sizes.override=[],this._column_sizes.indices=[];for(let t=0;t<this.table_model.header.num_columns();t++){let n=this.table_model.header.get_column_header(t);n.style.minWidth="",n.style.maxWidth=""}}clear(){this.table_model=new xu(this._table_clip,this._column_sizes,this)}addStyleListener(t){this._style_callbacks=this._style_callbacks.concat(t);let n=!0;return()=>{if(!n)return;n=!1;let r=this._style_callbacks=this._style_callbacks.slice(),i=r.indexOf(t);r.splice(i,1)}}removeStyleListener(t){let n=this._style_callbacks.length;this._style_callbacks=this._style_callbacks.filter(r=>r!==t),console.assert(this._style_callbacks.length===n-1,"No listener found")}invalidate(){if(!this._is_styling)throw new Error("Cannot call `invalidate()` outside of a `StyleListener`");this._invalidated=!0}getMeta(t){if(!(typeof t>"u")){if(t instanceof HTMLElement)return Yn.get(t);if(t.row_header_x>=0){if(t.row_header_x<this._view_cache.config.row_pivots.length){let n=this.table_model.body._fetch_cell(t.y,t.row_header_x);return this.getMeta(n)}}else if(t.column_header_y>=0){if(t.column_header_y<this._view_cache.config.column_pivots.length){let n=this.table_model.body._fetch_cell(t.column_header_y,t.y);return this.getMeta(n)}}else return this.getMeta(this.table_model.body._fetch_cell(t.dy,t.dx+this.table_model._row_headers_length))}}getDrawFPS(){return Em()}async scrollToCell(t,n){if(!this._view_cache){console.warn("data listener not configured");return}let r=this._column_sizes.row_height||19,i=this._view_cache.config.column_pivots.length*r,a=(this._table_clip.offsetHeight-i)%r,o=(this._virtual_panel.offsetHeight-a)/this._nrows;this.scrollTop=Math.ceil(o*n);let l=0;for(;t>0;)t--,l+=this._column_sizes.indices[t+this._view_cache.config.row_pivots.length]||60;this.scrollLeft=Math.ceil(l),await new Promise(requestAnimationFrame),await this._draw_flush()}setDataListener(t,{virtual_mode:n="both",preserve_state:r=!1}={}){if(console.assert(Dm.indexOf(n)>-1,`Unknown virtual_mode ${n};  valid options are "both" (default), "horizontal", "vertical" or "none"`),r)console.assert(!virtual_mode_changed,"preserve_state called with modified virtual_mode"),this._view_cache.view=t;else{let i=this._virtual_mode=n,a={row_pivots:[],column_pivots:[]};this._virtual_mode=n,this._invalid_schema=!0,this._view_cache={view:t,config:a},i&&this._setup_virtual_scroll()}}__noop_jsdoc_hints(){}};document.createElement("regular-table").constructor===HTMLElement&&window.customElements.define("regular-table",Im);function Pm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yi={exports:{}},Fm=yi.exports,ku;function Um(){return ku||(ku=1,function(e,t){/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var n,r,i,a,o,l,s,c,u,d,f,h,_,p,x,b,A,$,S,w,k,I,L,G,F,D,Z,W,O,H,z,Q,V,q,U,ae,fe,j,K,ce,ke,Ae,Pe,le,Se,Te,re,Ie,Ce,pt,Ee,Gt,Ur,Cc,Nc,ft,Oc,Lc,zc,Rc,Vc,Dc,Ic,el,tl,nl,Pc,Fc,Uc,fa,da,jc,$t,Wc,jr,Nt,rl,qe,Ye,xn,ha,_a,jt=[].slice;qe=function(){var g,m,y,M,E;for(g={},E="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),M=0,m=E.length;M<m;M++)y=E[M],g["[object "+y+"]"]=y.toLowerCase();return function(C){var N;return N=Object.prototype.toString.call(C),g[N]||"object"}}(),re=function(g,m,y){return m==null&&(m=0),y==null&&(y=1),g<m&&(g=m),g>y&&(g=y),g},Ye=function(g){return g.length>=3?Array.prototype.slice.call(g):g[0]},k=function(g){var m,y;for(g._clipped=!1,g._unclipped=g.slice(0),m=y=0;y<3;m=++y)m<3?((g[m]<0||g[m]>255)&&(g._clipped=!0),g[m]<0&&(g[m]=0),g[m]>255&&(g[m]=255)):m===3&&(g[m]<0&&(g[m]=0),g[m]>1&&(g[m]=1));return g._clipped||delete g._unclipped,g},a=Math.PI,$t=Math.round,L=Math.cos,W=Math.floor,ft=Math.pow,Ie=Math.log,jr=Math.sin,Nt=Math.sqrt,p=Math.atan2,Ee=Math.max,_=Math.abs,s=a*2,o=a/3,r=a/180,l=180/a,w=function(){return arguments[0]instanceof n?arguments[0]:function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,arguments,function(){})},w.default=w,h=[],e!==null&&e.exports!=null&&(e.exports=w),jc=t!==null?t:this,jc.chroma=w,w.version="1.4.1",f={},u=[],d=!1,n=function(){function g(){var m,y,M,E,C,N,R,Y,ee;for(N=this,y=[],Y=0,E=arguments.length;Y<E;Y++)m=arguments[Y],m!=null&&y.push(m);if(y.length>1&&(R=y[y.length-1]),f[R]!=null)N._rgb=k(f[R](Ye(y.slice(0,-1))));else{for(d||(u=u.sort(function(se,me){return me.p-se.p}),d=!0),ee=0,C=u.length;ee<C&&(M=u[ee],R=M.test.apply(M,y),!R);ee++);R&&(N._rgb=k(f[R].apply(f,y)))}N._rgb==null&&console.warn("unknown format: "+y),N._rgb==null&&(N._rgb=[0,0,0]),N._rgb.length===3&&N._rgb.push(1)}return g.prototype.toString=function(){return this.hex()},g}(),w._input=f;/**
	ColorBrewer colors for chroma.js

	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
	Pennsylvania State University.

	Licensed under the Apache License, Version 2.0 (the "License"); 
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at	
	http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software distributed
	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
	CONDITIONS OF ANY KIND, either express or implied. See the License for the
	specific language governing permissions and limitations under the License.

    @preserve
 */w.brewer=$={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var g,m;m=[];for(g in $)m.push($[g.toLowerCase()]=$[g]);return m}(),xn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},w.colors=xn,Ae=function(){var g,m,y,M,E,C,N,R,Y;return m=Ye(arguments),E=m[0],g=m[1],y=m[2],R=(E+16)/116,N=isNaN(g)?R:R+g/500,Y=isNaN(y)?R:R-y/200,R=i.Yn*Pe(R),N=i.Xn*Pe(N),Y=i.Zn*Pe(Y),C=_a(3.2404542*N-1.5371385*R-.4985314*Y),M=_a(-.969266*N+1.8760108*R+.041556*Y),y=_a(.0556434*N-.2040259*R+1.0572252*Y),[C,M,y,m.length>3?m[3]:1]},_a=function(g){return 255*(g<=.00304?12.92*g:1.055*ft(g,1/2.4)-.055)},Pe=function(g){return g>i.t1?g*g*g:i.t2*(g-i.t0)},i={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},el=function(){var g,m,y,M,E,C,N,R;return M=Ye(arguments),y=M[0],m=M[1],g=M[2],E=Uc(y,m,g),C=E[0],N=E[1],R=E[2],[116*N-16,500*(C-N),200*(N-R)]},fa=function(g){return(g/=255)<=.04045?g/12.92:ft((g+.055)/1.055,2.4)},ha=function(g){return g>i.t3?ft(g,1/3):g/i.t2+i.t0},Uc=function(){var g,m,y,M,E,C,N;return M=Ye(arguments),y=M[0],m=M[1],g=M[2],y=fa(y),m=fa(m),g=fa(g),E=ha((.4124564*y+.3575761*m+.1804375*g)/i.Xn),C=ha((.2126729*y+.7151522*m+.072175*g)/i.Yn),N=ha((.0193339*y+.119192*m+.9503041*g)/i.Zn),[E,C,N]},w.lab=function(){return function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,jt.call(arguments).concat(["lab"]),function(){})},f.lab=Ae,n.prototype.lab=function(){return el(this._rgb)},x=function(g){var m,y,M,E,C,N,R,Y,ee,se,me;return g=function(){var oe,ne,_e;for(_e=[],ne=0,oe=g.length;ne<oe;ne++)E=g[ne],_e.push(w(E));return _e}(),g.length===2?(ee=function(){var oe,ne,_e;for(_e=[],ne=0,oe=g.length;ne<oe;ne++)E=g[ne],_e.push(E.lab());return _e}(),C=ee[0],N=ee[1],m=function(oe){var ne,_e;return _e=function(){var Me,Oe;for(Oe=[],ne=Me=0;Me<=2;ne=++Me)Oe.push(C[ne]+oe*(N[ne]-C[ne]));return Oe}(),w.lab.apply(w,_e)}):g.length===3?(se=function(){var oe,ne,_e;for(_e=[],ne=0,oe=g.length;ne<oe;ne++)E=g[ne],_e.push(E.lab());return _e}(),C=se[0],N=se[1],R=se[2],m=function(oe){var ne,_e;return _e=function(){var Me,Oe;for(Oe=[],ne=Me=0;Me<=2;ne=++Me)Oe.push((1-oe)*(1-oe)*C[ne]+2*(1-oe)*oe*N[ne]+oe*oe*R[ne]);return Oe}(),w.lab.apply(w,_e)}):g.length===4?(me=function(){var oe,ne,_e;for(_e=[],ne=0,oe=g.length;ne<oe;ne++)E=g[ne],_e.push(E.lab());return _e}(),C=me[0],N=me[1],R=me[2],Y=me[3],m=function(oe){var ne,_e;return _e=function(){var Me,Oe;for(Oe=[],ne=Me=0;Me<=2;ne=++Me)Oe.push((1-oe)*(1-oe)*(1-oe)*C[ne]+3*(1-oe)*(1-oe)*oe*N[ne]+3*(1-oe)*oe*oe*R[ne]+oe*oe*oe*Y[ne]);return Oe}(),w.lab.apply(w,_e)}):g.length===5&&(y=x(g.slice(0,3)),M=x(g.slice(2,5)),m=function(oe){return oe<.5?y(oe*2):M((oe-.5)*2)}),m},w.bezier=function(g){var m;return m=x(g),m.scale=function(){return w.scale(m)},m},w.cubehelix=function(g,m,y,M,E){var C,N,R;return g==null&&(g=300),m==null&&(m=-1.5),y==null&&(y=1),M==null&&(M=1),E==null&&(E=[0,1]),C=0,qe(E)==="array"?N=E[1]-E[0]:(N=0,E=[E,E]),R=function(Y){var ee,se,me,oe,ne,_e,Me,Oe,ye;return ee=s*((g+120)/360+m*Y),Me=ft(E[0]+N*Y,M),_e=C!==0?y[0]+Y*C:y,se=_e*Me*(1-Me)/2,oe=L(ee),ye=jr(ee),Oe=Me+se*(-.14861*oe+1.78277*ye),ne=Me+se*(-.29227*oe-.90649*ye),me=Me+se*(1.97294*oe),w(k([Oe*255,ne*255,me*255,1]))},R.start=function(Y){return Y==null?g:(g=Y,R)},R.rotations=function(Y){return Y==null?m:(m=Y,R)},R.gamma=function(Y){return Y==null?M:(M=Y,R)},R.hue=function(Y){return Y==null?y:(y=Y,qe(y)==="array"?(C=y[1]-y[0],C===0&&(y=y[1])):C=0,R)},R.lightness=function(Y){return Y==null?E:(qe(Y)==="array"?(E=Y,N=Y[1]-Y[0]):(E=[Y,Y],N=0),R)},R.scale=function(){return w.scale(R)},R.hue(y),R},w.random=function(){var g,m,y;for(m="0123456789abcdef",g="#",y=0;y<6;++y)g+=m.charAt(W(Math.random()*16));return new n(g)},h=[],U=function(g,m,y,M){var E,C,N,R;for(y==null&&(y=.5),M==null&&(M="rgb"),qe(g)!=="object"&&(g=w(g)),qe(m)!=="object"&&(m=w(m)),N=0,C=h.length;N<C;N++)if(E=h[N],M===E[0]){R=E[1](g,m,y,M);break}if(R==null)throw"color mode "+M+" is not supported";return R.alpha(g.alpha()+y*(m.alpha()-g.alpha()))},w.interpolate=U,n.prototype.interpolate=function(g,m,y){return U(this,g,m,y)},w.mix=U,n.prototype.mix=n.prototype.interpolate,f.rgb=function(){var g,m,y,M;m=Ye(arguments),y=[];for(g in m)M=m[g],y.push(M);return y},w.rgb=function(){return function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,jt.call(arguments).concat(["rgb"]),function(){})},n.prototype.rgb=function(g){return g==null&&(g=!0),g?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(g){return g==null&&(g=!0),g?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},u.push({p:3,test:function(g){var m;if(m=Ye(arguments),qe(m)==="array"&&m.length===3||m.length===4&&qe(m[3])==="number"&&m[3]>=0&&m[3]<=1)return"rgb"}}),f.lrgb=f.rgb,j=function(g,m,y,M){var E,C;return E=g._rgb,C=m._rgb,new n(Nt(ft(E[0],2)*(1-y)+ft(C[0],2)*y),Nt(ft(E[1],2)*(1-y)+ft(C[1],2)*y),Nt(ft(E[2],2)*(1-y)+ft(C[2],2)*y),M)},c=function(g){var m,y,M,E,C,N;for(y=1/g.length,N=[0,0,0,0],E=0,M=g.length;E<M;E++)m=g[E],C=m._rgb,N[0]+=ft(C[0],2)*y,N[1]+=ft(C[1],2)*y,N[2]+=ft(C[2],2)*y,N[3]+=C[3]*y;return N[0]=Nt(N[0]),N[1]=Nt(N[1]),N[2]=Nt(N[2]),N[3]>1&&(N[3]=1),new n(k(N))},h.push(["lrgb",j]),w.average=function(g,m){var y,M,E,C,N,R,Y,ee,se,me,oe,ne,_e;if(m==null&&(m="rgb"),se=g.length,g=g.map(function(Me){return w(Me)}),Y=g.splice(0,1)[0],m==="lrgb")return c(g);ne=Y.get(m),C=[],N=0,R=0;for(ee in ne)ne[ee]=ne[ee]||0,C.push(isNaN(ne[ee])?0:1),m.charAt(ee)==="h"&&!isNaN(ne[ee])&&(y=ne[ee]/180*a,N+=L(y),R+=jr(y));for(M=Y.alpha(),oe=0,me=g.length;oe<me;oe++){E=g[oe],_e=E.get(m),M+=E.alpha();for(ee in ne)isNaN(_e[ee])||(C[ee]+=1,m.charAt(ee)==="h"?(y=_e[ee]/180*a,N+=L(y),R+=jr(y)):ne[ee]+=_e[ee])}for(ee in ne)if(m.charAt(ee)==="h"){for(y=p(R/C[ee],N/C[ee])/a*180;y<0;)y+=360;for(;y>=360;)y-=360;ne[ee]=y}else ne[ee]=ne[ee]/C[ee];return w(ne,m).alpha(M/se)},H=function(g){var m,y,M,E,C,N;if(g.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(g.length===4||g.length===7)&&(g=g.substr(1)),g.length===3&&(g=g.split(""),g=g[0]+g[0]+g[1]+g[1]+g[2]+g[2]),N=parseInt(g,16),E=N>>16,M=N>>8&255,y=N&255,[E,M,y,1];if(g.match(/^#?([A-Fa-f0-9]{8})$/))return g.length===9&&(g=g.substr(1)),N=parseInt(g,16),E=N>>24&255,M=N>>16&255,y=N>>8&255,m=$t((N&255)/255*100)/100,[E,M,y,m];if(f.css!=null&&(C=f.css(g)))return C;throw"unknown color: "+g},Rc=function(g,m){var y,M,E,C,N,R,Y;return m==null&&(m="auto"),N=g[0],E=g[1],M=g[2],y=g[3],m==="auto"&&(m=y<1?"rgba":"rgb"),N=Math.round(N),E=Math.round(E),M=Math.round(M),Y=N<<16|E<<8|M,R="000000"+Y.toString(16),R=R.substr(R.length-6),C="0"+$t(y*255).toString(16),C=C.substr(C.length-2),"#"+function(){switch(m.toLowerCase()){case"rgba":return R+C;case"argb":return C+R;default:return R}}()},f.hex=function(g){return H(g)},w.hex=function(){return function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,jt.call(arguments).concat(["hex"]),function(){})},n.prototype.hex=function(g){return g==null&&(g="auto"),Rc(this._rgb,g)},u.push({p:4,test:function(g){if(arguments.length===1&&qe(g)==="string")return"hex"}}),V=function(){var g,m,y,M,E,C,N,R,Y,ee,se,me,oe,ne;if(g=Ye(arguments),E=g[0],se=g[1],N=g[2],se===0)Y=M=m=N*255;else{for(ne=[0,0,0],y=[0,0,0],oe=N<.5?N*(1+se):N+se-N*se,me=2*N-oe,E/=360,ne[0]=E+1/3,ne[1]=E,ne[2]=E-1/3,C=R=0;R<=2;C=++R)ne[C]<0&&(ne[C]+=1),ne[C]>1&&(ne[C]-=1),6*ne[C]<1?y[C]=me+(oe-me)*6*ne[C]:2*ne[C]<1?y[C]=oe:3*ne[C]<2?y[C]=me+(oe-me)*(2/3-ne[C])*6:y[C]=me;ee=[$t(y[0]*255),$t(y[1]*255),$t(y[2]*255)],Y=ee[0],M=ee[1],m=ee[2]}return g.length>3?[Y,M,m,g[3]]:[Y,M,m]},Dc=function(g,m,y){var M,E,C,N,R;return g!==void 0&&g.length>=3&&(N=g,g=N[0],m=N[1],y=N[2]),g/=255,m/=255,y/=255,C=Math.min(g,m,y),Ee=Math.max(g,m,y),E=(Ee+C)/2,Ee===C?(R=0,M=Number.NaN):R=E<.5?(Ee-C)/(Ee+C):(Ee-C)/(2-Ee-C),g===Ee?M=(m-y)/(Ee-C):m===Ee?M=2+(y-g)/(Ee-C):y===Ee&&(M=4+(g-m)/(Ee-C)),M*=60,M<0&&(M+=360),[M,R,E]},w.hsl=function(){return function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,jt.call(arguments).concat(["hsl"]),function(){})},f.hsl=V,n.prototype.hsl=function(){return Dc(this._rgb)},q=function(){var g,m,y,M,E,C,N,R,Y,ee,se,me,oe,ne,_e,Me,Oe,ye;if(g=Ye(arguments),E=g[0],Me=g[1],ye=g[2],ye*=255,Me===0)Y=M=m=ye;else switch(E===360&&(E=0),E>360&&(E-=360),E<0&&(E+=360),E/=60,C=W(E),y=E-C,N=ye*(1-Me),R=ye*(1-Me*y),Oe=ye*(1-Me*(1-y)),C){case 0:ee=[ye,Oe,N],Y=ee[0],M=ee[1],m=ee[2];break;case 1:se=[R,ye,N],Y=se[0],M=se[1],m=se[2];break;case 2:me=[N,ye,Oe],Y=me[0],M=me[1],m=me[2];break;case 3:oe=[N,R,ye],Y=oe[0],M=oe[1],m=oe[2];break;case 4:ne=[Oe,N,ye],Y=ne[0],M=ne[1],m=ne[2];break;case 5:_e=[ye,N,R],Y=_e[0],M=_e[1],m=_e[2]}return[Y,M,m,g.length>3?g[3]:1]},Ic=function(){var g,m,y,M,E,C,N,R,Y;return N=Ye(arguments),C=N[0],y=N[1],g=N[2],E=Math.min(C,y,g),Ee=Math.max(C,y,g),m=Ee-E,Y=Ee/255,Ee===0?(M=Number.NaN,R=0):(R=m/Ee,C===Ee&&(M=(y-g)/m),y===Ee&&(M=2+(g-C)/m),g===Ee&&(M=4+(C-y)/m),M*=60,M<0&&(M+=360)),[M,R,Y]},w.hsv=function(){return function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,jt.call(arguments).concat(["hsv"]),function(){})},f.hsv=q,n.prototype.hsv=function(){return Ic(this._rgb)},Cc=function(g){var m,y,M;return qe(g)==="number"&&g>=0&&g<=16777215?(M=g>>16,y=g>>8&255,m=g&255,[M,y,m,1]):(console.warn("unknown num color: "+g),[0,0,0,1])},Pc=function(){var g,m,y,M;return M=Ye(arguments),y=M[0],m=M[1],g=M[2],(y<<16)+(m<<8)+g},w.num=function(g){return new n(g,"num")},n.prototype.num=function(g){return g==null&&(g="rgb"),Pc(this._rgb,g)},f.num=Cc,u.push({p:1,test:function(g){if(arguments.length===1&&qe(g)==="number"&&g>=0&&g<=16777215)return"num"}}),O=function(){var g,m,y,M,E,C,N,R,Y,ee,se,me,oe,ne,_e,Me,Oe,ye,nt,We;if(y=Ye(arguments),R=y[0],E=y[1],m=y[2],E=E/100,N=N/100*255,g=E*255,E===0)me=N=M=m;else switch(R===360&&(R=0),R>360&&(R-=360),R<0&&(R+=360),R/=60,Y=W(R),C=R-Y,ee=m*(1-E),se=ee+g*(1-C),nt=ee+g*C,We=ee+g,Y){case 0:oe=[We,nt,ee],me=oe[0],N=oe[1],M=oe[2];break;case 1:ne=[se,We,ee],me=ne[0],N=ne[1],M=ne[2];break;case 2:_e=[ee,We,nt],me=_e[0],N=_e[1],M=_e[2];break;case 3:Me=[ee,se,We],me=Me[0],N=Me[1],M=Me[2];break;case 4:Oe=[nt,ee,We],me=Oe[0],N=Oe[1],M=Oe[2];break;case 5:ye=[We,ee,se],me=ye[0],N=ye[1],M=ye[2]}return[me,N,M,y.length>3?y[3]:1]},zc=function(){var g,m,y,M,E,C,N,R,Y;return Y=Ye(arguments),R=Y[0],E=Y[1],m=Y[2],N=Math.min(R,E,m),Ee=Math.max(R,E,m),M=Ee-N,y=M*100/255,g=N/(255-M)*100,M===0?C=Number.NaN:(R===Ee&&(C=(E-m)/M),E===Ee&&(C=2+(m-R)/M),m===Ee&&(C=4+(R-E)/M),C*=60,C<0&&(C+=360)),[C,y,g]},w.hcg=function(){return function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,jt.call(arguments).concat(["hcg"]),function(){})},f.hcg=O,n.prototype.hcg=function(){return zc(this._rgb)},G=function(g){var m,y,M,E,C,N,R,Y;if(g=g.toLowerCase(),w.colors!=null&&w.colors[g])return H(w.colors[g]);if(C=g.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(R=C.slice(1,4),E=N=0;N<=2;E=++N)R[E]=+R[E];R[3]=1}else if(C=g.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(R=C.slice(1,5),E=Y=0;Y<=3;E=++Y)R[E]=+R[E];else if(C=g.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(R=C.slice(1,4),E=m=0;m<=2;E=++m)R[E]=$t(R[E]*2.55);R[3]=1}else if(C=g.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(R=C.slice(1,5),E=y=0;y<=2;E=++y)R[E]=$t(R[E]*2.55);R[3]=+R[3]}else(C=g.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(M=C.slice(1,4),M[1]*=.01,M[2]*=.01,R=V(M),R[3]=1):(C=g.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(M=C.slice(1,4),M[1]*=.01,M[2]*=.01,R=V(M),R[3]=+C[4]);return R},Lc=function(g){var m;if(m=g[3]<1?"rgba":"rgb",m==="rgb")return m+"("+g.slice(0,3).map($t).join(",")+")";if(m==="rgba")return m+"("+g.slice(0,3).map($t).join(",")+","+g[3]+")"},da=function(g){return $t(g*100)/100},Q=function(g,m){var y;return y=m<1?"hsla":"hsl",g[0]=da(g[0]||0),g[1]=da(g[1]*100)+"%",g[2]=da(g[2]*100)+"%",y==="hsla"&&(g[3]=m),y+"("+g.join(",")+")"},f.css=function(g){return G(g)},w.css=function(){return function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,jt.call(arguments).concat(["css"]),function(){})},n.prototype.css=function(g){if(g==null&&(g="rgb"),g.slice(0,3)==="rgb")return Lc(this._rgb);if(g.slice(0,3)==="hsl")return Q(this.hsl(),this.alpha())},f.named=function(g){return H(xn[g])},u.push({p:5,test:function(g){if(arguments.length===1&&xn[g]!=null)return"named"}}),n.prototype.name=function(g){var m,y;arguments.length&&(xn[g]&&(this._rgb=H(xn[g])),this._rgb[3]=1),m=this.hex("rgb");for(y in xn)if(m===xn[y])return y;return m},le=function(){var g,m,y,M;return M=Ye(arguments),y=M[0],g=M[1],m=M[2],m=m*r,[y,L(m)*g,jr(m)*g]},Se=function(){var g,m,y,M,E,C,N,R,Y,ee,se;return y=Ye(arguments),R=y[0],E=y[1],N=y[2],ee=le(R,E,N),g=ee[0],m=ee[1],M=ee[2],se=Ae(g,m,M),Y=se[0],C=se[1],M=se[2],[Y,C,M,y.length>3?y[3]:1]},ke=function(){var g,m,y,M,E,C;return C=Ye(arguments),E=C[0],g=C[1],m=C[2],y=Nt(g*g+m*m),M=(p(m,g)*l+360)%360,$t(y*1e4)===0&&(M=Number.NaN),[E,y,M]},tl=function(){var g,m,y,M,E,C,N;return C=Ye(arguments),E=C[0],y=C[1],m=C[2],N=el(E,y,m),M=N[0],g=N[1],m=N[2],ke(M,g,m)},w.lch=function(){var g;return g=Ye(arguments),new n(g,"lch")},w.hcl=function(){var g;return g=Ye(arguments),new n(g,"hcl")},f.lch=Se,f.hcl=function(){var g,m,y,M;return M=Ye(arguments),m=M[0],g=M[1],y=M[2],Se([y,g,m])},n.prototype.lch=function(){return tl(this._rgb)},n.prototype.hcl=function(){return tl(this._rgb).reverse()},Oc=function(g){var m,y,M,E,C,N,R,Y,ee;return g==null&&(g="rgb"),Y=Ye(arguments),R=Y[0],E=Y[1],m=Y[2],R=R/255,E=E/255,m=m/255,C=1-Math.max(R,Math.max(E,m)),M=C<1?1/(1-C):0,y=(1-R-C)*M,N=(1-E-C)*M,ee=(1-m-C)*M,[y,N,ee,C]},I=function(){var g,m,y,M,E,C,N,R,Y;return m=Ye(arguments),M=m[0],N=m[1],Y=m[2],C=m[3],g=m.length>4?m[4]:1,C===1?[0,0,0,g]:(R=M>=1?0:255*(1-M)*(1-C),E=N>=1?0:255*(1-N)*(1-C),y=Y>=1?0:255*(1-Y)*(1-C),[R,E,y,g])},f.cmyk=function(){return I(Ye(arguments))},w.cmyk=function(){return function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,jt.call(arguments).concat(["cmyk"]),function(){})},n.prototype.cmyk=function(){return Oc(this._rgb)},f.gl=function(){var g,m,y,M,E;for(M=(function(){var C,N;C=Ye(arguments),N=[];for(m in C)E=C[m],N.push(E);return N}).apply(this,arguments),g=y=0;y<=2;g=++y)M[g]*=255;return M},w.gl=function(){return function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,jt.call(arguments).concat(["gl"]),function(){})},n.prototype.gl=function(){var g;return g=this._rgb,[g[0]/255,g[1]/255,g[2]/255,g[3]]},nl=function(g,m,y){var M;return M=Ye(arguments),g=M[0],m=M[1],y=M[2],g=Ce(g),m=Ce(m),y=Ce(y),.2126*g+.7152*m+.0722*y},Ce=function(g){return g/=255,g<=.03928?g/12.92:ft((g+.055)/1.055,2.4)},ce=function(g,m,y,M){var E,C;return E=g._rgb,C=m._rgb,new n(E[0]+y*(C[0]-E[0]),E[1]+y*(C[1]-E[1]),E[2]+y*(C[2]-E[2]),M)},h.push(["rgb",ce]),n.prototype.luminance=function(g,m){var y,M,E,C,N;return m==null&&(m="rgb"),arguments.length?(C=this._rgb,g===0?C=[0,0,0,this._rgb[3]]:g===1?C=[255,255,255,this[3]]:(y=nl(this._rgb),M=1e-7,E=20,N=function(R,Y){var ee,se;return se=R.interpolate(Y,.5,m),ee=se.luminance(),Math.abs(g-ee)<M||!E--?se:ee>g?N(R,se):N(se,Y)},y>g?C=N(w("black"),this).rgba():C=N(this,w("white")).rgba()),w(C).alpha(this.alpha())):nl(this._rgb)},rl=function(g){var m,y,M,E;return E=g/100,E<66?(M=255,y=-155.25485562709179-.44596950469579133*(y=E-2)+104.49216199393888*Ie(y),m=E<20?0:-254.76935184120902+.8274096064007395*(m=E-10)+115.67994401066147*Ie(m)):(M=351.97690566805693+.114206453784165*(M=E-55)-40.25366309332127*Ie(M),y=325.4494125711974+.07943456536662342*(y=E-50)-28.0852963507957*Ie(y),m=255),[M,y,m]},Fc=function(){var g,m,y,M,E,C,N,R;for(C=Ye(arguments),E=C[0],C[1],g=C[2],M=1e3,y=4e4,m=.4;y-M>m;)R=(y+M)*.5,N=rl(R),N[2]/N[0]>=g/E?y=R:M=R;return $t(R)},w.temperature=w.kelvin=function(){return function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,jt.call(arguments).concat(["temperature"]),function(){})},f.temperature=f.kelvin=f.K=rl,n.prototype.temperature=function(){return Fc(this._rgb)},n.prototype.kelvin=n.prototype.temperature,w.contrast=function(g,m){var y,M,E,C;return((E=qe(g))==="string"||E==="number")&&(g=new n(g)),((C=qe(m))==="string"||C==="number")&&(m=new n(m)),y=g.luminance(),M=m.luminance(),y>M?(y+.05)/(M+.05):(M+.05)/(y+.05)},w.distance=function(g,m,y){var M,E,C,N,R,Y,ee;y==null&&(y="lab"),((R=qe(g))==="string"||R==="number")&&(g=new n(g)),((Y=qe(m))==="string"||Y==="number")&&(m=new n(m)),C=g.get(y),N=m.get(y),ee=0;for(E in C)M=(C[E]||0)-(N[E]||0),ee+=M*M;return Math.sqrt(ee)},w.deltaE=function(g,m,y,M){var E,C,N,R,Y,ee,se,me,oe,ne,_e,Me,Oe,ye,nt,We,Ot,Qt,Re,X,be,Ne,Fe,$e,De,Ve,He;for(y==null&&(y=1),M==null&&(M=1),((Ot=qe(g))==="string"||Ot==="number")&&(g=new n(g)),((Qt=qe(m))==="string"||Qt==="number")&&(m=new n(m)),Re=g.lab(),E=Re[0],N=Re[1],Y=Re[2],X=m.lab(),C=X[0],R=X[1],ee=X[2],se=Nt(N*N+Y*Y),me=Nt(R*R+ee*ee),Fe=E<16?.511:.040975*E/(1+.01765*E),be=.0638*se/(1+.0131*se)+.638,We=se<1e-6?0:p(Y,N)*180/a;We<0;)We+=360;for(;We>=360;)We-=360;return $e=We>=164&&We<=345?.56+_(.2*L(a*(We+168)/180)):.36+_(.4*L(a*(We+35)/180)),oe=se*se*se*se,nt=Nt(oe/(oe+1900)),Ne=be*(nt*$e+1-nt),ye=E-C,Oe=se-me,_e=N-R,Me=Y-ee,ne=_e*_e+Me*Me-Oe*Oe,De=ye/(y*Fe),Ve=Oe/(M*be),He=Ne,Nt(De*De+Ve*Ve+ne/(He*He))},n.prototype.get=function(g){var m,y,M,E,C,N;return M=this,C=g.split("."),E=C[0],m=C[1],N=M[E](),m?(y=E.indexOf(m),y>-1?N[y]:console.warn("unknown channel "+m+" in mode "+E)):N},n.prototype.set=function(g,m){var y,M,E,C,N,R;if(E=this,N=g.split("."),C=N[0],y=N[1],y)if(R=E[C](),M=C.indexOf(y),M>-1)if(qe(m)==="string")switch(m.charAt(0)){case"+":R[M]+=+m;break;case"-":R[M]+=+m;break;case"*":R[M]*=+m.substr(1);break;case"/":R[M]/=+m.substr(1);break;default:R[M]=+m}else R[M]=m;else console.warn("unknown channel "+y+" in mode "+C);else R=m;return w(R,C).alpha(E.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(g){return arguments.length?w.rgb([this._rgb[0],this._rgb[1],this._rgb[2],g]):this._rgb[3]},n.prototype.darken=function(g){var m,y;return g==null&&(g=1),y=this,m=y.lab(),m[0]-=i.Kn*g,w.lab(m).alpha(y.alpha())},n.prototype.brighten=function(g){return g==null&&(g=1),this.darken(-g)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(g){var m,y;return g==null&&(g=1),y=this,m=y.lch(),m[1]+=g*i.Kn,m[1]<0&&(m[1]=0),w.lch(m).alpha(y.alpha())},n.prototype.desaturate=function(g){return g==null&&(g=1),this.saturate(-g)},n.prototype.premultiply=function(){var g,m;return m=this.rgb(),g=this.alpha(),w(m[0]*g,m[1]*g,m[2]*g,g)},b=function(g,m,y){if(!b[y])throw"unknown blend mode "+y;return b[y](g,m)},A=function(g){return function(m,y){var M,E;return M=w(y).rgb(),E=w(m).rgb(),w(g(M,E),"rgb")}},Z=function(g){return function(m,y){var M,E,C;for(C=[],M=E=0;E<=3;M=++E)C[M]=g(m[M],y[M]);return C}},Ur=function(g,m){return g},Gt=function(g,m){return g*m/255},F=function(g,m){return g>m?m:g},Te=function(g,m){return g>m?g:m},Wc=function(g,m){return 255*(1-(1-g/255)*(1-m/255))},Nc=function(g,m){return m<128?2*g*m/255:255*(1-2*(1-g/255)*(1-m/255))},S=function(g,m){return 255*(1-(1-m/255)/(g/255))},D=function(g,m){return g===255||(g=255*(m/255)/(1-g/255),g>255)?255:g},b.normal=A(Z(Ur)),b.multiply=A(Z(Gt)),b.screen=A(Z(Wc)),b.overlay=A(Z(Nc)),b.darken=A(Z(F)),b.lighten=A(Z(Te)),b.dodge=A(Z(D)),b.burn=A(Z(S)),w.blend=b,w.analyze=function(g){var m,y,M,E;for(M={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},y=0,m=g.length;y<m;y++)E=g[y],E!=null&&!isNaN(E)&&(M.values.push(E),M.sum+=E,E<M.min&&(M.min=E),E>M.max&&(M.max=E),M.count+=1);return M.domain=[M.min,M.max],M.limits=function(C,N){return w.limits(M,C,N)},M},w.scale=function(g,m){var y,M,E,C,N,R,Y,ee,se,me,oe,ne,_e,Me,Oe,ye,nt,We,Ot,Qt,Re;return se="rgb",me=w("#ccc"),Me=0,N=[0,1],_e=[],ne=[0,0],y=!1,E=[],oe=!1,ee=0,Y=1,C=!1,M={},Oe=!0,R=1,Qt=function(X){var be,Ne,Fe,$e,De,Ve;if(X==null&&(X=["#fff","#000"]),X!=null&&qe(X)==="string"&&w.brewer!=null&&(X=w.brewer[X]||w.brewer[X.toLowerCase()]||X),qe(X)==="array"){for(X.length===1&&(X=[X[0],X[0]]),X=X.slice(0),be=Fe=0,$e=X.length-1;0<=$e?Fe<=$e:Fe>=$e;be=0<=$e?++Fe:--Fe)Ne=X[be],qe(Ne)==="string"&&(X[be]=w(Ne));for(_e.length=0,be=Ve=0,De=X.length-1;0<=De?Ve<=De:Ve>=De;be=0<=De?++Ve:--Ve)_e.push(be/(X.length-1))}return Ot(),E=X},nt=function(X){var be,Ne;if(y!=null){for(Ne=y.length-1,be=0;be<Ne&&X>=y[be];)be++;return be-1}return 0},Re=function(X){return X},We=function(X,be){var Ne,Fe,$e,De,Ve,He,dt,Le;if(be==null&&(be=!1),isNaN(X)||X===null)return me;if(be?Le=X:y&&y.length>2?(Ne=nt(X),Le=Ne/(y.length-2)):Y!==ee?Le=(X-ee)/(Y-ee):Le=1,be||(Le=Re(Le)),R!==1&&(Le=ft(Le,R)),Le=ne[0]+Le*(1-ne[0]-ne[1]),Le=Math.min(1,Math.max(0,Le)),De=Math.floor(Le*1e4),Oe&&M[De])Fe=M[De];else{if(qe(E)==="array")for($e=Ve=0,dt=_e.length-1;0<=dt?Ve<=dt:Ve>=dt;$e=0<=dt?++Ve:--Ve){if(He=_e[$e],Le<=He){Fe=E[$e];break}if(Le>=He&&$e===_e.length-1){Fe=E[$e];break}if(Le>He&&Le<_e[$e+1]){Le=(Le-He)/(_e[$e+1]-He),Fe=w.interpolate(E[$e],E[$e+1],Le,se);break}}else qe(E)==="function"&&(Fe=E(Le));Oe&&(M[De]=Fe)}return Fe},Ot=function(){return M={}},Qt(g),ye=function(X){var be;return be=w(We(X)),oe&&be[oe]?be[oe]():be},ye.classes=function(X){var be;return X!=null?(qe(X)==="array"?(y=X,N=[X[0],X[X.length-1]]):(be=w.analyze(N),X===0?y=[be.min,be.max]:y=w.limits(be,"e",X)),ye):y},ye.domain=function(X){var be,Ne,Fe,$e,De,Ve,He;if(!arguments.length)return N;if(ee=X[0],Y=X[X.length-1],_e=[],Fe=E.length,X.length===Fe&&ee!==Y)for(De=0,$e=X.length;De<$e;De++)Ne=X[De],_e.push((Ne-ee)/(Y-ee));else for(be=He=0,Ve=Fe-1;0<=Ve?He<=Ve:He>=Ve;be=0<=Ve?++He:--He)_e.push(be/(Fe-1));return N=[ee,Y],ye},ye.mode=function(X){return arguments.length?(se=X,Ot(),ye):se},ye.range=function(X,be){return Qt(X,be),ye},ye.out=function(X){return oe=X,ye},ye.spread=function(X){return arguments.length?(Me=X,ye):Me},ye.correctLightness=function(X){return X==null&&(X=!0),C=X,Ot(),C?Re=function(be){var Ne,Fe,$e,De,Ve,He,dt,Le,tt;for(Ne=We(0,!0).lab()[0],Fe=We(1,!0).lab()[0],dt=Ne>Fe,$e=We(be,!0).lab()[0],Ve=Ne+(Fe-Ne)*be,De=$e-Ve,Le=0,tt=1,He=20;Math.abs(De)>.01&&He-- >0;)(function(){return dt&&(De*=-1),De<0?(Le=be,be+=(tt-be)*.5):(tt=be,be+=(Le-be)*.5),$e=We(be,!0).lab()[0],De=$e-Ve})();return be}:Re=function(be){return be},ye},ye.padding=function(X){return X!=null?(qe(X)==="number"&&(X=[X,X]),ne=X,ye):ne},ye.colors=function(X,be){var Ne,Fe,$e,De,Ve,He,dt,Le;if(arguments.length<2&&(be="hex"),Ve=[],arguments.length===0)Ve=E.slice(0);else if(X===1)Ve=[ye(.5)];else if(X>1)Fe=N[0],Ne=N[1]-Fe,Ve=(function(){He=[];for(var tt=0;0<=X?tt<X:tt>X;0<=X?tt++:tt--)He.push(tt);return He}).apply(this).map(function(tt){return ye(Fe+tt/(X-1)*Ne)});else{if(g=[],dt=[],y&&y.length>2)for($e=Le=1,De=y.length;1<=De?Le<De:Le>De;$e=1<=De?++Le:--Le)dt.push((y[$e-1]+y[$e])*.5);else dt=N;Ve=dt.map(function(tt){return ye(tt)})}return w[be]&&(Ve=Ve.map(function(tt){return tt[be]()})),Ve},ye.cache=function(X){return X!=null?(Oe=X,ye):Oe},ye.gamma=function(X){return X!=null?(R=X,ye):R},ye.nodata=function(X){return X!=null?(me=w(X),ye):me},ye},w.scales==null&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(g,m,y){var M,E,C,N,R,Y,ee;if(R={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},y==null&&(y=function(){return!0}),M=function(se){se!=null&&!isNaN(se)&&(R.values.push(se),R.sum+=se,se<R.min&&(R.min=se),se>R.max&&(R.max=se),R.count+=1)},ee=function(se,me){if(y(se,me))return m!=null&&qe(m)==="function"?M(m(se)):m!=null&&qe(m)==="string"||qe(m)==="number"?M(se[m]):M(se)},qe(g)==="array")for(N=0,C=g.length;N<C;N++)Y=g[N],ee(Y);else for(E in g)Y=g[E],ee(Y,E);return R.domain=[R.min,R.max],R.limits=function(se,me){return w.limits(R,se,me)},R},w.limits=function(g,m,y){var M,E,C,N,R,Y,ee,se,me,oe,ne,_e,Me,Oe,ye,nt,We,Ot,Qt,Re,X,be,Ne,Fe,$e,De,Ve,He,dt,Le,tt,ga,cr,il,Wr,qr,Br,Hr,Yr,Xr,qc,Gr,Qr,Kr,Jr,Zr,ei,ti,ni,ri,kn,pa,Bc,Kt,ii;if(m==null&&(m="equal"),y==null&&(y=7),qe(g)==="array"&&(g=w.analyze(g)),$e=g.min,Ee=g.max,g.sum,Kt=g.values.sort(function(al,ol){return al-ol}),y===1)return[$e,Ee];if(Ne=[],m.substr(0,1)==="c"&&(Ne.push($e),Ne.push(Ee)),m.substr(0,1)==="e"){for(Ne.push($e),Re=tt=1,Wr=y-1;1<=Wr?tt<=Wr:tt>=Wr;Re=1<=Wr?++tt:--tt)Ne.push($e+Re/y*(Ee-$e));Ne.push(Ee)}else if(m.substr(0,1)==="l"){if($e<=0)throw"Logarithmic scales are only possible for values > 0";for(De=Math.LOG10E*Ie($e),Fe=Math.LOG10E*Ie(Ee),Ne.push($e),Re=ii=1,qr=y-1;1<=qr?ii<=qr:ii>=qr;Re=1<=qr?++ii:--ii)Ne.push(ft(10,De+Re/y*(Fe-De)));Ne.push(Ee)}else if(m.substr(0,1)==="q"){for(Ne.push($e),Re=M=1,Gr=y-1;1<=Gr?M<=Gr:M>=Gr;Re=1<=Gr?++M:--M)ga=(Kt.length-1)*Re/y,cr=W(ga),cr===ga?Ne.push(Kt[cr]):(il=ga-cr,Ne.push(Kt[cr]*(1-il)+Kt[cr+1]*il));Ne.push(Ee)}else if(m.substr(0,1)==="k"){for(He=Kt.length,Oe=new Array(He),Ot=new Array(y),ri=!0,dt=0,nt=null,nt=[],nt.push($e),Re=E=1,Qr=y-1;1<=Qr?E<=Qr:E>=Qr;Re=1<=Qr?++E:--E)nt.push($e+Re/y*(Ee-$e));for(nt.push(Ee);ri;){for(X=C=0,Kr=y-1;0<=Kr?C<=Kr:C>=Kr;X=0<=Kr?++C:--C)Ot[X]=0;for(Re=N=0,Jr=He-1;0<=Jr?N<=Jr:N>=Jr;Re=0<=Jr?++N:--N){for(Bc=Kt[Re],Ve=Number.MAX_VALUE,X=R=0,Zr=y-1;0<=Zr?R<=Zr:R>=Zr;X=0<=Zr?++R:--R)Qt=_(nt[X]-Bc),Qt<Ve&&(Ve=Qt,ye=X);Ot[ye]++,Oe[Re]=ye}for(Le=new Array(y),X=Y=0,ei=y-1;0<=ei?Y<=ei:Y>=ei;X=0<=ei?++Y:--Y)Le[X]=null;for(Re=ee=0,ti=He-1;0<=ti?ee<=ti:ee>=ti;Re=0<=ti?++ee:--ee)We=Oe[Re],Le[We]===null?Le[We]=Kt[Re]:Le[We]+=Kt[Re];for(X=se=0,ni=y-1;0<=ni?se<=ni:se>=ni;X=0<=ni?++se:--se)Le[X]*=1/Ot[X];for(ri=!1,X=me=0,Br=y-1;0<=Br?me<=Br:me>=Br;X=0<=Br?++me:--me)if(Le[X]!==nt[Re]){ri=!0;break}nt=Le,dt++,dt>200&&(ri=!1)}for(be={},X=oe=0,Hr=y-1;0<=Hr?oe<=Hr:oe>=Hr;X=0<=Hr?++oe:--oe)be[X]=[];for(Re=ne=0,Yr=He-1;0<=Yr?ne<=Yr:ne>=Yr;Re=0<=Yr?++ne:--ne)We=Oe[Re],be[We].push(Kt[Re]);for(kn=[],X=_e=0,Xr=y-1;0<=Xr?_e<=Xr:_e>=Xr;X=0<=Xr?++_e:--_e)kn.push(be[X][0]),kn.push(be[X][be[X].length-1]);for(kn=kn.sort(function(al,ol){return al-ol}),Ne.push(kn[0]),Re=Me=1,qc=kn.length-1;Me<=qc;Re=Me+=2)pa=kn[Re],!isNaN(pa)&&Ne.indexOf(pa)===-1&&Ne.push(pa)}return Ne},z=function(g,m,y){var M,E,C,N;return M=Ye(arguments),g=M[0],m=M[1],y=M[2],isNaN(g)&&(g=0),g/=360,g<1/3?(E=(1-m)/3,N=(1+m*L(s*g)/L(o-s*g))/3,C=1-(E+N)):g<2/3?(g-=1/3,N=(1-m)/3,C=(1+m*L(s*g)/L(o-s*g))/3,E=1-(N+C)):(g-=2/3,C=(1-m)/3,E=(1+m*L(s*g)/L(o-s*g))/3,N=1-(C+E)),N=re(y*N*3),C=re(y*C*3),E=re(y*E*3),[N*255,C*255,E*255,M.length>3?M[3]:1]},Vc=function(){var g,m,y,M,E,C,N,R;return N=Ye(arguments),C=N[0],m=N[1],g=N[2],s=Math.PI*2,C/=255,m/=255,g/=255,E=Math.min(C,m,g),M=(C+m+g)/3,R=1-E/M,R===0?y=0:(y=(C-m+(C-g))/2,y/=Math.sqrt((C-m)*(C-m)+(C-g)*(m-g)),y=Math.acos(y),g>m&&(y=s-y),y/=s),[y*360,R,M]},w.hsi=function(){return function(g,m,y){y.prototype=g.prototype;var M=new y,E=g.apply(M,m);return Object(E)===E?E:M}(n,jt.call(arguments).concat(["hsi"]),function(){})},f.hsi=z,n.prototype.hsi=function(){return Vc(this._rgb)},ae=function(g,m,y,M){var E,C,N,R,Y,ee,se,me,oe,ne,_e,Me;return M==="hsl"?(_e=g.hsl(),Me=m.hsl()):M==="hsv"?(_e=g.hsv(),Me=m.hsv()):M==="hcg"?(_e=g.hcg(),Me=m.hcg()):M==="hsi"?(_e=g.hsi(),Me=m.hsi()):(M==="lch"||M==="hcl")&&(M="hcl",_e=g.hcl(),Me=m.hcl()),M.substr(0,1)==="h"&&(N=_e[0],oe=_e[1],ee=_e[2],R=Me[0],ne=Me[1],se=Me[2]),!isNaN(N)&&!isNaN(R)?(R>N&&R-N>180?E=R-(N+360):R<N&&N-R>180?E=R+360-N:E=R-N,C=N+y*E):isNaN(N)?isNaN(R)?C=Number.NaN:(C=R,(ee===1||ee===0)&&M!=="hsv"&&(me=ne)):(C=N,(se===1||se===0)&&M!=="hsv"&&(me=oe)),me==null&&(me=oe+y*(ne-oe)),Y=ee+y*(se-ee),w[M](C,me,Y)},h=h.concat(function(){var g,m,y,M;for(y=["hsv","hsl","hsi","hcl","lch","hcg"],M=[],m=0,g=y.length;m<g;m++)pt=y[m],M.push([pt,ae]);return M}()),K=function(g,m,y,M){var E,C;return E=g.num(),C=m.num(),w.num(E+(C-E)*y,"num")},h.push(["num",K]),fe=function(g,m,y,M){var E,C;return E=g.lab(),C=m.lab(),new n(E[0]+y*(C[0]-E[0]),E[1]+y*(C[1]-E[1]),E[2]+y*(C[2]-E[2]),M)},h.push(["lab",fe])}).call(Fm)}(yi,yi.exports)),yi.exports}var jm=Um();const Ii=Pm(jm);var Wm=Object.defineProperty,qm=(e,t,n)=>t in e?Wm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bm=(e,t,n)=>(qm(e,t+"",n),n),ih=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},wl=(e,t,n)=>(ih(e,t,"read from private field"),t.get(e)),Hm=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ym=(e,t,n,r)=>(ih(e,t,"write to private field"),t.set(e,n),n),ah='regular-table{padding:0;margin:12px 0 0 12px;font-family:inherit;--rt-hover--border-color:var(--inactive--color,#c5c9d080);}regular-table div[tabindex]{outline:none;}regular-table>div{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;}regular-table th{text-align:center;}regular-table thead tr:not(.rt-autosize) th{overflow:hidden;max-width:0px;}regular-table thead tr:last-child .rt-float,regular-table tbody .rt-float{text-align:right;}regular-table thead .rt-integer,regular-table tbody .rt-integer{text-align:right;}regular-table tbody th{text-align:left;}regular-table span.rt-tree-container{display:flex;align-items:center;height:100%;}regular-table thead .rt-string,regular-table tbody .rt-string,regular-table thead .rt-date,regular-table tbody .rt-date,regular-table thead .rt-datetime,regular-table tbody .rt-datetime{text-align:left;}regular-table thead tr:last-child th{border-bottom:1px solid#8b868045;}regular-table tbody tr:first-child td,regular-table tbody tr:first-child th{border-top:1px solid transparent!important;}regular-table th{position:relative;}regular-table tr th span.rt-tree-group{margin-left:5px;margin-right:15px;border-left:1px solid#eee;height:100%;}regular-table td,regular-table th{white-space:nowrap;font-size:12px;padding-right:5px;padding-left:5px;padding-top:0px;padding-bottom:0px;height:19px;}regular-table table *{box-sizing:border-box;}regular-table table{position:absolute;color:#666;outline:none;}regular-table span.rt-row-header-icon{color:#aaa;padding-right:4px;font-family:var(--button--font-family);}regular-table span.rt-column-header-icon{font-size:10px;padding-left:3px;display:inline-block;width:10px;font-family:var(--button--font-family);}regular-table span.rt-row-header-icon:hover{color:#1a7da1;text-shadow:0px 0px 3px#1a7da1;}regular-table .rt-selected td{background-color:#eee;}regular-table .rt-cell-clip{overflow:hidden;text-overflow:ellipsis;}regular-table td span.rt-group-name,regular-table th span.rt-group-name{margin-right:-5px;padding-right:5px;padding-left:8px;flex:1;height:100%;}regular-table th span.rt-group-name{text-align:left;}regular-table td th span.rt-group-leaf,regular-table th span.rt-group-leaf{margin-left:16px;height:100%;}regular-table .rt-column-resize{height:100%;width:10px;position:absolute;top:0;right:0;cursor:col-resize;}regular-table a{color:var(--rt-pos-cell--color);}regular-table a:visited{color:var(--active--color);}.psp-header-border:not(.psp-is-top):not(.psp-header-leaf){box-shadow:1px 0px var(--inactive--border-color,#8b868045);}.psp-header-group{box-shadow:0px 10px 0 -9px var(--inactive--border-color,#8b868045);}.psp-is-top{box-shadow:5px 4px 0px -4px var(--inactive--border-color,#8b868045);}.psp-is-top.psp-header-group:not(.psp-header-group-corner){box-shadow:5px 4px 0px -4px var(--inactive--border-color,#8b868045),0px 10px 0 -9px var(--inactive--border-color,#8b868045);}.psp-header-border.psp-header-group:not(.psp-is-top):not(.psp-header-group-corner){box-shadow:1px 0px var(--inactive--border-color,#8b868045),0px 10px 0 -9px var(--inactive--border-color,#8b868045);}perspective-viewer[settings] tr.rt-autosize .psp-header-leaf.psp-header-border:not(.psp-menu-enabled){box-shadow:1px 0px var(--inactive--border-color,#8b868045);}:host-context(perspective-viewer[settings]) tr.rt-autosize .psp-header-leaf.psp-header-border:not(.psp-menu-enabled){box-shadow:1px 0px var(--inactive--border-color,#8b868045);}.psp-header-leaf.psp-header-border{box-shadow:5px -4px 0px -4px var(--inactive--border-color,#8b868045);}tr:only-child th{box-shadow:none!important;}regular-table tbody tr:hover th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover td:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover:after{border-color:var(--rt-hover--border-color,#c5c9d080)!important;background-color:transparent;box-shadow:0px 1px 0px var(--rt-hover--border-color,#c5c9d080);}regular-table tbody tr:hover th.psp-tree-leaf.psp-menu-open:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover th.psp-tree-label.psp-menu-open:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover td.psp-menu-open:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr.psp-menu-open:hover:after{box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color),0px 1px 0px var(--rt-hover--border-color,#c5c9d080);}regular-table tbody tr:last-child:hover td.psp-menu-open:not(.psp-row-selected):not(.psp-row-subselected){box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color),inset 0px -2px 0px var(--icon--color),0px 1px 0px var(--rt-hover--border-color,#c5c9d080);}regular-table tbody tr:hover+tr th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr td:not(.psp-row-selected):not(.psp-row-subselected){border-top-color:transparent;}regular-table tbody tr th:first-child:not(:empty),regular-table tbody tr th:first-child:empty+th:not(:empty),regular-table tbody tr th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr td:first-child{border-left-width:1px;border-left-color:transparent;}regular-table tbody tr th:last-child,regular-table tbody tr td:last-child{border-right-width:0px;border-right-color:transparent;}regular-table tbody tr:hover{color:inherit;}regular-table tbody tr:hover th:first-child:not(:empty),regular-table tbody tr:hover th:first-child:empty+th:not(:empty),regular-table tbody tr:hover th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr:hover td:first-child{border-left-color:var(--rt-hover--border-color,#c5c9d080)!important;}regular-table tbody tr:hover th:last-child,regular-table tbody tr:hover td:last-child{border-right-color:var(--rt-hover--border-color,#c5c9d080)!important;}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody td,perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table thead th:not(.rt-group-corner),:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody td,:host(:not(.sub-cell-scroll-disabled)) regular-table table thead th:not(.rt-group-corner){transform:translate(var(--regular-table--transform-x,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody{transform:translate(0,var(--regular-table--transform-y,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child td,perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child th,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr:first-child td,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr:first-child th{clip-path:polygon(0 var(--regular-table--clip-y,0),0 200%,200% 200%,200% var(--regular-table--clip-y,0));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr td:first-of-type,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr td:first-of-type{clip-path:polygon(var(--regular-table--clip-x,0)0,var(--regular-table--clip-x,0)200%,200% 200%,200% 0);}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child td:first-of-type,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr:first-child td:first-of-type{clip-path:polygon(var(--regular-table--clip-x,0)var(--regular-table--clip-y,0),var(--regular-table--clip-x,0)200%,200% 200%,200% var(--regular-table--clip-y,0));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table thead tr:last-child:after,:host(:not(.sub-cell-scroll-disabled)) regular-table table thead tr:last-child:after{transform:translate(var(--regular-table--transform-x,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:not(:first-child):after,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr:not(:first-child):after{transform:translate(var(--regular-table--transform-x,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:hover:first-child:after,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr:hover:first-child:after{clip-path:polygon(0 var(--regular-table--clip-y,0),0 200%,200% 200%,200% var(--regular-table--clip-y,0));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table thead tr th.rt-group-corner+th:not(.rt-group-corner),:host(:not(.sub-cell-scroll-disabled)) regular-table table thead tr th.rt-group-corner+th:not(.rt-group-corner){clip-path:polygon(var(--regular-table--clip-x,0)0,var(--regular-table--clip-x,0)200%,200% 200%,200% 0);}regular-table{outline:none;}regular-table::-webkit-scrollbar,regular-table::-webkit-scrollbar-corner{background-color:transparent;height:12px;width:12px;}regular-table::-webkit-scrollbar-thumb{background-clip:content-box;background:var(--icon--color);border:5.5px solid var(--plugin--background);max-height:50%;max-width:50%;min-width:10%;min-height:10%;}perspective-viewer:not([settings]) regular-table table tr.rt-autosize+tr th{height:0px;}perspective-viewer:not([settings]) regular-table table tr.rt-autosize+tr th span{display:none;}:host-context(perspective-viewer:not([settings])) regular-table table tr.rt-autosize+tr th{height:0px;}:host-context(perspective-viewer:not([settings])) regular-table table tr.rt-autosize+tr th span{display:none;}perspective-viewer[settings] .psp-menu-enabled{padding:0 6px;font-size:8px;border-radius:3px 3px 0 0;}perspective-viewer[settings] .psp-menu-enabled:hover,perspective-viewer[settings] tr:not(.rt-autosize) th.psp-menu-open{color:var(--plugin--background);background-color:var(--icon--color);border-bottom-color:var(--icon--color);cursor:pointer;}perspective-viewer[settings] tr:not(.rt-autosize) th.psp-menu-open:before{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;height:8px;width:10px;-webkit-mask-image:var(--column-settings-icon--mask-image);mask-image:var(--column-settings-icon--mask-image);margin-right:4px;background-color:var(--plugin--background);}perspective-viewer[settings] td.psp-menu-open{box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color);}perspective-viewer[settings] tr:first-child td.psp-menu-open{border-top-color:var(--icon--color)!important;}perspective-viewer[settings] tr:last-child td.psp-menu-open{box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color),inset 0px -2px 0px var(--icon--color);}:host-context(perspective-viewer[settings]) .psp-menu-enabled{padding:0 6px;font-size:8px;border-radius:3px 3px 0 0;}:host-context(perspective-viewer[settings]) .psp-menu-enabled:hover,:host-context(perspective-viewer[settings]) tr:not(.rt-autosize) th.psp-menu-open{color:var(--plugin--background);background-color:var(--icon--color);border-bottom-color:var(--icon--color);cursor:pointer;}:host-context(perspective-viewer[settings]) tr:not(.rt-autosize) th.psp-menu-open:before{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;height:8px;width:10px;-webkit-mask-image:var(--column-settings-icon--mask-image);mask-image:var(--column-settings-icon--mask-image);margin-right:4px;background-color:var(--plugin--background);}:host-context(perspective-viewer[settings]) td.psp-menu-open{box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color);}:host-context(perspective-viewer[settings]) tr:first-child td.psp-menu-open{border-top-color:var(--icon--color)!important;}:host-context(perspective-viewer[settings]) tr:last-child td.psp-menu-open{box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color),inset 0px -2px 0px var(--icon--color);}perspective-viewer regular-table table thead tr:last-child th{border-bottom-width:1px;border-bottom-color:var(--inactive--border-color,#8b868045);}:host-context(perspective-viewer) regular-table table thead tr:last-child th{border-bottom-width:1px;border-bottom-color:var(--inactive--border-color,#8b868045);}.psp-sort-enabled:hover{cursor:pointer;}.psp-row-selected,:hover .psp-row-selected,:hover th.psp-tree-leaf.psp-row-selected,:hover th.psp-tree-label.psp-row-selected{color:white!important;background-color:#ea7319!important;border-color:#ea7319!important;}.psp-row-selected.psp-tree-label:not(:hover):before{color:white;}.psp-row-subselected,:hover .psp-row-subselected,:hover th.psp-tree-leaf.psp-row-subselected,:hover th.psp-tree-label.psp-row-subselected{background:rgba(234,115,25,0.2)!important;}.psp-error{color:red;}td:focus{outline:#666;outline-style:dotted;outline-width:1px;}perspective-viewer.dragging regular-table{pointer-events:none;}:host-context(perspective-viewer.dragging) regular-table{pointer-events:none;}.psp-header-border:last-child{border-right-width:0px;}.psp-header-sort-desc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}.psp-header-sort-asc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}.psp-header-sort-col-desc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-col-desc-icon--mask-image);mask-image:var(--sort-col-desc-icon--mask-image);}.psp-header-sort-col-asc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-col-asc-icon--mask-image);mask-image:var(--sort-col-asc-icon--mask-image);}tbody th:last-of-type{border-right:1px solid var(--inactive--border-color,#8b868045);overflow:hidden;text-overflow:ellipsis;}tbody th:empty{background-image:linear-gradient(to right,transparent 9px,var(--inactive--border-color,#eee)10px,transparent 11px);background-repeat:no-repeat;min-width:20px;max-width:20px;pointer-events:none;}.psp-tree-label{max-width:0px;min-width:0px;}.psp-tree-label:before{color:var(--icon--color);font-family:var(--button--font-family,inherit);padding-right:11px;}.psp-tree-label-expand:before{content:var(--tree-label-expand--content,"+");}.psp-tree-label-collapse:before{content:var(--tree-label-collapse--content,"-");}.psp-tree-label-expand,.psp-tree-label-collapse{cursor:pointer;}.psp-tree-label:hover:before{color:var(--active--color);text-shadow:0px 0px 5px var(--active--color);}.psp-tree-leaf{padding-left:24px;}.psp-align-right{text-align:right;}.psp-align-left{text-align:left;}.psp-positive:not(:focus){color:var(--rt-pos-cell--color);}.psp-negative:not(:focus){color:var(--rt-neg-cell--color);}regular-table table tbody td{min-width:52px!important;}.psp-is-width-override .rt-column-resize,.rt-column-resize:hover{border:1px dashed#999;border-bottom-width:0px;border-left-width:0px;}.boolean-editable{cursor:pointer;}regular-table table{user-select:none;color:inherit;border-collapse:separate;}regular-table table th{font-weight:400;}regular-table table td,regular-table table th{border-color:var(--inactive--border-color,#8b868045);height:23px;}regular-table table .psp-header-group{text-overflow:ellipsis;}regular-table table th.psp-header-leaf{border-bottom-width:0px;}regular-table table th.psp-header-leaf span{height:23px;min-height:23px;}regular-table table td,regular-table table th.psp-tree-label,regular-table table th.psp-tree-label,regular-table table th.psp-tree-leaf,regular-table table tbody tr:first-child th{border-style:solid;border-width:0px;border-top-width:1px;}regular-table table tbody th:empty{background-position:0px -10px;}regular-table table td.psp-select-region,regular-table table th.psp-select-region{background-color:var(--icon--color)!important;color:var(--plugin--background)!important;border-color:var(--plugin--background)!important;}regular-table tbody tr:hover td.psp-select-region:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr td.psp-select-region:not(.psp-row-selected):not(.psp-row-subselected){border-color:var(--plugin--background)!important;}regular-table tbody tr:hover td.psp-select-region.psp-menu-open:not(.psp-row-selected):not(.psp-row-subselected){box-shadow:inset -2px 0px 0px var(--plugin--background),inset 2px 0px 0px var(--plugin--background);}:host-context(perspective-viewer[settings]) td.psp-select-region.psp-menu-open{box-shadow:inset -2px 0px 0px var(--plugin--background),inset 2px 0px 0px var(--plugin--background);}regular-table #psp-column-edit-buttons th:not(.rt-group-corner) span:not(.rt-column-resize):before{content:var(--datagrid-column-edit-button--content,"Edit");}perspective-viewer:not([settings]) regular-table #psp-column-edit-buttons:after{content:none;}:host-context(perspective-viewer:not([settings])) regular-table #psp-column-edit-buttons:after{content:none;}regular-table table thead tr:last-child:after{width:10000px;box-sizing:border-box;display:block;height:23px;content:" ";border-bottom:1px solid var(--inactive--border-color);}regular-table table tbody tr:after{width:10000px;box-sizing:border-box;display:block;height:23px;content:" ";border-top:1px solid transparent;}regular-table table tbody tr:not(:first-child):after{border-top:1px solid var(--inactive--border-color);}regular-table table tbody tr:hover:not(:first-child):after{border-top:1px solid var(--rt-hover--border-color);}regular-table table tbody tr:hover+tr:after{border-top:1px solid var(--rt-hover--border-color);}@keyframes pulse_pos{0%{background-color:var(--pulse--background-color-start,rgba(0,128,255,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(0,128,255,0));}}@keyframes pulse_pos2{0%{background-color:var(--pulse--background-color-start,rgba(0,128,255,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(0,128,255,0));}}@keyframes pulse_neg{0%{background-color:var(--pulse--background-color-start,rgba(255,25,0,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(255,25,0,0));}}@keyframes pulse_neg2{0%{background-color:var(--pulse--background-color-start,rgba(255,25,0,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(255,25,0,0));}}',Or=Symbol("Plugin Symbol");function Xm(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}function oh(e,t,n){var o;let r=Array.from(e.children[0].children[0].children),i=r.length,a=t.hasAttribute("settings");if(i<=1?(o=r[0])==null||o.removeAttribute("id"):r.forEach((l,s)=>{let c=a?1:0,u=s===i-(c+1)?"psp-column-titles":s===i-c?"psp-column-edit-buttons":null;u?l.setAttribute("id",u):l.removeAttribute("id")}),t.classList.toggle("psp-menu-open",!!n),a&&i>=2){let l=Array.from(r[i-2].children),s=Array.from(r[i-1].children);if(l&&s){r.slice(0,i-2).forEach(c=>{Array.from(c.children).forEach(u=>{u.classList.toggle("psp-menu-open",!1)})});for(let c=0;c<l.length;c++){let u=l[c],d=s[c],f=u.textContent===n;if(u.classList.toggle("psp-menu-open",f),d.classList.toggle("psp-menu-open",f),this._config.columns.length>1)for(let h of e.querySelectorAll("td")){let _=e.getMeta(h),p=_.column_header[_.column_header.length-2]===n;h.classList.toggle("psp-menu-open",p)}}}}}function Gm(e,t){let n=Array.from(e.children[0].children[0].children);if(n.length>0){oh.call(this,e,t,this._column_settings_selected_column);let[r]=n.splice(this._config.split_by.length,1);Su.call(this,e,r,!1);let[i]=n.splice(this._config.split_by.length,1);i&&Su.call(this,e,i,!0)}}function Su(e,t,n){var i,a;let r=e._view_cache.config.row_pivots.length-1;for(let o of t==null?void 0:t.children){let l=e.getMeta(o),s=(i=l.column_header)==null?void 0:i[this._config.split_by.length],c=this._config.sort.find(b=>b[0]===s),u=l.row_header_x===r,d=typeof l.x>"u";u=u||(l.x+1)%this._config.columns.length===0,o.classList.toggle("psp-header-border",u),o.classList.toggle("psp-header-group",!1),o.classList.toggle("psp-header-leaf",!0),o.classList.toggle("psp-is-top",!1),o.classList.toggle("psp-header-corner",d),o.classList.toggle("psp-header-sort-asc",!n&&!!c&&c[1]==="asc"),o.classList.toggle("psp-header-sort-desc",!n&&!!c&&c[1]==="desc"),o.classList.toggle("psp-header-sort-col-asc",!n&&!!c&&c[1]==="col asc"),o.classList.toggle("psp-header-sort-col-desc",!n&&!!c&&c[1]==="col desc");let f=Xm.call(this,l),h=f==="integer"||f==="float",_=f==="string",p=f==="date",x=f==="datetime";o.classList.toggle("psp-align-right",h),o.classList.toggle("psp-align-left",!h),o.classList.toggle("psp-menu-enabled",(_||h||p||x)&&!d&&l.column_header_y==this._config.split_by.length+1),o.classList.toggle("psp-sort-enabled",(_||h||p||x)&&!d&&l.column_header_y===this._config.split_by.length),o.classList.toggle("psp-is-width-override",((a=e._column_sizes)==null?void 0:a.override[l.size_key])!==void 0)}}function Qm(e){let t=e._view_cache.config.row_pivots.length-1,n=Array.from(e.children[0].children[0].children),r=[],i=new Set,a=e.children[0];for(let o=0;o<n.length;o++){let l=a.rows[o],s=new Set;for(let c=0;c<l.cells.length;c++){let u=l.cells[c];u.style.backgroundColor="";let d=e.getMeta(u),f=d.row_header_x===t||d.x>=0;u.classList.toggle("psp-align-right",!1),u.classList.toggle("psp-align-left",!1),u.classList.toggle("psp-header-group",!0),u.classList.toggle("psp-header-leaf",!1),u.classList.toggle("psp-header-border",f),u.classList.toggle("psp-header-group-corner",typeof d.x>"u"),u.classList.toggle("psp-color-mode-bar",!1),u.classList.toggle("psp-header-sort-asc",!1),u.classList.toggle("psp-header-sort-desc",!1),u.classList.toggle("psp-header-sort-col-asc",!1),u.classList.toggle("psp-header-sort-col-desc",!1),u.classList.toggle("psp-sort-enabled",!1);let h=l.cells[c],_=c,p,x;for(;r[o]&&r[o][_];++_);for(s.add(_),p=_;p<_+h.colSpan;++p)for(x=o;x<o+h.rowSpan;++x)r[x]||(r[x]=[]),r[x][p]=!0;h.classList.toggle("psp-is-top",o===0||!i.has(p))}i=s}}function Km(e,t,[,,,,,n,r],[,,,,,i,a],o){var c,u,d,f,h,_,p,x,b;let l=(u=(c=this._ids)==null?void 0:c[e.dy])==null?void 0:u.join("|"),s=(o?e.column_header.slice(0,-1):e.column_header).join("|");if((d=this.last_reverse_columns)!=null&&d.has(s)&&((f=this.last_reverse_ids)!=null&&f.has(l))){let A=(h=this.last_reverse_ids)==null?void 0:h.get(l),$=this.last_reverse_columns.get(s);this._is_old_viewport?((p=(_=this.last_meta)==null?void 0:_[$])==null?void 0:p[A])>e.user?(t.style.setProperty("--pulse--background-color-start",i),t.style.setProperty("--pulse--background-color-end",a),t.style.animationName==="pulse_neg"?t.style.animation="pulse_neg2 0.5s linear":t.style.animation="pulse_neg 0.5s linear"):((b=(x=this.last_meta)==null?void 0:x[$])==null?void 0:b[A])<e.user?(t.style.setProperty("--pulse--background-color-start",n),t.style.setProperty("--pulse--background-color-end",r),t.style.animationName==="pulse_pos"?t.style.animation="pulse_pos2 0.5s linear":t.style.animation="pulse_pos 0.5s linear"):A!==e.dy&&(t.style.animation=""):t.style.animation=""}else t.style.animation=""}function Mu(e,t){return Ii.mix(e,`rgb(${t[0]},${t[1]},${t[2]})`,.5).hex()}function Pi([e,t,n,r],i=[255,255,255]){function a(o,l){return((1-r)*(i[o]/255)+r*(l/255))*255}return[a(0,e),a(1,t),a(2,n)]}function Fi([e,t,n]){return Math.sqrt(e*e*.299+t*t*.587+n*n*.114)>130?"#161616":"#ffffff"}function Jm(e){let[t,n,r]=e.rgb(),[i,a,o]=e.set("hsl.h",(e.get("hsl.h")-15)%360).rgb(),[l,s,c]=e.set("hsl.h",(e.get("hsl.h")+15)%360).rgb();return`linear-gradient(to right top,rgb(${i},${a},${o}),rgb(${t},${n},${r}) 50%,rgb(${l},${s},${c}))`}function en(e){let t=Ii(e),n=Jm(t),r=t.rgb();return[e,...r,n,`rgba(${r[0]},${r[1]},${r[2]},1)`,`rgba(${r[0]},${r[1]},${r[2]},0)`]}function Zm(e,t,n,r){let i=n.user>0,a=n.user<0,o;(e==null?void 0:e.pos_bg_color)!==void 0?o=e.pos_bg_color:o=this._pos_bg_color;let l;(e==null?void 0:e.neg_bg_color)!==void 0?l=e.neg_bg_color:l=this._neg_bg_color;let s=i?o:a?l:["",...this._plugin_background,""];{let[_,p,x,b,A]=s;if(t.style.position="",(e==null?void 0:e.number_bg_mode)==="color")t.style.animation="",t.style.backgroundColor=_;else if((e==null?void 0:e.number_bg_mode)==="gradient"){let $=Math.max(0,Math.min(1,Math.abs(n.user/e.bg_gradient))),S=this._plugin_background,w=Fi(Pi([p,x,b,$],S));t.style.animation="",t.style.color=w,t.style.backgroundColor=`rgba(${p},${x},${b},${$})`}else(e==null?void 0:e.number_bg_mode)==="pulse"?(Km.call(this,n,t,o,l,r),t.style.backgroundColor=""):((e==null?void 0:e.number_bg_mode)==="disabled"||(e==null||e.number_bg_mode),t.style.animation="",t.style.backgroundColor="")}let[c,u,d,f,h]=(e==null?void 0:e.pos_fg_color)!==void 0?i?e.pos_fg_color:a?e.neg_fg_color:["",...this._plugin_background,""]:i?this._pos_fg_color:a?this._neg_fg_color:["",...this._plugin_background,""];if((e==null?void 0:e.number_fg_mode)==="disabled")if((e==null?void 0:e.number_bg_mode)==="color"){let _=this._plugin_background,p=Fi(Pi([s[1],s[2],s[3],1],_));t.style.color=p}else(e==null?void 0:e.number_bg_mode)==="gradient"||(t.style.color="");else(e==null?void 0:e.number_fg_mode)==="bar"?(t.style.color="",t.style.position="relative",h!==""&&t.children.length>0&&t.children[0].nodeType===Node.ELEMENT_NODE&&(t.children[0].style.background=h)):((e==null?void 0:e.number_fg_mode)==="color"||!(e!=null&&e.number_fg_mode))&&(t.style.color=c)}function ew(e,t,n){var c;let r=(c=n.column_header)==null?void 0:c[this._config.split_by.length],[i,a,o,l,s]=(e==null?void 0:e.color)!==void 0?e.color:this._color;if((e==null?void 0:e.string_color_mode)==="foreground"&&n.user!==null)t.style.color=i,t.style.backgroundColor="",(e==null?void 0:e.format)==="link"&&(t.children[0].style.color=i);else if((e==null?void 0:e.string_color_mode)==="background"&&n.user!==null){let u=this._plugin_background,d=Fi(Pi([a,o,l,1],u));t.style.color=d,t.style.backgroundColor=i}else if((e==null?void 0:e.string_color_mode)==="series"&&n.user!==null){this._series_color_map.has(r)||(this._series_color_map.set(r,new Map),this._series_color_seed.set(r,0));let u=this._series_color_map.get(r);if(!u.has(n.user)){let k=this._series_color_seed.get(r);u.set(n.user,k),this._series_color_seed.set(r,k+1)}let d=u.get(n.user),[f,h,_]=Ii(i).hsl();f=f+d*150%360;let p=Ii(f,h,_,"hsl"),[x,b,A]=p.rgb(),$=p.hex(),S=this._plugin_background,w=Fi(Pi([x,b,A,1],S));t.style.color=w,t.style.backgroundColor=$}else t.style.backgroundColor="",t.style.color=""}function tw(e,t,n){var s;(s=n.column_header)==null||s[this._config.split_by.length];let[r,i,a,o,l]=(e==null?void 0:e.color)!==void 0?e.color:this._color;if((e==null?void 0:e.datetime_color_mode)==="foreground"&&n.user!==null)t.style.color=r,t.style.backgroundColor="";else if((e==null?void 0:e.datetime_color_mode)==="background"&&n.user!==null){let c=this._plugin_background,u=Fi(Pi([i,a,o,1],c));t.style.color=u,t.style.backgroundColor=r}else t.style.backgroundColor="",t.style.color=""}function nw(e,t,n){let[r]=n.user===!0?this._pos_fg_color:n.user===!1?this._neg_fg_color:["",0,0,0,""];t.style.backgroundColor="",t.style.color=r}function rw(e,t,n){var l,s;let r=typeof n.value!=null&&typeof n.value!=null&&((s=(l=n.value)==null?void 0:l.toString())==null?void 0:s.trim().length)>0,i=n.row_header_x>=this._config.group_by.length,a=e.getMeta({dx:0,dy:n.y-n.y0+1}),o=a&&a.row_header&&typeof a.row_header[n.row_header_x+1]<"u";t.classList.toggle("psp-tree-label",r&&!i),t.classList.toggle("psp-tree-label-expand",r&&!i&&!o),t.classList.toggle("psp-tree-label-collapse",r&&!i&&o),t.classList.toggle("psp-tree-leaf",r&&i)}function iw(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}function aw(e,t){var i;let n=e[Or]||{},r=t.hasAttribute("settings");for(let a of e.children[0].children[1].children)for(let o of a.children){let l=e.getMeta(o),s=(i=l.column_header)==null?void 0:i[this._config.split_by.length],c=iw.call(this,l),u=n[s],d=c==="integer"||c==="float";d?Zm.call(this,u,o,l,r):c==="boolean"?nw.call(this,u,o,l):c==="string"?ew.call(this,u,o,l):c==="date"||c==="datetime"?tw.call(this,u,o,l):(o.style.backgroundColor="",o.style.color=""),o.classList.toggle("psp-bool-type",c==="boolean"&&l.user!==null);let f=o.tagName==="TH";f&&rw.call(this,e,o,l),o.classList.toggle("psp-align-right",!f&&d),o.classList.toggle("psp-align-left",f||!d),o.classList.toggle("psp-color-mode-bar",(u==null?void 0:u.number_fg_mode)==="bar"&&d)}}async function ow(e,t,n,r){let i=e.getMeta(r).column_header[this._config.split_by.length],a=(n.shiftKey?lw:sw).call(this,i);this._preserve_focus_state=!0,await t.restore({sort:a})}function lw(e){let t=[],n=!1;for(let r of this._config.sort){let[i,a]=r;if(i===e){n=!0;let o=lh.call(this,e,a);o&&t.push(o)}else t.push(r)}return n||t.push([e,"desc"]),t}function sw(e){for(let[t,n]of this._config.sort)if(t===e){let r=lh.call(this,e,n);return r?[r]:[]}return[[e,"desc"]]}function lh(e,t){let n=this._config.split_by.length>0?uw:cw,r=t?n[t]:"desc";if(r)return[e,r]}var cw={desc:"asc",asc:void 0},uw={desc:"asc",asc:"col desc","col desc":"col asc","col asc":void 0};async function fw(e,t){let n=e.getMeta(t.target),r=t.target.classList.contains("psp-tree-label-collapse");t.shiftKey&&r?this._view.set_depth(n.row_header.filter(i=>i!==void 0).length-2):t.shiftKey?this._view.set_depth(n.row_header.filter(i=>i!==void 0).length-1):r?this._view.collapse(n.y):this._view.expand(n.y),this._num_rows=await this._view.num_rows(),this._num_columns=await this._view.num_columns(),e.draw()}async function dw(e,t,n){var i;if(n.which!==1)return;let r=n.target;if(r.tagName!=="A"){for(;r.tagName!=="TD"&&r.tagName!=="TH";)if(r=r.parentElement,!e.contains(r))return;if(r.classList.contains("psp-tree-label")){fw.call(this,e,n),n.stopImmediatePropagation();return}if(r.classList.contains("psp-menu-enabled")){let a=(i=e.getMeta(r).column_header)==null?void 0:i[this._config.split_by.length];await t.toggleColumnSettings(a),n.preventDefault(),n.stopImmediatePropagation()}else r.classList.contains("psp-sort-enabled")&&(ow.call(this,e,t,n,r),n.stopImmediatePropagation())}}function hw(e,t){if(t.which!==1)return;let n=t.target;for(;n.tagName!=="TD"&&n.tagName!=="TH";)if(n=n.parentElement,!e.contains(n))return;(n.classList.contains("psp-tree-label")&&t.offsetX<26||n.classList.contains("psp-header-leaf")&&!n.classList.contains("psp-header-corner"))&&t.stopImmediatePropagation()}function Eu(e,t=!1){let n=this._config.group_by.length===0&&this._config.split_by.length===0,r=e.hasAttribute("selectable"),i=t||e.children[0].dataset.editMode==="EDIT";return n&&!r&&i}function _w(e,t,n){var a;let r=e[Or]||{},i=Eu.call(this,t);n.classList.toggle("edit-mode-allowed",Eu.call(this,t,!0));for(let o of e.querySelectorAll("td")){let l=e.getMeta(o),s=this.get_psp_type(l);if(i&&this._is_editable[l.x]){let c=l.column_header[this._config.split_by.length];s==="string"&&((a=r[c])==null?void 0:a.format)==="link"?(o.toggleAttribute("contenteditable",!1),o.classList.toggle("boolean-editable",!1)):s==="boolean"?(o.toggleAttribute("contenteditable",!1),o.classList.toggle("boolean-editable",l.user!==null)):(i!==o.hasAttribute("contenteditable")&&o.toggleAttribute("contenteditable",i),o.classList.toggle("boolean-editable",!1))}else o.toggleAttribute("contenteditable",!1),o.classList.toggle("boolean-editable",!1)}}var sh=(e,t,n)=>{let r=e.querySelectorAll("td"),i=n.get(e),a=e.getRootNode();if(i){for(let o of r){let l=e.getMeta(o);if(l.x===i.x&&l.y===i.y)return a.activeElement!==o&&o.focus({preventScroll:!0}),!0}document.activeElement!==document.body&&e.contains(a.activeElement)&&a.activeElement.blur()}};function ch(e,t,n){let r=e.getMeta(n),i=t._schema[t._column_paths[r.x]];if(r){let a=n.textContent,o=t._ids[r.y-r.y0][0];if(i==="float"||i==="integer"){if(a=parseFloat(a.replace(/,/g,"")),isNaN(a))return!1}else if(i==="date"||i==="datetime"){if(a=Date.parse(a),isNaN(a))return!1}else i==="boolean"&&(a=a==="true"?!1:a==="false"?!0:null);let l={__INDEX__:o,[t._column_paths[r.x]]:a};return t._table.update([l],{port_id:t._edit_port}),!0}}function gw(e,t,n){let r=e.getMeta(n.target);if(typeof(r==null?void 0:r.x)<"u"){let i=this._is_editable[r.x],a=this.get_psp_type(r)==="boolean",o=n.target.textContent==="-";i&&a&&!o&&ch(e,this,n.target)}}function pw(e){let t;return async function(...n){if(t&&await t&&t)return;let r;t=new Promise(i=>r=i),await e.apply(this,n),t=void 0,r()}}function Au(){if(this.isContentEditable){let e=this.getRootNode().getSelection().getRangeAt(0),t=e.cloneRange();return t.selectNodeContents(this),t.setEnd(e.endContainer,e.endOffset),t.toString().length}else return this.target.selectionStart}var ur=pw(async function(e,t,n,r,i){let a=e.getMeta(n),o=this._column_paths.length,l=this._num_rows,s=t.get(e);if(!s)return;a.x+r<o&&0<=a.x+r&&(s.x=a.x+r),a.y+i<l&&0<=a.y+i&&(s.y=a.y+i);let c=Math.max(a.x0-10,0),u=Math.min(a.x0+10,o),d=Math.max(a.y0-5,0),f=Math.min(a.y0+10,l),h=a.x0+r,_=a.y0+i;for(;!sh(e,void 0,t)&&h>=c&&h<u&&_>=d&&_<f;)await e.scrollToCell(h,_,o,l),t.set(e,s),h+=r,_+=i});function bw(e,t,n){return t.getMeta(n).y===e._num_rows-1}function mw(e,t,n,r){let i=e.getRootNode().activeElement;switch(r.target.classList.remove("psp-error"),r.key){case"Enter":r.preventDefault(),bw(this,e,i)?(i.blur(),n.delete(e)):r.shiftKey?ur.call(this,e,n,i,0,-1):ur.call(this,e,n,i,0,1);break;case"ArrowLeft":Au.call(i)==0&&(r.preventDefault(),ur.call(this,e,n,i,-1,0));break;case"ArrowUp":r.preventDefault(),ur.call(this,e,n,i,0,-1);break;case"ArrowRight":Au.call(i)==i.textContent.length&&(r.preventDefault(),ur.call(this,e,n,i,1,0));break;case"ArrowDown":r.preventDefault(),ur.call(this,e,n,i,0,1);break}}function Cs(e,t=!1){let n=this._config.group_by.length===0&&this._config.split_by.length===0,r=e.hasAttribute("selectable"),i=t||e.children[0]._edit_mode==="EDIT";return n&&!r&&i}function ww(e,t,n,r){if(this._edit_mode==="EDIT"){if(!Cs.call(this,t))return;mw.call(this,e,t,n,r)}else console.debug(`Mode ${this._edit_mode} for "keydown" event not yet implemented`)}function yw(e,t,n){if(this._edit_mode==="EDIT"){if(!Cs.call(this,t))return;gw.call(this,e,t,n)}else this._edit_mode==="READ_ONLY"||this._edit_mode==="SELECT_COLUMN"||this._edit_mode==="SELECT_ROW"||this._edit_mode==="SELECT_REGION"||console.debug(`Mode ${this._edit_mode} for "click" event not yet implemented`)}function vw(e,t,n,r){if(Cs.call(this,t)&&n.has(e)){r.target.classList.remove("psp-error");let i=n.get(e);n.delete(e),i.content!==r.target.textContent&&(ch(e,this,r.target)||(r.target.textContent=i.content,r.target.classList.add("psp-error"),r.target.focus()))}}function xw(e,t,n,r){let i=e.getMeta(r.target);if(i){let a={x:i.x,y:i.y,content:r.target.textContent};n.set(e,a)}}async function uh({_view:e,_config:t},n,r){let i=t.group_by,a=t.split_by,o=n>=0?n:0,l=o+1,s=await e.to_json({start_row:o,end_row:l}),c=s.map(x=>x.__ROW_PATH__)[0]||[],u=i.map((x,b)=>{let A=c[b];return A?[x,"==",A]:void 0}).filter(x=>x),d=i.length>0?r+1:r,f=Object.keys(s[0])[d],h={row:s[0]},_=[];if(f){let x=f.split("|");h.column_names=[x[a.length]],_=a.map((b,A)=>{let $=x[A];return $?[b,"==",$]:void 0}).filter(b=>b).filter(([,,b])=>b!=="__ROW_PATH__")}let p=t.filter.concat(u).concat(_);return h.config={filter:p},h}async function kw(e,t,n,r){let i=e.getMeta(r.target);if(!t.hasAttribute("selectable")||r.handled||r.which!==1||!i)return;let a=this._ids[i.y-i.y0];if(i&&i.y>=0){let o=n.get(e),l=!!o&&o.reduce((h,_,p)=>h&&_===a[p],!0),s=!!o&&a.length===o.length&&l,c={selected:!s},{row:u,column_names:d,config:f}=await uh(this,i.y,i.x);s?(n.delete(e),c={...c,row:u,config:{filter:structuredClone(this._config.filter)}}):(n.set(e,a),c={...c,row:u,column_names:d,config:f}),await e.draw({preserve_width:!0}),r.handled=!0,t.dispatchEvent(new CustomEvent("perspective-select",{bubbles:!0,composed:!0,detail:c}))}}function Sw(e,t,n){if(!t.hasAttribute("selectable"))return;let r=n.has(e),i=n.get(e);for(let a of e.querySelectorAll("td"))if(!r)a.classList.toggle("psp-row-selected",!1),a.classList.toggle("psp-row-subselected",!1);else{let o=e.getMeta(a),l=this._ids[o.y-o.y0],s=i.reduce((c,u,d)=>c&&u===l[d],!0);a.classList.toggle("psp-row-selected",l.length===i.length&&s),a.classList.toggle("psp-row-subselected",l.length!==i.length&&s)}for(let a of e.querySelectorAll("tbody th")){let o=e.getMeta(a),l=this._ids[o.y-o.y0];if(!r||l[o.row_header_x])a.classList.toggle("psp-row-selected",!1),a.classList.toggle("psp-row-subselected",!1);else{let s=i.reduce((c,u,d)=>c&&u===l[d],!0);a.classList.toggle("psp-row-selected",l.length===i.length&&s),a.classList.toggle("psp-row-subselected",l.length!==i.length&&s)}}}async function Mw(e,t,n){n.delete(e);for(let r of e.querySelectorAll("td,th"))r.classList.toggle("psp-row-selected",!1),r.classList.toggle("psp-row-subselected",!1)}var $u={datetime:Intl.DateTimeFormat,date:Intl.DateTimeFormat,integer:Intl.NumberFormat,float:Intl.NumberFormat,boolean:class{format(e){return e?"true":"false"}}},Ew={types:{float:{format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},datetime:{format:{dateStyle:"short",timeStyle:"medium"}},date:{format:{dateStyle:"short"}}}},Aw=class{constructor(){this._formatters=new Map}create_datetime_formatter(e,t){var r,i,a,o,l,s,c,u,d,f,h,_,p,x;let n={dateStyle:"short",timeStyle:"medium"};if(((r=t.date_format)==null?void 0:r.format)!=="custom"){let b={...n,timeZone:(i=t.date_format)==null?void 0:i.timeZone,dateStyle:(a=t.date_format)==null?void 0:a.dateStyle,timeStyle:(o=t.date_format)==null?void 0:o.timeStyle};return b.dateStyle==="disabled"?b.dateStyle=void 0:b.dateStyle===void 0&&(b.dateStyle="short"),b.timeStyle==="disabled"?b.timeStyle=void 0:b.timeStyle===void 0&&(b.timeStyle="medium"),new Intl.DateTimeFormat(navigator.languages,b)}else{let b={timeZone:(l=t.date_format)==null?void 0:l.timeZone,second:(s=t.date_format)==null?void 0:s.second,minute:(c=t.date_format)==null?void 0:c.minute,hour:(u=t.date_format)==null?void 0:u.hour,day:(d=t.date_format)==null?void 0:d.day,weekday:(f=t.date_format)==null?void 0:f.weekday,month:(h=t.date_format)==null?void 0:h.month,year:(_=t.date_format)==null?void 0:_.year,hour12:(p=t.date_format)==null?void 0:p.hour12,fractionalSecondDigits:(x=t.date_format)==null?void 0:x.fractionalSecondDigits};return b.year==="disabled"?b.year=void 0:b.year===void 0&&(b.year="2-digit"),b.month==="disabled"?b.month=void 0:b.month===void 0&&(b.month="numeric"),b.day==="disabled"?b.day=void 0:b.day===void 0&&(b.day="numeric"),b.weekday==="disabled"&&(b.weekday=void 0),b.hour==="disabled"?b.hour=void 0:b.hour===void 0&&(b.hour="numeric"),b.minute==="disabled"?b.minute=void 0:b.minute===void 0&&(b.minute="numeric"),b.second==="disabled"?b.second=void 0:b.second===void 0&&(b.second="numeric"),b.hour12===void 0&&(b.hour12=!0),new Intl.DateTimeFormat(navigator.languages,b)}}create_date_formatter(e,t){var r;let n={dateStyle:(r=t.date_format)==null?void 0:r.dateStyle,timeZone:"utc"};return n.dateStyle==="disabled"?n.dateStyle=void 0:n.dateStyle===void 0&&(n.dateStyle="short"),new Intl.DateTimeFormat(navigator.languages,n)}create_number_formatter(e,t){var r;let n=(r=Ew.types[e])==null?void 0:r.format;return t.number_format!==void 0&&(n=t.number_format),new $u[e](navigator.languages,n)}create_boolean_formatter(e,t){return new $u[e](navigator.languages,{})}get(e,t){let n=[e,...Object.values(t.date_format??{}),...Object.values(t.number_format??{})].join("-");return this._formatters.has(n)||(e==="date"?this._formatters.set(n,this.create_date_formatter(e,t)):e==="datetime"?this._formatters.set(n,this.create_datetime_formatter(e,t)):e==="integer"||e==="float"?this._formatters.set(n,this.create_number_formatter(e,t)):e==="boolean"?this._formatters.set(n,this.create_boolean_formatter(e,t)):this._formatters.set(n,!1)),this._formatters.get(n)}},fh=new Aw,Tu=1;function $w(e,t){return fh.get(e,t)}function dh(e,t,n={},r=!1){if(t===null)return"-";let i=r&&this._table_schema[e]||this._schema[e]||"string",a=n[e]||{};if((i==="integer"||i==="float")&&(a==null?void 0:a.number_fg_mode)==="bar"){let o=Math.max(0,Math.min(Tu,Math.abs(t/a.fg_gradient)*Tu)),l=this._div_factory.get(),s=t>=0?"left":"right",c=(o*100).toFixed(2);return l.setAttribute("style",`width:calc(${c}% - 4px);position:absolute;${s}:2px;height:80%;top:10%;pointer-events:none;`),l}else if((a==null?void 0:a.format)==="link"&&i==="string"){let o=document.createElement("a");return o.setAttribute("href",t),o.setAttribute("target","_blank"),o.textContent=t,o}else if((a==null?void 0:a.format)==="bold"&&i==="string"){let o=document.createElement("b");return o.textContent=t,o}else if((a==null?void 0:a.format)==="italics"&&i==="string"){let o=document.createElement("i");return o.textContent=t,o}else{let o=fh.get(i,a);return o?o.format(t):t}}function*Tw(e=[],t,n){let r=n[Or];for(let i of e){i=["TOTAL",...i];let a=i[i.length-1];i=i.slice(0,i.length-1).fill("");let o=dh.call(this,t[i.length-1],a,r,!0);o instanceof HTMLElement?i=i.concat(o):i=i.concat({toString:()=>o}),i.length=t.length+1,yield i}}function Cw(e){let t,n,r,i,a;return async function(o,l,s,c,u){var A,$,S,w;let d={},f;c-l>0&&u-s>0?(this._is_old_viewport=((A=this._last_window)==null?void 0:A.start_row)===s&&(($=this._last_window)==null?void 0:$.end_row)===u&&((S=this._last_window)==null?void 0:S.start_col)===l&&((w=this._last_window)==null?void 0:w.end_col)===c,f={start_row:s,start_col:l,end_row:u,end_col:c,id:!0},d=JSON.parse(await this._view.to_columns_string(f)),this._last_window=f,this._ids=d.__ID__,this._reverse_columns=this._column_paths.slice(l,c).reduce((k,I,L)=>(k.set(I,L),k),new Map),this._reverse_ids=this._ids.reduce((k,I,L)=>(k.set(I==null?void 0:I.join("|"),L),k),new Map)):this._div_factory.clear();let h=[],_=[],p=[],x=[],b=e.hasAttribute("settings");for(let k=l;k<Math.min(c,this._column_paths.length);++k){let I=this._column_paths[k],L=I.split("|"),G=d[I]||new Array(u-s).fill(null);h.push(G.map(F=>dh.call(this,L[this._config.split_by.length],F,o[Or]))),_.push(G),b&&L.push(""),p.push(L),x.push(I)}return c-l>0&&u-s>0&&(this.last_column_paths=n,this.last_meta=t,this.last_ids=r,this.last_reverse_ids=i,this.last_reverse_columns=a,n=x,t=_,r=this._ids,i=this._reverse_ids,a=this._reverse_columns),{num_rows:this._num_rows,num_columns:this._column_paths.length,row_headers:Array.from(Tw.call(this,d.__ROW_PATH__,this._config.group_by,o)),column_headers:p,data:h,metadata:_,column_header_merge_depth:Math.max(0,this._config.split_by.length)}}}function ya(e,t,n){let r=window.getComputedStyle(e).getPropertyValue(t).trim();return r.length>0?r:n}var Nw=class{constructor(t){this._name=t,this._elements=[],this._index=0}clear(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));let t=this._elements[this._index];return this._index+=1,t}};function Ow(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}async function Cu(e,t,n,r={}){var F;let i=await n.get_config(),a=Array.isArray(i.expressions)?Object.fromEntries(i.expressions.map(D=>[D[0],D[1]])):i.expressions,[o,l,s,c,u,d,f]=await Promise.all([t.schema(),t.validate_expressions(a),n.num_rows(),n.schema(),n.expression_schema(),n.column_paths(),this.parentElement.getEditPort()]),h=Ii(ya(e,"--plugin--background","#FFFFFF")).rgb(),_=en(ya(e,"--rt-pos-cell--color","#338DCD")),p=en(ya(e,"--rt-neg-cell--color","#FF5942")),x=en(Mu(_[0],h)),b=en(Mu(p[0],h)),A=en(ya(e,"--active--color","#ff0000")),$={...c,...u},S={...o,...l.expression_schema},w=d.filter(D=>D!=="__ROW_PATH__"&&D!=="__ID__"),k=[],I=[];for(let D of w){let Z=D.split("|")[i.split_by.length];I.push($[Z]),k.push(!!o[Z])}let L=this._edit_mode||"READ_ONLY";this._edit_button.dataset.editMode=L;let G=Object.assign(r,{_edit_port:f,_view:n,_table:t,_table_schema:S,_config:i,_num_rows:s,_schema:$,_ids:[],_plugin_background:h,_color:A,_pos_fg_color:_,_neg_fg_color:p,_pos_bg_color:x,_neg_bg_color:b,_column_paths:w,_column_types:I,_is_editable:k,_edit_mode:L,_selection_state:{selected_areas:[],dirty:!1},_row_header_types:i.group_by.map(D=>S[D]),_series_color_map:new Map,_series_color_seed:new Map,get_psp_type:Ow});return G._div_factory=G._div_factory||new Nw("div"),e.setDataListener(Cw(this.parentElement).bind(G,e),{virtual_mode:((F=window.getComputedStyle(e).getPropertyValue("--datagrid-virtual-mode"))==null?void 0:F.trim())||"both"}),G}async function Lw(e,t,n){let r=e.getMeta(n.target);if(!r)return;let{x:i,y:a}=r,{row:o,column_names:l,config:s}=await uh(this,a,i);t.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{row:o,column_names:l,config:s}}))}var zw="mouse-selected-area",Rw=(e,t,{className:n=zw,selected:r=[]}={})=>(e.model._selection_state={selected_areas:r,dirty:!0},t.addEventListener("mousedown",Vw(e,t,n)),t.addEventListener("mouseover",Dw(e,t,n)),t.addEventListener("mouseup",Iw(e,t,n)),t.addStyleListener(()=>Ui(e,t,n)),t),Vw=(e,t,n)=>r=>{if(e.model._edit_mode==="SELECT_REGION"||e.model._edit_mode==="SELECT_ROW"||e.model._edit_mode==="SELECT_COLUMN"){e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES={};let i=t.getMeta(r.target);if(i&&i.x!==void 0&&i.y!==void 0){e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES={x:i.x,y:i.y},e.model._selection_state.old_selected_areas=e.model._selection_state.selected_areas,e.model._selection_state.selected_areas=[];let a={x0:i.x,x1:i.x,y0:i.y,y1:i.y};e.model._selection_state.potential_selection=a,Ui(e,t,n,e.model._selection_state.selected_areas.concat([a]));return}}e.model._selection_state.selected_areas=[]},Dw=(e,t,n)=>r=>{if((e.model._edit_mode==="SELECT_REGION"||e.model._edit_mode==="SELECT_ROW"||e.model._edit_mode==="SELECT_COLUMN")&&e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES&&e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x!==void 0){let i=t.getMeta(r.target);if(i&&i.x!==void 0&&i.y!==void 0){let a={x0:Math.min(i.x,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x),x1:Math.max(i.x,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x),y0:Math.min(i.y,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.y),y1:Math.max(i.y,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.y)};e.model._selection_state.potential_selection=a,Ui(e,t,n,e.model._selection_state.selected_areas.concat([a]))}}},Iw=(e,t,n)=>r=>{var i;if(e.model._edit_mode==="SELECT_REGION"||e.model._edit_mode==="SELECT_ROW"||e.model._edit_mode==="SELECT_COLUMN"){let a=t.getMeta(r.target);if(((i=e.model._selection_state.old_selected_areas)==null?void 0:i.length)>0){let o=e.model._selection_state.old_selected_areas[0];if(o.x0===o.x1&&o.y0===o.y1&&o.x0===a.x&&o.y0===a.y){e.model._selection_state.selected_areas=[],e.model._selection_state.old_selected_areas=[],e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES={},e.model._selection_state.potential_selection=void 0,Ui(e,t,n,[]);return}}if(e.model._selection_state.old_selected_areas=[],e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES&&e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x!==void 0&&a.x!==void 0&&a.y!==void 0){let o={x0:Math.min(a.x,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x),x1:Math.max(a.x,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x),y0:Math.min(a.y,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.y),y1:Math.max(a.y,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.y)};e.model._selection_state.selected_areas.push(o),Ui(e,t,n)}e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES={},e.model._selection_state.potential_selection=void 0}};function Pw(e,t,{x0:n,x1:r,y0:i,y1:a}){let o={},l=t.model._edit_mode;n!==void 0&&["SELECT_COLUMN","SELECT_REGION"].indexOf(l)>-1&&(o.start_col=n),r!==void 0&&["SELECT_COLUMN","SELECT_REGION"].indexOf(l)>-1&&(o.end_col=r+1),i!==void 0&&["SELECT_ROW","SELECT_REGION"].indexOf(l)>-1&&(o.start_row=i),a!==void 0&&["SELECT_ROW","SELECT_REGION"].indexOf(l)>-1&&(o.end_row=a+1),e.setSelection(o)}var Ui=(e,t,n,r)=>{if(e.model._edit_mode==="SELECT_REGION"||e.model._edit_mode==="SELECT_ROW"||e.model._edit_mode==="SELECT_COLUMN"){r=e.model._selection_state.selected_areas.slice(0),e.model._selection_state.potential_selection&&r.push(e.model._selection_state.potential_selection);let i=t.querySelectorAll("tbody td");if(r.length>0)Pw(e.parentElement,e,r[0]),Fw(e,t,r,n);else{e.parentElement.setSelection();for(let a of i)a.classList.remove(n)}}else if(e.model._selection_state.dirty){e.model._selection_state.dirty=!1;let i=t.querySelectorAll("tbody td");for(let a of i)a.classList.remove(n)}},Fw=(e,t,n,r)=>{if(e.model._edit_mode==="SELECT_REGION"&&n.length>0){let i=t.querySelectorAll("tbody td");for(let a of i){let o=t.getMeta(a),l=!1;for(let{x0:s,x1:c,y0:u,y1:d}of n)s!==void 0&&u!==void 0&&c!==void 0&&d!==void 0&&s<=o.x&&o.x<=c&&u<=o.y&&o.y<=d&&(l=!0,e.model._selection_state.dirty=!0,a.classList.add(r));l||a.classList.remove(r)}}else if(e.model._edit_mode==="SELECT_ROW"&&n.length>0){let i=t.querySelectorAll("tbody td");for(let a of i){let o=t.getMeta(a),l=!1;for(let{x0:s,x1:c,y0:u,y1:d}of n)s!==void 0&&u!==void 0&&c!==void 0&&d!==void 0&&u<=o.y&&o.y<=d&&(e.model._selection_state.dirty=!0,l=!0,a.classList.add(r));l||a.classList.remove(r)}}else if(e.model._edit_mode==="SELECT_COLUMN"&&n.length>0){let i=t.querySelectorAll("tbody td");for(let a of i){let o=t.getMeta(a),l=!1;for(let{x0:s,x1:c,y0:u,y1:d}of n)s!==void 0&&u!==void 0&&c!==void 0&&d!==void 0&&s<=o.x&&o.x<=c&&(e.model._selection_state.dirty=!0,l=!0,a.classList.add(r));l||a.classList.remove(r)}}};async function Uw(e){let t=this.parentElement,n=await t.getTable(!0);if(this._initialized)await Cu.call(this,this.regular_table,n,e,this.model);else{this.innerHTML="",this.shadowRoot?this.shadowRoot.appendChild(this.regular_table):this.appendChild(this.regular_table),this.model=await Cu.call(this,this.regular_table,n,e),Rw(this,this.regular_table,{className:"psp-select-region"}),this.regular_table.addStyleListener(aw.bind(this.model,this.regular_table,t)),this.regular_table.addStyleListener(Qm.bind(this.model,this.regular_table)),this.regular_table.addStyleListener(Gm.bind(this.model,this.regular_table,t)),this.regular_table.addEventListener("click",hw.bind(this.model,this.regular_table)),this.regular_table.addEventListener("mousedown",dw.bind(this.model,this.regular_table,t));let r=new WeakMap;this.regular_table.addStyleListener(Sw.bind(this.model,this.regular_table,t,r)),this.regular_table.addEventListener("mousedown",kw.bind(this.model,this.regular_table,t,r)),this.regular_table.addEventListener("psp-deselect-all",Mw.bind(this.model,this.regular_table,t,r)),this.regular_table.addEventListener("click",Lw.bind(this.model,this.regular_table,t));let i=new WeakMap;this.regular_table.addStyleListener(_w.bind(this.model,this.regular_table,t,this)),this.regular_table.addStyleListener(sh.bind(this.model,this.regular_table,t,i)),this.regular_table.addEventListener("click",yw.bind(this.model,this.regular_table,t)),this.regular_table.addEventListener("focusin",xw.bind(this.model,this.regular_table,t,i)),this.regular_table.addEventListener("focusout",vw.bind(this.model,this.regular_table,t,i)),this.regular_table.addEventListener("keydown",ww.bind(this.model,this.regular_table,t,i)),t.addEventListener("perspective-toggle-column-settings",a=>{if(this.isConnected){if(oh.call(this.model,this.regular_table,t,a.detail.column_name),!a.detail.open){this.model._column_settings_selected_column=null;return}this.model._column_settings_selected_column=a.detail.column_name}}),this._initialized=!0}}function hh(e,t=!1){if(!this._initialized)return;t&&(this._cached_column_sizes=e);let n={},{group_by:r,columns:i}=this.model._config,a=(r==null?void 0:r.length)>0?r.length+1:0;for(let o of Object.keys(e))if(o==="__ROW_PATH__")n[a-1]=e[o];else{let l=this.model._column_paths.indexOf(o);n[l+a]=e[o]}this.regular_table._column_sizes.override=n}function _h(){if(!this._initialized)return[];if(this._cached_column_sizes){let a=this._cached_column_sizes;return this._cached_column_sizes=void 0,a}let e=this.regular_table._column_sizes.override,{group_by:t,columns:n}=this.model._config,r=(t==null?void 0:t.length)>0?t.length+1:0,i={};for(let a of Object.keys(e))if(e[a]!==void 0){let o=a-r;o>-1?i[this.model._column_paths[o]]=e[a]:o===-1&&(i.__ROW_PATH__=e[a])}return i}var Ra=["READ_ONLY","EDIT","SELECT_ROW","SELECT_COLUMN","SELECT_REGION"];function gh(e=void 0){var t;typeof e>"u"&&(e=Ra[(Ra.indexOf(this._edit_mode)+1)%Ra.length]),(t=this.parentElement)==null||t.setSelection(),this._edit_mode=e,this.model&&(this.model._edit_mode=e,this.model._selection_state={selected_areas:[],dirty:!0}),this._edit_button!==void 0&&(this._edit_button.dataset.editMode=e),this.dataset.editMode=e}function ph(e=void 0){typeof e>"u"&&(e=!this._is_scroll_lock),this._is_scroll_lock=e,this.classList.toggle("sub-cell-scroll-disabled",e),this._scroll_lock!==void 0&&this._scroll_lock.classList.toggle("lock-scroll",e)}function jw(e,t){e=JSON.parse(JSON.stringify(e)),t=JSON.parse(JSON.stringify(t));let n={};if(e.columns)for(let[a,o]of Object.entries(e.columns))o.column_size_override!==void 0&&(n[a]=o.column_size_override,delete o.column_size_override);let r={};if(t)for(let[a,o]of Object.entries(t))r[a]={...o,pos_fg_color:o.pos_fg_color?en(o.pos_fg_color):void 0,neg_fg_color:o.neg_fg_color?en(o.neg_fg_color):void 0,pos_bg_color:o.pos_bg_color?en(o.pos_bg_color):void 0,neg_bg_color:o.neg_bg_color?en(o.neg_bg_color):void 0,color:o.color?en(o.color):void 0};"edit_mode"in e&&(Ra.indexOf(e.edit_mode)!==-1?gh.call(this,e.edit_mode):console.error("Unknown edit mode "+e.edit_mode)),"scroll_lock"in e&&ph.call(this,e.scroll_lock);let i=this.regular_table;hh.call(this,n,!0),i[Or]=r}function Ww(){if(this.regular_table){let e={columns:{},scroll_lock:!!this._is_scroll_lock,edit_mode:this._edit_mode},t=_h.call(this);for(let n of Object.keys(t||{}))e.columns[n]||(e.columns[n]={}),e.columns[n].column_size_override=t[n];return JSON.parse(JSON.stringify(e))}return{}}async function qw(e){if(this.parentElement&&await this.activate(e),!this.isConnected||this.offsetParent==null)return;let t=_h.call(this),n=this.regular_table.draw({invalid_columns:!0});this.model._preserve_focus_state?this.model._preserve_focus_state=!1:(this.regular_table.scrollTop=0,this.regular_table.scrollLeft=0,this.regular_table.dispatchEvent(new CustomEvent("psp-deselect-all",{bubbles:!1})),this.regular_table._resetAutoSize()),hh.call(this,t),await n,this._toolbar.classList.toggle("aggregated",this.model._config.group_by.length>0||this.model._config.split_by.length>0)}function Bw(e,t){return e==="integer"||e==="float"?{datagrid_number_style:{fg_gradient:0,pos_fg_color:this.model._pos_fg_color[0],neg_fg_color:this.model._neg_fg_color[0],number_fg_mode:"color",bg_gradient:0,pos_bg_color:this.model._pos_bg_color[0],neg_bg_color:this.model._neg_bg_color[0],number_bg_mode:"disabled"},number_string_format:!0}:e==="date"||e==="datetime"||e==="string"?{[e==="date"||e==="datetime"?"datagrid_datetime_style":"datagrid_string_style"]:{color:this.model._color[0],bg_color:this.model._color[0]}}:null}var dr,bh=class extends HTMLElement{constructor(){super(),this.regular_table=document.createElement("regular-table"),this.regular_table.part="regular-table",this._is_scroll_lock=!1,this._edit_mode="READ_ONLY";let t=bh;t.renderTarget=="shadow"&&(wl(t,dr)||(Ym(t,dr,new CSSStyleSheet),wl(t,dr).replaceSync(ah)),this.attachShadow({mode:"open"}).adoptedStyleSheets.push(wl(t,dr)))}connectedCallback(){this._toolbar||(this._toolbar=document.createElement("perspective-viewer-datagrid-toolbar"));let t=this.parentElement;t&&t.appendChild(this._toolbar)}disconnectedCallback(){this._toolbar.parentElement.removeChild(this._toolbar)}async activate(t){return await Uw.call(this,t)}get name(){return"Datagrid"}get category(){return"Basic"}get select_mode(){return"toggle"}get min_config_columns(){}get config_column_names(){return["Columns"]}get priority(){return 1}can_render_column_styles(t,n){return t!=="boolean"}column_style_controls(t,n){return Bw.call(this,t,n)}async draw(t){return await qw.call(this,t)}async update(t){this.model._num_rows=await t.num_rows(),await this.regular_table.draw()}async render(t){let n=await this.parentElement.getView(),r=await n.to_columns(t),i=await n.column_paths().then(l=>l.slice(t.start_col,t.end_col)),a=t.end_row-t.start_row,o="";for(let l=0;l<a;l++){for(let s of i){let c=r[s],u=this.model._schema[s],d=$w(u,this.regular_table[Or][s.split("|").at(-1)]||{});d?o+=d.format(c[l])+"	":o+=c[l]+"	"}o+=`
`}return o.trim()}async resize(){!this.isConnected||this.offsetParent==null||this._initialized&&await this.regular_table.draw()}async clear(){this.regular_table._resetAutoSize(),this.regular_table.clear()}save(){return Ww.call(this)}restore(t,n){return jw.call(this,t,n)}async restyle(t){await this.draw(t)}delete(){this.regular_table.table_model&&this.regular_table._resetAutoSize(),this.regular_table.clear()}},Xl=bh,pd,bd;dr=new WeakMap,Bm(Xl,"renderTarget",(pd=window.CSS)!=null&&pd.supports&&((bd=window.CSS)!=null&&bd.supports("selector(:host-context(foo))"))?"shadow":"light"),Hm(Xl,dr,void 0);var Hw=':host{position:relative;display:block;}:host #container{position:absolute;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;top:0;left:0;right:0;bottom:0;}:host #toolbar{display:flex;align-items:center;height:36px;}:host #toolbar .hover-target{margin:0;display:inline-flex;align-items:center;height:48px;cursor:pointer;}:host #toolbar .hover-target:hover{outline:4px solid var(--icon--color);background-color:var(--icon--color);}:host #slot-container{flex:1;position:relative;}#scroll_lock.lock-scroll:before{-webkit-mask-image:var(--toolbar-scroll-lock-active--content);}#scroll_lock:before{-webkit-mask-image:var(--toolbar-scroll-lock--content);}#select_mode:before{content:"highlight_alt";}#edit_mode:before{-webkit-mask-image:"";}#edit_mode[data-edit-mode="READ_ONLY"]:before{-webkit-mask-image:var(--toolbar-edit-mode--read-only--content);}#edit_mode[data-edit-mode="EDIT"]:before{-webkit-mask-image:var(--toolbar-edit-mode--edit--content);}:host(.aggregated) #toolbar #edit_mode[data-edit-mode="EDIT"]:before{-webkit-mask-image:var(--toolbar-edit-mode--read-only--content);}#edit_mode[data-edit-mode="SELECT_ROW"]:before{-webkit-mask-image:var(--toolbar-edit-mode--select-row--content);}#edit_mode[data-edit-mode="SELECT_COLUMN"]:before{-webkit-mask-image:var(--toolbar-edit-mode--select-column--content);}#edit_mode[data-edit-mode="SELECT_REGION"]:before{-webkit-mask-image:var(--toolbar-edit-mode--select-region--content);}#edit_mode[data-edit-mode="READ_ONLY"] span:before{content:var(--edit-mode--read-only--content,"Read Only");}#edit_mode[data-edit-mode="EDIT"] span:before{content:var(--edit-mode--edit--content,"Editable");}#edit_mode[data-edit-mode="SELECT_ROW"] span:before{content:var(--edit-mode--select-row--content,"Row Select");}#edit_mode[data-edit-mode="SELECT_COLUMN"] span:before{content:var(--edit-mode--select-column--content,"Column Select");}#edit_mode[data-edit-mode="SELECT_REGION"] span:before{content:var(--edit-mode--select-region--content,"Region Select");}#scroll_lock span:before{content:var(--scroll-lock-toggle--content,"Free Scroll");}#scroll_lock.lock-scroll span:before{content:var(--scroll-lock-alt-toggle--content,"Align Scroll");}.button:before{width:21px;height:21px;content:"";-webkit-mask-size:cover;mask-size:cover;background-color:var(--icon--color);}.button.editable:before,.button.lock-scroll:before{color:inherit;}.button{display:inline-flex;justify-content:center;align-items:center;user-select:none;padding:0 5px;border:1px solid transparent;border-radius:3px;border:1px solid transparent;box-sizing:border-box;display:inline-flex;font-size:var(--label--font-size,0.75em);height:22px;user-select:none;white-space:nowrap;width:37px;}.button>span{display:none;margin:0;padding:0;}.hover-target:hover .button{position:relative;background-color:var(--icon--color);color:var(--plugin--background);opacity:1;display:flex;align-items:center;cursor:pointer;}.hover-target:hover .button:before{background-color:var(--plugin--background);}.hover-target:hover .button>span{display:block;position:absolute;top:calc(100% + 3px);left:50%;translate:-50%;margin:0;padding:5px;height:auto;white-space:pre-wrap;line-height:1;font-size:9px;background-color:var(--icon--color);width:35px;text-align:center;border-radius:0 0 3px 3px;}',Yw=class extends HTMLElement{connectedCallback(){if(this._initialized)return;this._initialized=!0,this.setAttribute("slot","plugin-settings"),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`
            <style>
                ${Hw}
            </style>
            <div id="toolbar">
                <span class="hover-target">
                    <span id="scroll_lock" class="button">
                        <span></span>
                    </span>
                </span>
                <span class="hover-target">
                    <span id="edit_mode" class="button" data-edit-mode="READ_ONLY">
                        <span></span>
                    </span>
                </span>
            </div>
        `;let t=this.parentElement,n=t.querySelector("perspective-viewer-datagrid");n._scroll_lock=this.shadowRoot.querySelector("#scroll_lock"),n._scroll_lock.addEventListener("click",()=>ph.call(n)),n._edit_button=this.shadowRoot.querySelector("#edit_mode"),n._edit_button.addEventListener("click",()=>{gh.call(n),n.regular_table.draw(),t.dispatchEvent(new Event("perspective-config-update"))})}};function Xw(){let e=document.createElement("style");e.textContent=ah,document.head.insertBefore(e,document.head.firstChild)}async function Gw(){customElements.define("perspective-viewer-datagrid-toolbar",Yw),customElements.define("perspective-viewer-datagrid",Xl),await customElements.whenDefined("perspective-viewer"),customElements.get("perspective-viewer").registerPlugin("perspective-viewer-datagrid")}Gw();Xw();function Ti(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qw(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ns(e){let t,n,r;e.length!==2?(t=Ti,n=(l,s)=>Ti(e(l),s),r=(l,s)=>e(l)-s):(t=e===Ti||e===Qw?e:Kw,n=e,r=e);function i(l,s,c=0,u=l.length){if(c<u){if(t(s,s)!==0)return u;do{const d=c+u>>>1;n(l[d],s)<0?c=d+1:u=d}while(c<u)}return c}function a(l,s,c=0,u=l.length){if(c<u){if(t(s,s)!==0)return u;do{const d=c+u>>>1;n(l[d],s)<=0?c=d+1:u=d}while(c<u)}return c}function o(l,s,c=0,u=l.length){const d=i(l,s,c,u-1);return d>c&&r(l[d-1],s)>-r(l[d],s)?d-1:d}return{left:i,center:o,right:a}}function Kw(){return 0}function Jw(e){return e===null?NaN:+e}const Zw=Ns(Ti),e1=Zw.right;Ns(Jw).center;function t1(e,t){let n=0,r,i=0,a=0;for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));if(n>1)return a/(n-1)}function n1(e,t){const n=t1(e);return n&&Math.sqrt(n)}class Nu extends Map{constructor(t,n=a1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Ou(this,t))}has(t){return super.has(Ou(this,t))}set(t,n){return super.set(r1(this,t),n)}delete(t){return super.delete(i1(this,t))}}function Ou({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function r1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function i1({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function a1(e){return e!==null&&typeof e=="object"?e.valueOf():e}const o1=Math.sqrt(50),l1=Math.sqrt(10),s1=Math.sqrt(2);function Ha(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=o1?10:a>=l1?5:a>=s1?2:1;let l,s,c;return i<0?(c=Math.pow(10,-i)/o,l=Math.round(e*c),s=Math.round(t*c),l/c<e&&++l,s/c>t&&--s,c=-c):(c=Math.pow(10,i)*o,l=Math.round(e/c),s=Math.round(t/c),l*c<e&&++l,s*c>t&&--s),s<l&&.5<=n&&n<2?Ha(e,t,n*2):[l,s,c]}function Gl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Ha(t,e,n):Ha(e,t,n);if(!(a>=i))return[];const l=a-i+1,s=new Array(l);if(r)if(o<0)for(let c=0;c<l;++c)s[c]=(a-c)/-o;else for(let c=0;c<l;++c)s[c]=(a-c)*o;else if(o<0)for(let c=0;c<l;++c)s[c]=(i+c)/-o;else for(let c=0;c<l;++c)s[c]=(i+c)*o;return s}function Ql(e,t,n){return t=+t,e=+e,n=+n,Ha(e,t,n)[2]}function Kl(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ql(t,e,n):Ql(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Jn(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function On(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function c1(e,t){let n=0,r=0;for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);if(n)return r/n}function u1(e,t=f1){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function f1(e,t){return[e,t]}function Os(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}const mh=(e,t,n)=>{const r=t[n];if(typeof r!="function")throw new Error(`Attempt to rebind ${n} which isn't a function on the source object`);return(...i)=>{var a=r.apply(t,i);return a===t?e:a}},wt=(e,t,...n)=>{for(const r of n)e[r]=mh(e,t,r);return e},d1=e=>t=>e.reduce((n,r)=>n&&r(n),t),ze=(e,t,...n)=>{const r=d1(n);for(const i of Object.keys(t)){const a=r(i);a&&(e[a]=mh(e,t,i))}return e},h1=e=>e.map(t=>typeof t=="string"?new RegExp(`^${t}$`):t),Ft=(...e)=>(e=h1(e),t=>e.every(n=>!n.test(t))&&t),Ya=e=>t=>e[t],_1=e=>e[0].toUpperCase()+e.slice(1),Cn=e=>t=>e+_1(t);function g1(e){return e}function p1(e){}function b1(e){return typeof e=="function"?e:()=>e}function Lu(e){return typeof e=="number"&&isNaN(e)?void 0:e}function m1(){let e=()=>10,t=p1,n=g1,r=a=>a!=null;var i=function(a){const o=e.apply(this,arguments),l=a.slice(0,o).map(n);return a.map((s,c)=>(c>=o&&(l.shift(),l.push(n(s,c))),c<o-1||l.some(u=>!r(u))?t(void 0,c):t(l,c)))};return i.period=(...a)=>a.length?(e=b1(a[0]),i):e,i.accumulator=(...a)=>a.length?(t=a[0],i):t,i.defined=(...a)=>a.length?(r=a[0],i):r,i.value=(...a)=>a.length?(n=a[0],i):n,i}function w1(){let e=2;const t=m1().accumulator(r=>{const i=r&&n1(r),a=r&&c1(r);return{average:a,upper:Lu(a+e*i),lower:Lu(a-e*i)}}),n=r=>t(r);return n.multiplier=(...r)=>r.length?(e=r[0],n):e,wt(n,t,"period","value"),n}function Lr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function y1(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zu=Symbol("implicit");function ta(){var e=new Nu,t=[],n=[],r=zu;function i(a){let o=e.get(a);if(o===void 0){if(r!==zu)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Nu;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ta(t,n).unknown(r)},Lr.apply(i,arguments),i}function na(){var e=ta().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,s=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,h=i<r,_=h?i:r,p=h?r:i;a=(p-_)/Math.max(1,f-s+c*2),l&&(a=Math.floor(a)),_+=(p-_-a*(f-s))*u,o=a*(1-s),l&&(_=Math.round(_),o=Math.round(o));var x=Os(f).map(function(b){return _+a*b});return n(h?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(l=!!f,d()):l},e.padding=function(f){return arguments.length?(s=Math.min(1,c=+f),d()):s},e.paddingInner=function(f){return arguments.length?(s=Math.min(1,f),d()):s},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return na(t(),[r,i]).round(l).paddingInner(s).paddingOuter(c).align(u)},Lr.apply(d(),arguments)}function Ls(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wh(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ra(){}var ji=.7,Xa=1/ji,wr="\\s*([+-]?\\d+)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v1=/^#([0-9a-f]{3,8})$/,x1=new RegExp(`^rgb\\(${wr},${wr},${wr}\\)$`),k1=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),S1=new RegExp(`^rgba\\(${wr},${wr},${wr},${Wi}\\)$`),M1=new RegExp(`^rgba\\(${rn},${rn},${rn},${Wi}\\)$`),E1=new RegExp(`^hsl\\(${Wi},${rn},${rn}\\)$`),A1=new RegExp(`^hsla\\(${Wi},${rn},${rn},${Wi}\\)$`),Ru={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ls(ra,on,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vu,formatHex:Vu,formatHex8:$1,formatHsl:T1,formatRgb:Du,toString:Du});function Vu(){return this.rgb().formatHex()}function $1(){return this.rgb().formatHex8()}function T1(){return yh(this).formatHsl()}function Du(){return this.rgb().formatRgb()}function on(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=v1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Iu(t):n===3?new At(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?va(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?va(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=x1.exec(e))?new At(t[1],t[2],t[3],1):(t=k1.exec(e))?new At(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=S1.exec(e))?va(t[1],t[2],t[3],t[4]):(t=M1.exec(e))?va(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=E1.exec(e))?Uu(t[1],t[2]/100,t[3]/100,1):(t=A1.exec(e))?Uu(t[1],t[2]/100,t[3]/100,t[4]):Ru.hasOwnProperty(e)?Iu(Ru[e]):e==="transparent"?new At(NaN,NaN,NaN,0):null}function Iu(e){return new At(e>>16&255,e>>8&255,e&255,1)}function va(e,t,n,r){return r<=0&&(e=t=n=NaN),new At(e,t,n,r)}function C1(e){return e instanceof ra||(e=on(e)),e?(e=e.rgb(),new At(e.r,e.g,e.b,e.opacity)):new At}function Jl(e,t,n,r){return arguments.length===1?C1(e):new At(e,t,n,r??1)}function At(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ls(At,Jl,wh(ra,{brighter(e){return e=e==null?Xa:Math.pow(Xa,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ji:Math.pow(ji,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new At(Zn(this.r),Zn(this.g),Zn(this.b),Ga(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pu,formatHex:Pu,formatHex8:N1,formatRgb:Fu,toString:Fu}));function Pu(){return`#${Xn(this.r)}${Xn(this.g)}${Xn(this.b)}`}function N1(){return`#${Xn(this.r)}${Xn(this.g)}${Xn(this.b)}${Xn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fu(){const e=Ga(this.opacity);return`${e===1?"rgb(":"rgba("}${Zn(this.r)}, ${Zn(this.g)}, ${Zn(this.b)}${e===1?")":`, ${e})`}`}function Ga(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xn(e){return e=Zn(e),(e<16?"0":"")+e.toString(16)}function Uu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bt(e,t,n,r)}function yh(e){if(e instanceof Bt)return new Bt(e.h,e.s,e.l,e.opacity);if(e instanceof ra||(e=on(e)),!e)return new Bt;if(e instanceof Bt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new Bt(o,l,s,e.opacity)}function O1(e,t,n,r){return arguments.length===1?yh(e):new Bt(e,t,n,r??1)}function Bt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ls(Bt,O1,wh(ra,{brighter(e){return e=e==null?Xa:Math.pow(Xa,e),new Bt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ji:Math.pow(ji,e),new Bt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new At(yl(e>=240?e-240:e+120,i,r),yl(e,i,r),yl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Bt(ju(this.h),xa(this.s),xa(this.l),Ga(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ga(this.opacity);return`${e===1?"hsl(":"hsla("}${ju(this.h)}, ${xa(this.s)*100}%, ${xa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ju(e){return e=(e||0)%360,e<0?e+360:e}function xa(e){return Math.max(0,Math.min(1,e||0))}function yl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zs=e=>()=>e;function L1(e,t){return function(n){return e+n*t}}function z1(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function R1(e){return(e=+e)==1?vh:function(t,n){return n-t?z1(t,n,e):zs(isNaN(t)?n:t)}}function vh(e,t){var n=t-e;return n?L1(e,n):zs(isNaN(e)?t:e)}const Qa=function e(t){var n=R1(t);function r(i,a){var o=n((i=Jl(i)).r,(a=Jl(a)).r),l=n(i.g,a.g),s=n(i.b,a.b),c=vh(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=s(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function V1(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function D1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function I1(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=In(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function P1(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function F1(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=In(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Zl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vl=new RegExp(Zl.source,"g");function U1(e){return function(){return e}}function j1(e){return function(t){return e(t)+""}}function xh(e,t){var n=Zl.lastIndex=vl.lastIndex=0,r,i,a,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=Zl.exec(e))&&(i=vl.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,s.push({i:o,x:Wt(r,i)})),n=vl.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?j1(s[0].x):U1(t):(t=s.length,function(c){for(var u=0,d;u<t;++u)l[(d=s[u]).i]=d.x(c);return l.join("")})}function In(e,t){var n=typeof t,r;return t==null||n==="boolean"?zs(t):(n==="number"?Wt:n==="string"?(r=on(t))?(t=r,Qa):xh:t instanceof on?Qa:t instanceof Date?P1:D1(t)?V1:Array.isArray(t)?I1:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?F1:Wt)(e,t)}function kh(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Wu=180/Math.PI,es={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sh(e,t,n,r,i,a){var o,l,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Wu,skewX:Math.atan(s)*Wu,scaleX:o,scaleY:l}}var ka;function W1(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?es:Sh(t.a,t.b,t.c,t.d,t.e,t.f)}function q1(e){return e==null||(ka||(ka=document.createElementNS("http://www.w3.org/2000/svg","g")),ka.setAttribute("transform",e),!(e=ka.transform.baseVal.consolidate()))?es:(e=e.matrix,Sh(e.a,e.b,e.c,e.d,e.e,e.f))}function Mh(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,f,h,_){if(c!==d||u!==f){var p=h.push("translate(",null,t,null,n);_.push({i:p-4,x:Wt(c,d)},{i:p-2,x:Wt(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Wt(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function l(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Wt(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function s(c,u,d,f,h,_){if(c!==d||u!==f){var p=h.push(i(h)+"scale(",null,",",null,")");_.push({i:p-4,x:Wt(c,d)},{i:p-2,x:Wt(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),l(c.skewX,u.skewX,d,f),s(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var _=-1,p=f.length,x;++_<p;)d[(x=f[_]).i]=x.x(h);return d.join("")}}}var B1=Mh(W1,"px, ","px)","deg)"),H1=Mh(q1,", ",")",")"),Y1=1e-12;function qu(e){return((e=Math.exp(e))+1/e)/2}function X1(e){return((e=Math.exp(e))-1/e)/2}function G1(e){return((e=Math.exp(2*e))-1)/(e+1)}const Q1=function e(t,n,r){function i(a,o){var l=a[0],s=a[1],c=a[2],u=o[0],d=o[1],f=o[2],h=u-l,_=d-s,p=h*h+_*_,x,b;if(p<Y1)b=Math.log(f/c)/t,x=function(I){return[l+I*h,s+I*_,c*Math.exp(t*I*b)]};else{var A=Math.sqrt(p),$=(f*f-c*c+r*p)/(2*c*n*A),S=(f*f-c*c-r*p)/(2*f*n*A),w=Math.log(Math.sqrt($*$+1)-$),k=Math.log(Math.sqrt(S*S+1)-S);b=(k-w)/t,x=function(I){var L=I*b,G=qu(w),F=c/(n*A)*(G*G1(t*L+w)-X1(w));return[l+F*h,s+F*_,c*G/qu(t*L+w)]}}return x.duration=b*1e3*t/Math.SQRT2,x}return i.rho=function(a){var o=Math.max(.001,+a),l=o*o,s=l*l;return e(o,l,s)},i}(Math.SQRT2,2,4);function K1(e){return function(){return e}}function ts(e){return+e}var Bu=[0,1];function Dt(e){return e}function ns(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:K1(isNaN(t)?NaN:.5)}function J1(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Z1(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=ns(i,r),a=n(o,a)):(r=ns(r,i),a=n(a,o)),function(l){return a(r(l))}}function ey(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=ns(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var s=e1(e,l,1,r)-1;return a[s](i[s](l))}}function xo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rs(){var e=Bu,t=Bu,n=In,r,i,a,o=Dt,l,s,c;function u(){var f=Math.min(e.length,t.length);return o!==Dt&&(o=J1(e[0],e[f-1])),l=f>2?ey:Z1,s=c=null,d}function d(f){return f==null||isNaN(f=+f)?a:(s||(s=l(e.map(r),t,n)))(r(o(f)))}return d.invert=function(f){return o(i((c||(c=l(t,e.map(r),Wt)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,ts),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=kh,u()},d.clamp=function(f){return arguments.length?(o=f?!0:Dt,u()):o!==Dt},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return r=f,i=h,u()}}function Eh(){return Rs()(Dt,Dt)}function ty(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ka(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Mr(e){return e=Ka(Math.abs(e)),e?e[1]:NaN}function ny(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function ry(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var iy=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qi(e){if(!(t=iy.exec(e)))throw new Error("invalid format: "+e);var t;return new Vs({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qi.prototype=Vs.prototype;function Vs(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ay(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ah;function oy(e,t){var n=Ka(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Ah=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ka(e,Math.max(0,t+a-1))[0]}function Hu(e,t){var n=Ka(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Yu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ty,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Hu(e*100,t),r:Hu,s:oy,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Xu(e){return e}var Gu=Array.prototype.map,Qu=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function ly(e){var t=e.grouping===void 0||e.thousands===void 0?Xu:ny(Gu.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Xu:ry(Gu.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"âˆ’":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function c(d){d=qi(d);var f=d.fill,h=d.align,_=d.sign,p=d.symbol,x=d.zero,b=d.width,A=d.comma,$=d.precision,S=d.trim,w=d.type;w==="n"?(A=!0,w="g"):Yu[w]||($===void 0&&($=12),S=!0,w="g"),(x||f==="0"&&h==="=")&&(x=!0,f="0",h="=");var k=p==="$"?n:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",I=p==="$"?r:/[%p]/.test(w)?o:"",L=Yu[w],G=/[defgprs%]/.test(w);$=$===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function F(D){var Z=k,W=I,O,H,z;if(w==="c")W=L(D)+W,D="";else{D=+D;var Q=D<0||1/D<0;if(D=isNaN(D)?s:L(Math.abs(D),$),S&&(D=ay(D)),Q&&+D==0&&_!=="+"&&(Q=!1),Z=(Q?_==="("?_:l:_==="-"||_==="("?"":_)+Z,W=(w==="s"?Qu[8+Ah/3]:"")+W+(Q&&_==="("?")":""),G){for(O=-1,H=D.length;++O<H;)if(z=D.charCodeAt(O),48>z||z>57){W=(z===46?i+D.slice(O+1):D.slice(O))+W,D=D.slice(0,O);break}}}A&&!x&&(D=t(D,1/0));var V=Z.length+D.length+W.length,q=V<b?new Array(b-V+1).join(f):"";switch(A&&x&&(D=t(q+D,q.length?b-W.length:1/0),q=""),h){case"<":D=Z+D+W+q;break;case"=":D=Z+q+D+W;break;case"^":D=q.slice(0,V=q.length>>1)+Z+D+W+q.slice(V);break;default:D=q+Z+D+W;break}return a(D)}return F.toString=function(){return d+""},F}function u(d,f){var h=c((d=qi(d),d.type="f",d)),_=Math.max(-8,Math.min(8,Math.floor(Mr(f)/3)))*3,p=Math.pow(10,-_),x=Qu[8+_/3];return function(b){return h(p*b)+x}}return{format:c,formatPrefix:u}}var Sa,yr,$h;sy({thousands:",",grouping:[3],currency:["$",""]});function sy(e){return Sa=ly(e),yr=Sa.format,$h=Sa.formatPrefix,Sa}function cy(e){return Math.max(0,-Mr(Math.abs(e)))}function uy(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mr(t)/3)))*3-Mr(Math.abs(e)))}function fy(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mr(t)-Mr(e))+1}function dy(e,t,n,r){var i=Kl(e,t,n),a;switch(r=qi(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=uy(i,o))&&(r.precision=a),$h(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=fy(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=cy(i))&&(r.precision=a-(r.type==="%")*2);break}}return yr(r)}function ko(e){var t=e.domain;return e.ticks=function(n){var r=t();return Gl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return dy(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],s,c,u=10;for(l<o&&(c=o,o=l,l=c,c=i,i=a,a=c);u-- >0;){if(c=Ql(o,l,n),c===s)return r[i]=o,r[a]=l,t(r);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;s=c}return e},e}function Ln(){var e=Eh();return e.copy=function(){return xo(e,Ln())},Lr.apply(e,arguments),ko(e)}function Ct(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ts),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ct(e).unknown(t)},e=arguments.length?Array.from(e,ts):[0,1],ko(n)}function Th(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Ku(e){return Math.log(e)}function Ju(e){return Math.exp(e)}function hy(e){return-Math.log(-e)}function _y(e){return-Math.exp(-e)}function gy(e){return isFinite(e)?+("1e"+e):e<0?0:e}function py(e){return e===10?gy:e===Math.E?Math.exp:t=>Math.pow(e,t)}function by(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Zu(e){return(t,n)=>-e(-t,n)}function my(e){const t=e(Ku,Ju),n=t.domain;let r=10,i,a;function o(){return i=by(r),a=py(r),n()[0]<0?(i=Zu(i),a=Zu(a),e(hy,_y)):e(Ku,Ju),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const s=n();let c=s[0],u=s[s.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),h=i(u),_,p;const x=l==null?10:+l;let b=[];if(!(r%1)&&h-f<x){if(f=Math.floor(f),h=Math.ceil(h),c>0){for(;f<=h;++f)for(_=1;_<r;++_)if(p=f<0?_/a(-f):_*a(f),!(p<c)){if(p>u)break;b.push(p)}}else for(;f<=h;++f)for(_=r-1;_>=1;--_)if(p=f>0?_/a(-f):_*a(f),!(p<c)){if(p>u)break;b.push(p)}b.length*2<x&&(b=Gl(c,u,x))}else b=Gl(f,h,Math.min(h-f,x)).map(a);return d?b.reverse():b},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=qi(s)).precision==null&&(s.trim=!0),s=yr(s)),l===1/0)return s;const c=Math.max(1,r*l/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?s(u):""}},t.nice=()=>n(Th(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function Ch(){const e=my(Rs()).domain([1,10]);return e.copy=()=>xo(e,Ch()).base(e.base()),Lr.apply(e,arguments),e}function ef(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wy(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yy(e){return e<0?-e*e:e*e}function vy(e){var t=e(Dt,Dt),n=1;function r(){return n===1?e(Dt,Dt):n===.5?e(wy,yy):e(ef(n),ef(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ko(t)}function Nh(){var e=vy(Rs());return e.copy=function(){return xo(e,Nh()).exponent(e.exponent())},Lr.apply(e,arguments),e}const xl=new Date,kl=new Date;function st(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const s=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return s;let c;do s.push(c=new Date(+a)),t(a,l),e(a);while(c<a&&a<o);return s},i.filter=a=>st(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(xl.setTime(+a),kl.setTime(+o),e(xl),e(kl),Math.floor(n(xl,kl))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ja=st(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ja.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?st(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ja);Ja.range;const hn=1e3,It=hn*60,_n=It*60,bn=_n*24,Ds=bn*7,tf=bn*30,Sl=bn*365,hr=st(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getUTCSeconds());hr.range;const Is=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hn)},(e,t)=>{e.setTime(+e+t*It)},(e,t)=>(t-e)/It,e=>e.getMinutes());Is.range;const xy=st(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*It)},(e,t)=>(t-e)/It,e=>e.getUTCMinutes());xy.range;const Ps=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hn-e.getMinutes()*It)},(e,t)=>{e.setTime(+e+t*_n)},(e,t)=>(t-e)/_n,e=>e.getHours());Ps.range;const ky=st(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_n)},(e,t)=>(t-e)/_n,e=>e.getUTCHours());ky.range;const ia=st(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*It)/bn,e=>e.getDate()-1);ia.range;const Fs=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bn,e=>e.getUTCDate()-1);Fs.range;const Sy=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bn,e=>Math.floor(e/bn));Sy.range;function ar(e){return st(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*It)/Ds)}const So=ar(0),Za=ar(1),My=ar(2),Ey=ar(3),Er=ar(4),Ay=ar(5),$y=ar(6);So.range;Za.range;My.range;Ey.range;Er.range;Ay.range;$y.range;function or(e){return st(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ds)}const Oh=or(0),eo=or(1),Ty=or(2),Cy=or(3),Ar=or(4),Ny=or(5),Oy=or(6);Oh.range;eo.range;Ty.range;Cy.range;Ar.range;Ny.range;Oy.range;const Us=st(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Us.range;const Ly=st(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ly.range;const mn=st(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});mn.range;const nr=st(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());nr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});nr.range;function zy(e,t,n,r,i,a){const o=[[hr,1,hn],[hr,5,5*hn],[hr,15,15*hn],[hr,30,30*hn],[a,1,It],[a,5,5*It],[a,15,15*It],[a,30,30*It],[i,1,_n],[i,3,3*_n],[i,6,6*_n],[i,12,12*_n],[r,1,bn],[r,2,2*bn],[n,1,Ds],[t,1,tf],[t,3,3*tf],[e,1,Sl]];function l(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:s(c,u,d),_=h?h.range(c,+u+1):[];return f?_.reverse():_}function s(c,u,d){const f=Math.abs(u-c)/d,h=Ns(([,,x])=>x).right(o,f);if(h===o.length)return e.every(Kl(c/Sl,u/Sl,d));if(h===0)return Ja.every(Math.max(Kl(c,u,d),1));const[_,p]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return _.every(p)}return[l,s]}const[Ry,Vy]=zy(mn,Us,So,ia,Ps,Is);function Ml(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function El(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function si(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Dy(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,c=ci(i),u=ui(i),d=ci(a),f=ui(a),h=ci(o),_=ui(o),p=ci(l),x=ui(l),b=ci(s),A=ui(s),$={a:Q,A:V,b:q,B:U,c:null,d:sf,e:sf,f:ov,g:pv,G:mv,H:rv,I:iv,j:av,L:Lh,m:lv,M:sv,p:ae,q:fe,Q:ff,s:df,S:cv,u:uv,U:fv,V:dv,w:hv,W:_v,x:null,X:null,y:gv,Y:bv,Z:wv,"%":uf},S={a:j,A:K,b:ce,B:ke,c:null,d:cf,e:cf,f:kv,g:Lv,G:Rv,H:yv,I:vv,j:xv,L:Rh,m:Sv,M:Mv,p:Ae,q:Pe,Q:ff,s:df,S:Ev,u:Av,U:$v,V:Tv,w:Cv,W:Nv,x:null,X:null,y:Ov,Y:zv,Z:Vv,"%":uf},w={a:F,A:D,b:Z,B:W,c:O,d:of,e:of,f:Zy,g:af,G:rf,H:lf,I:lf,j:Gy,L:Jy,m:Xy,M:Qy,p:G,q:Yy,Q:tv,s:nv,S:Ky,u:jy,U:Wy,V:qy,w:Uy,W:By,x:H,X:z,y:af,Y:rf,Z:Hy,"%":ev};$.x=k(n,$),$.X=k(r,$),$.c=k(t,$),S.x=k(n,S),S.X=k(r,S),S.c=k(t,S);function k(le,Se){return function(Te){var re=[],Ie=-1,Ce=0,pt=le.length,Ee,Gt,Ur;for(Te instanceof Date||(Te=new Date(+Te));++Ie<pt;)le.charCodeAt(Ie)===37&&(re.push(le.slice(Ce,Ie)),(Gt=nf[Ee=le.charAt(++Ie)])!=null?Ee=le.charAt(++Ie):Gt=Ee==="e"?" ":"0",(Ur=Se[Ee])&&(Ee=Ur(Te,Gt)),re.push(Ee),Ce=Ie+1);return re.push(le.slice(Ce,Ie)),re.join("")}}function I(le,Se){return function(Te){var re=si(1900,void 0,1),Ie=L(re,le,Te+="",0),Ce,pt;if(Ie!=Te.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Se&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ce=El(si(re.y,0,1)),pt=Ce.getUTCDay(),Ce=pt>4||pt===0?eo.ceil(Ce):eo(Ce),Ce=Fs.offset(Ce,(re.V-1)*7),re.y=Ce.getUTCFullYear(),re.m=Ce.getUTCMonth(),re.d=Ce.getUTCDate()+(re.w+6)%7):(Ce=Ml(si(re.y,0,1)),pt=Ce.getDay(),Ce=pt>4||pt===0?Za.ceil(Ce):Za(Ce),Ce=ia.offset(Ce,(re.V-1)*7),re.y=Ce.getFullYear(),re.m=Ce.getMonth(),re.d=Ce.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),pt="Z"in re?El(si(re.y,0,1)).getUTCDay():Ml(si(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(pt+5)%7:re.w+re.U*7-(pt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,El(re)):Ml(re)}}function L(le,Se,Te,re){for(var Ie=0,Ce=Se.length,pt=Te.length,Ee,Gt;Ie<Ce;){if(re>=pt)return-1;if(Ee=Se.charCodeAt(Ie++),Ee===37){if(Ee=Se.charAt(Ie++),Gt=w[Ee in nf?Se.charAt(Ie++):Ee],!Gt||(re=Gt(le,Te,re))<0)return-1}else if(Ee!=Te.charCodeAt(re++))return-1}return re}function G(le,Se,Te){var re=c.exec(Se.slice(Te));return re?(le.p=u.get(re[0].toLowerCase()),Te+re[0].length):-1}function F(le,Se,Te){var re=h.exec(Se.slice(Te));return re?(le.w=_.get(re[0].toLowerCase()),Te+re[0].length):-1}function D(le,Se,Te){var re=d.exec(Se.slice(Te));return re?(le.w=f.get(re[0].toLowerCase()),Te+re[0].length):-1}function Z(le,Se,Te){var re=b.exec(Se.slice(Te));return re?(le.m=A.get(re[0].toLowerCase()),Te+re[0].length):-1}function W(le,Se,Te){var re=p.exec(Se.slice(Te));return re?(le.m=x.get(re[0].toLowerCase()),Te+re[0].length):-1}function O(le,Se,Te){return L(le,t,Se,Te)}function H(le,Se,Te){return L(le,n,Se,Te)}function z(le,Se,Te){return L(le,r,Se,Te)}function Q(le){return o[le.getDay()]}function V(le){return a[le.getDay()]}function q(le){return s[le.getMonth()]}function U(le){return l[le.getMonth()]}function ae(le){return i[+(le.getHours()>=12)]}function fe(le){return 1+~~(le.getMonth()/3)}function j(le){return o[le.getUTCDay()]}function K(le){return a[le.getUTCDay()]}function ce(le){return s[le.getUTCMonth()]}function ke(le){return l[le.getUTCMonth()]}function Ae(le){return i[+(le.getUTCHours()>=12)]}function Pe(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Se=k(le+="",$);return Se.toString=function(){return le},Se},parse:function(le){var Se=I(le+="",!1);return Se.toString=function(){return le},Se},utcFormat:function(le){var Se=k(le+="",S);return Se.toString=function(){return le},Se},utcParse:function(le){var Se=I(le+="",!0);return Se.toString=function(){return le},Se}}}var nf={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,Iy=/^%/,Py=/[\\^$*+?|[\]().{}]/g;function je(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Fy(e){return e.replace(Py,"\\$&")}function ci(e){return new RegExp("^(?:"+e.map(Fy).join("|")+")","i")}function ui(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Uy(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function jy(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Wy(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function qy(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function By(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function rf(e,t,n){var r=ut.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function af(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Hy(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Yy(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Xy(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function of(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Gy(e,t,n){var r=ut.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function lf(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Qy(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ky(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Jy(e,t,n){var r=ut.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Zy(e,t,n){var r=ut.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ev(e,t,n){var r=Iy.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function tv(e,t,n){var r=ut.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function nv(e,t,n){var r=ut.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function sf(e,t){return je(e.getDate(),t,2)}function rv(e,t){return je(e.getHours(),t,2)}function iv(e,t){return je(e.getHours()%12||12,t,2)}function av(e,t){return je(1+ia.count(mn(e),e),t,3)}function Lh(e,t){return je(e.getMilliseconds(),t,3)}function ov(e,t){return Lh(e,t)+"000"}function lv(e,t){return je(e.getMonth()+1,t,2)}function sv(e,t){return je(e.getMinutes(),t,2)}function cv(e,t){return je(e.getSeconds(),t,2)}function uv(e){var t=e.getDay();return t===0?7:t}function fv(e,t){return je(So.count(mn(e)-1,e),t,2)}function zh(e){var t=e.getDay();return t>=4||t===0?Er(e):Er.ceil(e)}function dv(e,t){return e=zh(e),je(Er.count(mn(e),e)+(mn(e).getDay()===4),t,2)}function hv(e){return e.getDay()}function _v(e,t){return je(Za.count(mn(e)-1,e),t,2)}function gv(e,t){return je(e.getFullYear()%100,t,2)}function pv(e,t){return e=zh(e),je(e.getFullYear()%100,t,2)}function bv(e,t){return je(e.getFullYear()%1e4,t,4)}function mv(e,t){var n=e.getDay();return e=n>=4||n===0?Er(e):Er.ceil(e),je(e.getFullYear()%1e4,t,4)}function wv(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+je(t/60|0,"0",2)+je(t%60,"0",2)}function cf(e,t){return je(e.getUTCDate(),t,2)}function yv(e,t){return je(e.getUTCHours(),t,2)}function vv(e,t){return je(e.getUTCHours()%12||12,t,2)}function xv(e,t){return je(1+Fs.count(nr(e),e),t,3)}function Rh(e,t){return je(e.getUTCMilliseconds(),t,3)}function kv(e,t){return Rh(e,t)+"000"}function Sv(e,t){return je(e.getUTCMonth()+1,t,2)}function Mv(e,t){return je(e.getUTCMinutes(),t,2)}function Ev(e,t){return je(e.getUTCSeconds(),t,2)}function Av(e){var t=e.getUTCDay();return t===0?7:t}function $v(e,t){return je(Oh.count(nr(e)-1,e),t,2)}function Vh(e){var t=e.getUTCDay();return t>=4||t===0?Ar(e):Ar.ceil(e)}function Tv(e,t){return e=Vh(e),je(Ar.count(nr(e),e)+(nr(e).getUTCDay()===4),t,2)}function Cv(e){return e.getUTCDay()}function Nv(e,t){return je(eo.count(nr(e)-1,e),t,2)}function Ov(e,t){return je(e.getUTCFullYear()%100,t,2)}function Lv(e,t){return e=Vh(e),je(e.getUTCFullYear()%100,t,2)}function zv(e,t){return je(e.getUTCFullYear()%1e4,t,4)}function Rv(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ar(e):Ar.ceil(e),je(e.getUTCFullYear()%1e4,t,4)}function Vv(){return"+0000"}function uf(){return"%"}function ff(e){return+e}function df(e){return Math.floor(+e/1e3)}var fr,Dh;Dv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Dv(e){return fr=Dy(e),Dh=fr.format,fr.parse,fr.utcFormat,fr.utcParse,fr}function Iv(e){return new Date(e)}function Pv(e){return e instanceof Date?+e:+new Date(+e)}function Ih(e,t,n,r,i,a,o,l,s,c){var u=Eh(),d=u.invert,f=u.domain,h=c(".%L"),_=c(":%S"),p=c("%I:%M"),x=c("%I %p"),b=c("%a %d"),A=c("%b %d"),$=c("%B"),S=c("%Y");function w(k){return(s(k)<k?h:l(k)<k?_:o(k)<k?p:a(k)<k?x:r(k)<k?i(k)<k?b:A:n(k)<k?$:S)(k)}return u.invert=function(k){return new Date(d(k))},u.domain=function(k){return arguments.length?f(Array.from(k,Pv)):f().map(Iv)},u.ticks=function(k){var I=f();return e(I[0],I[I.length-1],k??10)},u.tickFormat=function(k,I){return I==null?w:c(I)},u.nice=function(k){var I=f();return(!k||typeof k.range!="function")&&(k=t(I[0],I[I.length-1],k??10)),k?f(Th(I,k)):u},u.copy=function(){return xo(u,Ih(e,t,n,r,i,a,o,l,s,c))},u}function Ph(){return Lr.apply(Ih(Ry,Vy,mn,Us,So,ia,Ps,Is,hr,Dh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fv(){var e=0,t=1,n,r,i,a,o=Dt,l=!1,s;function c(d){return d==null||isNaN(d=+d)?s:o(i===0?.5:(d=(a(d)-n)*i,l?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(l=!!d,c):l},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(f){var h,_;return arguments.length?([h,_]=f,o=d(h,_),c):[o(0),o(1)]}}return c.range=u(In),c.rangeRound=u(kh),c.unknown=function(d){return arguments.length?(s=d,c):s},function(d){return a=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),c}}function Uv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Fh(){var e=ko(Fv()(Dt));return e.copy=function(){return Uv(e,Fh())},y1.apply(e,arguments)}function Uh(){let e=[o=>o],t=[0,0],n="percent",r=null,i=[];const a=o=>{const l=new Array(o.length);for(const c of e)for(let u=0;u<o.length;u++){const d=c(o[u],u);Array.isArray(d)?l.push(...d):l.push(d)}const s=[On(l),Jn(l)];if(s[0]=s[0]==null?On(i):On([s[0],...i]),s[1]=s[1]==null?Jn(i):Jn([s[1],...i]),r!=null){const c=Math.max(Math.abs(s[1]-r),Math.abs(s[0]-r));s[0]=r-c,s[1]=r+c}switch(n){case"domain":{s[0]-=t[0],s[1]+=t[1];break}case"percent":{const c=s[1]-s[0];s[0]-=t[0]*c,s[1]+=t[1]*c;break}default:throw new Error(`Unknown padUnit: ${n}`)}return s};return a.accessors=(...o)=>o.length?(e=o[0],a):e,a.pad=(...o)=>o.length?(t=o[0],a):t,a.padUnit=(...o)=>o.length?(n=o[0],a):n,a.include=(...o)=>o.length?(i=o[0],a):i,a.symmetricalAbout=(...o)=>o.length?(r=o[0],a):r,a}function jv(){let e=[],t=[0,0],n="percent",r=null,i=[];const a=Uh(),o=s=>s!=null?s.valueOf():null,l=s=>{const c=e.map(u=>(...d)=>{const f=u(...d);return Array.isArray(f)?f.map(o):o(f)});return a.accessors(c).pad(t).padUnit(n).symmetricalAbout(r!=null?r.valueOf():null).include(i.map(u=>u.valueOf())),a(s).map(u=>new Date(u))};return l.accessors=(...s)=>s.length?(e=s[0],l):e,l.pad=(...s)=>s.length?(t=s[0],l):t,l.padUnit=(...s)=>s.length?(n=s[0],l):n,l.include=(...s)=>s.length?(i=s[0],l):i,l.symmetricalAbout=(...s)=>s.length?(r=s[0],l):r,l}const rs=Math.PI,is=2*rs,Bn=1e-6,Wv=is-Bn;function jh(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function qv(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return jh;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class js{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?jh:qv(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,s=r-t,c=i-n,u=o-t,d=l-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Bn)if(!(Math.abs(d*s-c*u)>Bn)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,_=i-l,p=s*s+c*c,x=h*h+_*_,b=Math.sqrt(p),A=Math.sqrt(f),$=a*Math.tan((rs-Math.acos((p+f-x)/(2*b*A)))/2),S=$/A,w=$/b;Math.abs(S-1)>Bn&&this._append`L${t+S*u},${n+S*d}`,this._append`A${a},${a},0,0,${+(d*h>u*_)},${this._x1=t+w*s},${this._y1=n+w*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),c=t+l,u=n+s,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Bn||Math.abs(this._y1-u)>Bn)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%is+is),f>Wv?this._append`A${r},${r},0,1,${d},${t-l},${n-s}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>Bn&&this._append`A${r},${r},0,${+(f>=rs)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Mo(){return new js}Mo.prototype=js.prototype;const ot=e=>typeof e=="function"?e:()=>e,Bv=()=>{let e=null,t=c=>c.date,n=c=>c.open,r=c=>c.high,i=c=>c.low,a=c=>c.close,o="vertical",l=ot(3);const s=function(c){const u=e||Mo();return c.forEach(function(d,f){const h=t(d,f),_=n(d,f),p=r(d,f),x=i(d,f),b=a(d,f),A=l(d,f)/2;o==="vertical"?(u.moveTo(h,x),u.lineTo(h,p),u.moveTo(h,_),u.lineTo(h-A,_),u.moveTo(h,b),u.lineTo(h+A,b)):(u.moveTo(x,h),u.lineTo(p,h),u.moveTo(_,h),u.lineTo(_,h+A),u.moveTo(b,h),u.lineTo(b,h-A))}),e?null:u.toString()};return s.context=(...c)=>c.length?(e=c[0],s):e,s.x=(...c)=>c.length?(t=ot(c[0]),s):t,s.open=(...c)=>c.length?(n=ot(c[0]),s):n,s.high=(...c)=>c.length?(r=ot(c[0]),s):r,s.low=(...c)=>c.length?(i=ot(c[0]),s):i,s.close=(...c)=>c.length?(a=ot(c[0]),s):a,s.width=(...c)=>c.length?(l=ot(c[0]),s):l,s.orient=(...c)=>c.length?(o=c[0],s):o,s},Wh=()=>{let e=null,t=s=>s.x,n=s=>s.y,r="center",i="center",a=s=>s.height,o=ot(3);const l=function(s,c){const u=e||Mo();return s.forEach(function(d,f){const h=t.call(this,d,c||f),_=n.call(this,d,c||f),p=a.call(this,d,c||f),x=o.call(this,d,c||f);let b;switch(r){case"left":b=x;break;case"right":b=0;break;case"center":b=x/2;break;default:throw new Error("Invalid horizontal alignment "+r)}let A;switch(i){case"bottom":A=-p;break;case"top":A=0;break;case"center":A=p/2;break;default:throw new Error("Invalid vertical alignment "+i)}u.rect(h-b,_-A,x,p)},this),e?null:u.toString()};return l.context=(...s)=>s.length?(e=s[0],l):e,l.x=(...s)=>s.length?(t=ot(s[0]),l):t,l.y=(...s)=>s.length?(n=ot(s[0]),l):n,l.width=(...s)=>s.length?(o=ot(s[0]),l):o,l.horizontalAlign=(...s)=>s.length?(r=s[0],l):r,l.height=(...s)=>s.length?(a=ot(s[0]),l):a,l.verticalAlign=(...s)=>s.length?(i=s[0],l):i,l},Hv=()=>{let e=null,t=s=>s.date,n=s=>s.open,r=s=>s.high,i=s=>s.low,a=s=>s.close,o=ot(3);const l=function(s){const c=e||Mo();return s.forEach(function(u,d){const f=t(u,d),h=n(u,d),_=r(u,d),p=i(u,d),x=a(u,d),b=o(u,d),A=b/2;c.rect(f-A,h,b,x-h),c.moveTo(f,Math.min(x,h)),c.lineTo(f,_),c.moveTo(f,Math.max(x,h)),c.lineTo(f,p)}),e?null:c.toString()};return l.context=(...s)=>s.length?(e=s[0],l):e,l.x=(...s)=>s.length?(t=ot(s[0]),l):t,l.open=(...s)=>s.length?(n=ot(s[0]),l):n,l.high=(...s)=>s.length?(r=ot(s[0]),l):r,l.low=(...s)=>s.length?(i=ot(s[0]),l):i,l.close=(...s)=>s.length?(a=ot(s[0]),l):a,l.width=(...s)=>s.length?(o=ot(s[0]),l):o,l};var as="http://www.w3.org/1999/xhtml";const hf={svg:"http://www.w3.org/2000/svg",xhtml:as,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Eo(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),hf.hasOwnProperty(t)?{space:hf[t],local:e}:e}function Yv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===as&&t.documentElement.namespaceURI===as?t.createElement(e):t.createElementNS(n,e)}}function Xv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qh(e){var t=Eo(e);return(t.local?Xv:Yv)(t)}function Gv(){}function Ws(e){return e==null?Gv:function(){return this.querySelector(e)}}function Qv(e){typeof e!="function"&&(e=Ws(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=new Array(o),s,c,u=0;u<o;++u)(s=a[u])&&(c=e.call(s,s.__data__,u,a))&&("__data__"in s&&(c.__data__=s.__data__),l[u]=c);return new xt(r,this._parents)}function Bh(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Kv(){return[]}function Hh(e){return e==null?Kv:function(){return this.querySelectorAll(e)}}function Jv(e){return function(){return Bh(e.apply(this,arguments))}}function Zv(e){typeof e=="function"?e=Jv(e):e=Hh(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],l=o.length,s,c=0;c<l;++c)(s=o[c])&&(r.push(e.call(s,s.__data__,c,o)),i.push(s));return new xt(r,i)}function Yh(e){return function(){return this.matches(e)}}function Xh(e){return function(t){return t.matches(e)}}var e2=Array.prototype.find;function t2(e){return function(){return e2.call(this.children,e)}}function n2(){return this.firstElementChild}function r2(e){return this.select(e==null?n2:t2(typeof e=="function"?e:Xh(e)))}var i2=Array.prototype.filter;function a2(){return Array.from(this.children)}function o2(e){return function(){return i2.call(this.children,e)}}function l2(e){return this.selectAll(e==null?a2:o2(typeof e=="function"?e:Xh(e)))}function s2(e){typeof e!="function"&&(e=Yh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,c=0;c<o;++c)(s=a[c])&&e.call(s,s.__data__,c,a)&&l.push(s);return new xt(r,this._parents)}function Gh(e){return new Array(e.length)}function c2(){return new xt(this._enter||this._groups.map(Gh),this._parents)}function to(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}to.prototype={constructor:to,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function u2(e){return function(){return e}}function f2(e,t,n,r,i,a){for(var o=0,l,s=t.length,c=a.length;o<c;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new to(e,a[o]);for(;o<s;++o)(l=t[o])&&(i[o]=l)}function d2(e,t,n,r,i,a,o){var l,s,c=new Map,u=t.length,d=a.length,f=new Array(u),h;for(l=0;l<u;++l)(s=t[l])&&(f[l]=h=o.call(s,s.__data__,l,t)+"",c.has(h)?i[l]=s:c.set(h,s));for(l=0;l<d;++l)h=o.call(e,a[l],l,a)+"",(s=c.get(h))?(r[l]=s,s.__data__=a[l],c.delete(h)):n[l]=new to(e,a[l]);for(l=0;l<u;++l)(s=t[l])&&c.get(f[l])===s&&(i[l]=s)}function h2(e){return e.__data__}function _2(e,t){if(!arguments.length)return Array.from(this,h2);var n=t?d2:f2,r=this._parents,i=this._groups;typeof e!="function"&&(e=u2(e));for(var a=i.length,o=new Array(a),l=new Array(a),s=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],f=d.length,h=g2(e.call(u,u&&u.__data__,c,r)),_=h.length,p=l[c]=new Array(_),x=o[c]=new Array(_),b=s[c]=new Array(f);n(u,d,p,x,b,h,t);for(var A=0,$=0,S,w;A<_;++A)if(S=p[A]){for(A>=$&&($=A+1);!(w=x[$])&&++$<_;);S._next=w||null}}return o=new xt(o,r),o._enter=l,o._exit=s,o}function g2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function p2(){return new xt(this._exit||this._groups.map(Gh),this._parents)}function b2(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function m2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),s=0;s<o;++s)for(var c=n[s],u=r[s],d=c.length,f=l[s]=new Array(d),h,_=0;_<d;++_)(h=c[_]||u[_])&&(f[_]=h);for(;s<i;++s)l[s]=n[s];return new xt(l,this._parents)}function w2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function y2(e){e||(e=v2);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,s=i[a]=new Array(l),c,u=0;u<l;++u)(c=o[u])&&(s[u]=c);s.sort(t)}return new xt(i,this._parents).order()}function v2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function x2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function k2(){return Array.from(this)}function S2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function M2(){let e=0;for(const t of this)++e;return e}function E2(){return!this.node()}function A2(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function $2(e){return function(){this.removeAttribute(e)}}function T2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function C2(e,t){return function(){this.setAttribute(e,t)}}function N2(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function O2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function L2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function z2(e,t){var n=Eo(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?T2:$2:typeof t=="function"?n.local?L2:O2:n.local?N2:C2)(n,t))}function Qh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function R2(e){return function(){this.style.removeProperty(e)}}function V2(e,t,n){return function(){this.style.setProperty(e,t,n)}}function D2(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function I2(e,t,n){return arguments.length>1?this.each((t==null?R2:typeof t=="function"?D2:V2)(e,t,n??"")):$r(this.node(),e)}function $r(e,t){return e.style.getPropertyValue(t)||Qh(e).getComputedStyle(e,null).getPropertyValue(t)}function P2(e){return function(){delete this[e]}}function F2(e,t){return function(){this[e]=t}}function U2(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function j2(e,t){return arguments.length>1?this.each((t==null?P2:typeof t=="function"?U2:F2)(e,t)):this.node()[e]}function Kh(e){return e.trim().split(/^|\s+/)}function qs(e){return e.classList||new Jh(e)}function Jh(e){this._node=e,this._names=Kh(e.getAttribute("class")||"")}Jh.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Zh(e,t){for(var n=qs(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function e_(e,t){for(var n=qs(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function W2(e){return function(){Zh(this,e)}}function q2(e){return function(){e_(this,e)}}function B2(e,t){return function(){(t.apply(this,arguments)?Zh:e_)(this,e)}}function H2(e,t){var n=Kh(e+"");if(arguments.length<2){for(var r=qs(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?B2:t?W2:q2)(n,t))}function Y2(){this.textContent=""}function X2(e){return function(){this.textContent=e}}function G2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Q2(e){return arguments.length?this.each(e==null?Y2:(typeof e=="function"?G2:X2)(e)):this.node().textContent}function K2(){this.innerHTML=""}function J2(e){return function(){this.innerHTML=e}}function Z2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ex(e){return arguments.length?this.each(e==null?K2:(typeof e=="function"?Z2:J2)(e)):this.node().innerHTML}function tx(){this.nextSibling&&this.parentNode.appendChild(this)}function nx(){return this.each(tx)}function rx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ix(){return this.each(rx)}function ax(e){var t=typeof e=="function"?e:qh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ox(){return null}function lx(e,t){var n=typeof e=="function"?e:qh(e),r=t==null?ox:typeof t=="function"?t:Ws(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function sx(){var e=this.parentNode;e&&e.removeChild(this)}function cx(){return this.each(sx)}function ux(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fx(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dx(e){return this.select(e?fx:ux)}function hx(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _x(e){return function(t){e.call(this,t,this.__data__)}}function gx(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function px(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function bx(e,t,n){return function(){var r=this.__on,i,a=_x(t);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function mx(e,t,n){var r=gx(e+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,c=l.length,u;s<c;++s)for(i=0,u=l[s];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(l=t?bx:px,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function t_(e,t,n){var r=Qh(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function wx(e,t){return function(){return t_(this,e,t)}}function yx(e,t){return function(){return t_(this,e,t.apply(this,arguments))}}function vx(e,t){return this.each((typeof t=="function"?yx:wx)(e,t))}function*xx(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Bs=[null];function xt(e,t){this._groups=e,this._parents=t}function zr(){return new xt([[document.documentElement]],Bs)}function kx(){return this}xt.prototype=zr.prototype={constructor:xt,select:Qv,selectAll:Zv,selectChild:r2,selectChildren:l2,filter:s2,data:_2,enter:c2,exit:p2,join:b2,merge:m2,selection:kx,order:w2,sort:y2,call:x2,nodes:k2,node:S2,size:M2,empty:E2,each:A2,attr:z2,style:I2,property:j2,classed:H2,text:Q2,html:ex,raise:nx,lower:ix,append:ax,insert:lx,remove:cx,clone:dx,datum:hx,on:mx,dispatch:vx,[Symbol.iterator]:xx};function ue(e){return typeof e=="string"?new xt([[document.querySelector(e)]],[document.documentElement]):new xt([[e]],Bs)}function Sx(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Zt(e,t){if(e=Sx(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Mx(e){return typeof e=="string"?new xt([document.querySelectorAll(e)],[document.documentElement]):new xt([Bh(e)],Bs)}const _f=1e-6,sn=e=>e.selection()!==e,Qe=(e,t)=>{e=e||"g";let n=(a,o)=>o,r=null;const i=function(a,o){o=o||(_=>_);const l=a.selection(),s=sn(a)?a:null;let u=l.selectChildren(t==null?e:`${e}.${t}`).data(o,n);const d=u.enter().append(e).attr("class",t);let f=u.exit();u=u.merge(d);const h=s||r;return h&&(u=u.transition(h).style("opacity",1),d.style("opacity",_f),f=f.transition(h).style("opacity",_f)),f.remove(),u.enter=()=>d,u.exit=()=>f,u};return i.element=(...a)=>a.length?(e=a[0],i):e,i.className=(...a)=>a.length?(t=a[0],i):t,i.key=(...a)=>a.length?(n=a[0],i):n,i.transition=(...a)=>a.length?(r=a[0],i):r,i};function Be(e){return function(){return e}}const gf=Math.abs,bt=Math.atan2,fn=Math.cos,Ex=Math.max,Al=Math.min,Et=Math.sin,_t=Math.sqrt,St=1e-12,zn=Math.PI,no=zn/2,aa=2*zn;function Ax(e){return e>1?0:e<-1?zn:Math.acos(e)}function pf(e){return e>=1?no:e<=-1?-no:Math.asin(e)}function Ao(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new js(t)}function $x(e){return e.innerRadius}function Tx(e){return e.outerRadius}function Cx(e){return e.startAngle}function Nx(e){return e.endAngle}function Ox(e){return e&&e.padAngle}function Lx(e,t,n,r,i,a,o,l){var s=n-e,c=r-t,u=o-i,d=l-a,f=d*s-u*c;if(!(f*f<St))return f=(u*(t-a)-d*(e-i))/f,[e+f*s,t+f*c]}function Ma(e,t,n,r,i,a,o){var l=e-n,s=t-r,c=(o?a:-a)/_t(l*l+s*s),u=c*s,d=-c*l,f=e+u,h=t+d,_=n+u,p=r+d,x=(f+_)/2,b=(h+p)/2,A=_-f,$=p-h,S=A*A+$*$,w=i-a,k=f*p-_*h,I=($<0?-1:1)*_t(Ex(0,w*w*S-k*k)),L=(k*$-A*I)/S,G=(-k*A-$*I)/S,F=(k*$+A*I)/S,D=(-k*A+$*I)/S,Z=L-x,W=G-b,O=F-x,H=D-b;return Z*Z+W*W>O*O+H*H&&(L=F,G=D),{cx:L,cy:G,x01:-u,y01:-d,x11:L*(i/w-1),y11:G*(i/w-1)}}function zx(){var e=$x,t=Tx,n=Be(0),r=null,i=Cx,a=Nx,o=Ox,l=null,s=Ao(c);function c(){var u,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),_=i.apply(this,arguments)-no,p=a.apply(this,arguments)-no,x=gf(p-_),b=p>_;if(l||(l=u=s()),h<f&&(d=h,h=f,f=d),!(h>St))l.moveTo(0,0);else if(x>aa-St)l.moveTo(h*fn(_),h*Et(_)),l.arc(0,0,h,_,p,!b),f>St&&(l.moveTo(f*fn(p),f*Et(p)),l.arc(0,0,f,p,_,b));else{var A=_,$=p,S=_,w=p,k=x,I=x,L=o.apply(this,arguments)/2,G=L>St&&(r?+r.apply(this,arguments):_t(f*f+h*h)),F=Al(gf(h-f)/2,+n.apply(this,arguments)),D=F,Z=F,W,O;if(G>St){var H=pf(G/f*Et(L)),z=pf(G/h*Et(L));(k-=H*2)>St?(H*=b?1:-1,S+=H,w-=H):(k=0,S=w=(_+p)/2),(I-=z*2)>St?(z*=b?1:-1,A+=z,$-=z):(I=0,A=$=(_+p)/2)}var Q=h*fn(A),V=h*Et(A),q=f*fn(w),U=f*Et(w);if(F>St){var ae=h*fn($),fe=h*Et($),j=f*fn(S),K=f*Et(S),ce;if(x<zn)if(ce=Lx(Q,V,j,K,ae,fe,q,U)){var ke=Q-ce[0],Ae=V-ce[1],Pe=ae-ce[0],le=fe-ce[1],Se=1/Et(Ax((ke*Pe+Ae*le)/(_t(ke*ke+Ae*Ae)*_t(Pe*Pe+le*le)))/2),Te=_t(ce[0]*ce[0]+ce[1]*ce[1]);D=Al(F,(f-Te)/(Se-1)),Z=Al(F,(h-Te)/(Se+1))}else D=Z=0}I>St?Z>St?(W=Ma(j,K,Q,V,h,Z,b),O=Ma(ae,fe,q,U,h,Z,b),l.moveTo(W.cx+W.x01,W.cy+W.y01),Z<F?l.arc(W.cx,W.cy,Z,bt(W.y01,W.x01),bt(O.y01,O.x01),!b):(l.arc(W.cx,W.cy,Z,bt(W.y01,W.x01),bt(W.y11,W.x11),!b),l.arc(0,0,h,bt(W.cy+W.y11,W.cx+W.x11),bt(O.cy+O.y11,O.cx+O.x11),!b),l.arc(O.cx,O.cy,Z,bt(O.y11,O.x11),bt(O.y01,O.x01),!b))):(l.moveTo(Q,V),l.arc(0,0,h,A,$,!b)):l.moveTo(Q,V),!(f>St)||!(k>St)?l.lineTo(q,U):D>St?(W=Ma(q,U,ae,fe,f,-D,b),O=Ma(Q,V,j,K,f,-D,b),l.lineTo(W.cx+W.x01,W.cy+W.y01),D<F?l.arc(W.cx,W.cy,D,bt(W.y01,W.x01),bt(O.y01,O.x01),!b):(l.arc(W.cx,W.cy,D,bt(W.y01,W.x01),bt(W.y11,W.x11),!b),l.arc(0,0,f,bt(W.cy+W.y11,W.cx+W.x11),bt(O.cy+O.y11,O.cx+O.x11),b),l.arc(O.cx,O.cy,D,bt(O.y11,O.x11),bt(O.y01,O.x01),!b))):l.arc(0,0,f,w,S,b)}if(l.closePath(),u)return l=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-zn/2;return[fn(d)*u,Et(d)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Be(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Be(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Be(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Be(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Be(+u),c):i},c.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:Be(+u),c):a},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Be(+u),c):o},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function n_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function r_(e){this._context=e}r_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function i_(e){return new r_(e)}function a_(e){return e[0]}function o_(e){return e[1]}function Rr(e,t){var n=Be(!0),r=null,i=i_,a=null,o=Ao(l);e=typeof e=="function"?e:e===void 0?a_:Be(e),t=typeof t=="function"?t:t===void 0?o_:Be(t);function l(s){var c,u=(s=n_(s)).length,d,f=!1,h;for(r==null&&(a=i(h=o())),c=0;c<=u;++c)!(c<u&&n(d=s[c],c,s))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,c,s),+t(d,c,s));if(h)return a=null,h+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Be(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Be(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Be(!!s),l):n},l.curve=function(s){return arguments.length?(i=s,r!=null&&(a=i(r)),l):i},l.context=function(s){return arguments.length?(s==null?r=a=null:a=i(r=s),l):r},l}function l_(e,t,n){var r=null,i=Be(!0),a=null,o=i_,l=null,s=Ao(c);e=typeof e=="function"?e:e===void 0?a_:Be(+e),t=typeof t=="function"?t:Be(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?o_:Be(+n);function c(d){var f,h,_,p=(d=n_(d)).length,x,b=!1,A,$=new Array(p),S=new Array(p);for(a==null&&(l=o(A=s())),f=0;f<=p;++f){if(!(f<p&&i(x=d[f],f,d))===b)if(b=!b)h=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=f-1;_>=h;--_)l.point($[_],S[_]);l.lineEnd(),l.areaEnd()}b&&($[f]=+e(x,f,d),S[f]=+t(x,f,d),l.point(r?+r(x,f,d):$[f],n?+n(x,f,d):S[f]))}if(A)return l=null,A+""||null}function u(){return Rr().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Be(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Be(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Be(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(l=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=l=null:l=o(a=d),c):a},c}const $o={draw(e,t){const n=_t(t/zn);e.moveTo(n,0),e.arc(0,0,n,0,aa)}},s_={draw(e,t){const n=_t(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},c_=_t(1/3),Rx=c_*2,u_={draw(e,t){const n=_t(t/Rx),r=n*c_;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},f_={draw(e,t){const n=_t(t),r=-n/2;e.rect(r,r,n,n)}},Vx=.8908130915292852,d_=Et(zn/10)/Et(7*zn/10),Dx=Et(aa/10)*d_,Ix=-fn(aa/10)*d_,h_={draw(e,t){const n=_t(t*Vx),r=Dx*n,i=Ix*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=aa*a/5,l=fn(o),s=Et(o);e.lineTo(s*n,-l*n),e.lineTo(l*r-s*i,s*r+l*i)}e.closePath()}},$l=_t(3),__={draw(e,t){const n=-_t(t/($l*3));e.moveTo(0,n*2),e.lineTo(-$l*n,-n),e.lineTo($l*n,-n),e.closePath()}},Lt=-.5,zt=_t(3)/2,os=1/_t(12),Px=(os/2+1)*3,g_={draw(e,t){const n=_t(t/Px),r=n/2,i=n*os,a=r,o=n*os+n,l=-a,s=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(l,s),e.lineTo(Lt*r-zt*i,zt*r+Lt*i),e.lineTo(Lt*a-zt*o,zt*a+Lt*o),e.lineTo(Lt*l-zt*s,zt*l+Lt*s),e.lineTo(Lt*r+zt*i,Lt*i-zt*r),e.lineTo(Lt*a+zt*o,Lt*o-zt*a),e.lineTo(Lt*l+zt*s,Lt*s-zt*l),e.closePath()}};function Hs(e,t){let n=null,r=Ao(i);e=typeof e=="function"?e:Be(e||$o),t=typeof t=="function"?t:Be(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Be(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Be(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}const Ht=e=>typeof e=="function"?e:()=>e;function Ys(){const e=arguments;return function(t,n){for(let r=0,i=e.length;r<i;r++)if(e[r](t,n)==null)return!1;return!0}}const Xs=(e,t)=>{switch(e){case"left":return t/2;case"right":return-t/2;default:return 0}},oa=e=>{const t=Object.assign({},e),n=()=>{};return Object.keys(t).forEach(r=>{n[r]=(...i)=>i.length?(t[r]=i[0],n):t[r]}),n},lr=()=>{let e=()=>0,t=l=>l.x,n=l=>l.y,r="center",i=()=>5,a="vertical";const o=oa({decorate:()=>{},defined:(l,s)=>Ys(e,t,n)(l,s),xScale:Ct(),yScale:Ct()});return o.values=(l,s)=>{const c=i(l,s),u=Xs(r,c),d=o.xScale(),f=o.yScale();if(a==="vertical"){const h=f(n(l,s),s),_=f(e(l,s),s),p=d(t(l,s),s)+u;return{d:l,x:p,y:h,y0:_,width:c,height:h-_,origin:[p,h],baseOrigin:[p,_],transposedX:p,transposedY:h}}else{const h=d(n(l,s),s),_=d(e(l,s),s),p=f(t(l,s),s)+u;return{d:l,x:p,y:h,y0:_,width:c,height:h-_,origin:[h,p],baseOrigin:[_,p],transposedX:h,transposedY:p}}},o.xValues=()=>a==="vertical"?[t]:[e,n],o.yValues=()=>a!=="vertical"?[t]:[e,n],o.baseValue=(...l)=>l.length?(e=Ht(l[0]),o):e,o.crossValue=(...l)=>l.length?(t=Ht(l[0]),o):t,o.mainValue=(...l)=>l.length?(n=Ht(l[0]),o):n,o.bandwidth=(...l)=>l.length?(i=Ht(l[0]),o):i,o.align=(...l)=>l.length?(r=l[0],o):r,o.orient=(...l)=>l.length?(a=l[0],o):a,o},Fx="#c60",Ux="#6c0",jx="#000",Wx="#ddd",qx="#999",Yt={red:Fx,green:Ux,black:jx,gray:Wx,darkGray:qx},p_=()=>{const e=lr(),t=Rr().x((i,a)=>e.values(i,a).transposedX).y((i,a)=>e.values(i,a).transposedY),n=Qe("path","line"),r=i=>{sn(i)&&n.transition(i),t.defined(e.defined()),i.each((a,o,l)=>{const s=n(ue(l[o]),[a]);s.enter().attr("fill","none").attr("stroke",Yt.black),s.attr("d",t),e.decorate()(s,a,o)})};return ze(r,e,Ft("baseValue","bandwidth","align")),wt(r,n,"key"),wt(r,t,"curve"),r},Bx=()=>{const e=lr(),t=Rr().x((r,i)=>e.values(r,i).transposedX).y((r,i)=>e.values(r,i).transposedY),n=r=>{const i=t.context();i.beginPath(),i.strokeStyle=Yt.black,i.fillStyle="transparent",e.decorate()(i,r),t.defined(e.defined())(r),i.fill(),i.stroke(),i.closePath()};return ze(n,e,Ft("baseValue","bandwidth","align")),wt(n,t,"curve","context"),n};Ln().copy.toString();Ch().copy.toString();Nh().copy.toString();Ph().copy.toString();Ct();const b_=()=>{const e=Hs(),t=lr(),n=Qe("g","point"),r=a=>"translate("+a[0]+", "+a[1]+")",i=a=>{sn(a)&&n.transition(a),a.each((o,l,s)=>{const c=o.filter(t.defined()),u=n(ue(s[l]),c);u.enter().attr("transform",(d,f)=>r(t.values(d,f).origin)).attr("fill",Yt.gray).attr("stroke",Yt.black).append("path"),u.attr("transform",(d,f)=>r(t.values(d,f).origin)).select("path").attr("d",e),t.decorate()(u,o,l)})};return ze(i,t,Ft("baseValue","bandwidth","align")),wt(i,n,"key"),wt(i,e,"type","size"),i},Hx=()=>{const e=Hs(),t=lr(),n=r=>{const i=r.filter(t.defined()),a=e.context();i.forEach((o,l)=>{a.save();const s=t.values(o,l);a.translate(s.origin[0],s.origin[1]),a.beginPath(),a.strokeStyle=Yt.black,a.fillStyle=Yt.gray,t.decorate()(a,o,l),e(o,l),a.fill(),a.stroke(),a.closePath(),a.restore()})};return ze(n,t,Ft("baseValue","bandwidth","align")),wt(n,e,"size","type","context"),n},ls=()=>{const e=Wh().x(0).y(0),t=lr(),n=Qe("g","bar"),r=l=>t.orient()==="vertical"?l.height:l.width,i=l=>t.orient()==="vertical"?l.width:l.height,a=l=>"translate("+l[0]+", "+l[1]+")",o=l=>{sn(l)&&n.transition(l),l.each((s,c,u)=>{const d=t.orient();if(d!=="vertical"&&d!=="horizontal")throw new Error("The bar series does not support an orientation of "+d);const f=s.filter(t.defined()),h=f.map(t.values);e.width(0).height(0),t.orient()==="vertical"?(e.verticalAlign("top"),e.horizontalAlign("center")):(e.horizontalAlign("right"),e.verticalAlign("center"));const _=n(ue(u[c]),f);_.enter().attr("transform",(p,x)=>a(h[x].baseOrigin)).attr("class","bar "+t.orient()).attr("fill",Yt.darkGray).append("path").attr("d",(p,x)=>(i(e)(h[x].width),e([p]))),_.attr("transform",(p,x)=>a(h[x].origin)).select("path").attr("d",(p,x)=>(i(e)(h[x].width),r(e)(-h[x].height),e([p]))),t.decorate()(_,f,c)})};return ze(o,t),wt(o,n,"key"),o},Yx=()=>{const e=lr(),t=l_(),n=Qe("path","area"),r=i=>{sn(i)&&n.transition(i),t.defined(e.defined()),i.each((a,o,l)=>{const s=a.map(e.values);t.x((d,f)=>s[f].transposedX).y((d,f)=>s[f].transposedY);const c=e.orient()==="vertical"?"y":"x";t[c+"0"]((d,f)=>s[f].y0),t[c+"1"]((d,f)=>s[f].y);const u=n(ue(l[o]),[a]);u.enter().attr("fill",Yt.gray),u.attr("d",t),e.decorate()(u,a,o)})};return ze(r,e,Ft("bandwidth","align")),wt(r,n,"key"),wt(r,t,"curve"),r},Xx=()=>{const e=lr(),t=l_(),n=r=>{const i=t.context();t.defined(e.defined());const a=r.map(e.values);t.x((l,s)=>a[s].transposedX).y((l,s)=>a[s].transposedY);const o=e.orient()==="vertical"?"y":"x";t[o+"0"]((l,s)=>a[s].y0),t[o+"1"]((l,s)=>a[s].y),i.beginPath(),i.fillStyle=Yt.gray,i.strokeStyle="transparent",e.decorate()(i,r),t(r),i.fill(),i.stroke(),i.closePath()};return ze(n,e,Ft("bandwidth","align")),wt(n,t,"curve","context"),n},Gx=()=>{let e,t=c=>c.date,n=c=>c.open,r=c=>c.high,i=c=>c.low,a=c=>c.close,o=()=>5,l="center",s=(c,u)=>e.xScale()(t(c,u));return e=oa({decorate:()=>{},defined:(c,u)=>Ys(t,n,i,r,a)(c,u),xScale:Ct(),yScale:Ct()}),e.values=(c,u)=>{const d=a(c,u),f=n(c,u),h=o(c,u),_=Xs(l,h);let p="";return d>f?p="up":d<f&&(p="down"),{cross:s(c,u)+_,open:e.yScale()(f),high:e.yScale()(r(c,u)),low:e.yScale()(i(c,u)),close:e.yScale()(d),width:h,direction:p}},e.xValues=()=>[t],e.yValues=()=>[n,r,i,a],e.crossValue=(...c)=>c.length?(t=c[0],e):t,e.openValue=(...c)=>c.length?(n=c[0],e):n,e.highValue=(...c)=>c.length?(r=c[0],e):r,e.lowValue=(...c)=>c.length?(i=c[0],e):i,e.yValue=e.closeValue=(...c)=>c.length?(a=c[0],e):a,e.bandwidth=(...c)=>c.length?(o=Ht(c[0]),e):o,e.align=(...c)=>c.length?(l=c[0],e):l,e},m_=e=>{const t=Gx(),n=r=>{const i=r.filter(t.defined()),a=e.context();i.forEach((o,l)=>{a.save();const s=t.values(o,l);a.translate(s.cross,s.high),a.beginPath(),e.x(0).open(()=>s.open-s.high).width(s.width).high(0).low(()=>s.low-s.high).close(()=>s.close-s.high)([o]);const c=s.direction==="up"?Yt.green:Yt.red;a.strokeStyle=c,a.fillStyle=c,t.decorate()(a,o,l),a.fill(),a.stroke(),a.closePath(),a.restore()})};return wt(n,e,"context"),ze(n,t),n},Qx=()=>m_(Hv()),Kx=()=>m_(Bv()),w_=()=>{let e=[],t=i=>i,n=(i,a)=>a;const r=oa({decorate:()=>{},xScale:Ct(),yScale:Ct()});return r.xValues=()=>e.map(i=>i.xValues()).reduce((i,a)=>i.concat(a)),r.yValues=()=>e.map(i=>i.yValues()).reduce((i,a)=>i.concat(a)),r.mapping=(...i)=>i.length?(t=i[0],r):t,r.key=(...i)=>i.length?(n=i[0],r):n,r.series=(...i)=>i.length?(e=i[0],r):e,r},Vr=()=>{const e=w_(),t=Qe("g"),n=Qe("g","multi"),r=i=>{sn(i)&&(n.transition(i),t.transition(i));const a=e.mapping(),o=e.series(),l=e.xScale(),s=e.yScale();i.each((c,u,d)=>{const f=n(ue(d[u]),o);f.each((h,_,p)=>{h.xScale(l).yScale(s);const x=a(c,_,o);t(ue(p[_]),[x]).call(h)}),f.selection().order(),e.decorate()(f,c,u)})};return ze(r,e),wt(r,n,"key"),r},To=()=>{let e=null;const t=w_(),n=r=>{const i=t.mapping(),a=t.series(),o=t.xScale(),l=t.yScale();a.forEach((s,c)=>{const u=i(r,c,a);s.context(e).xScale(o).yScale(l);let d;s.decorate?(d=s.decorate(),s.decorate((f,h,_)=>{t.decorate()(f,r,c),d(f,h,_)})):t.decorate()(e,r,c),s(u),d&&s.decorate(d)})};return n.context=(...r)=>r.length?(e=r[0],n):e,ze(n,t),n},Jx=e=>{let t=()=>50,n="center";const r=na(),i=oa({decorate:()=>{},xScale:Ln(),yScale:Ln()});return i.offsetScaleForDatum=(a,o,l)=>{const s=t(o,l),c=Xs(n,s),u=s/2;return r.domain(Os(0,a.length)).range([-u+c,u+c])},i.bandwidth=(...a)=>a.length?(t=Ht(a[0]),i):t,i.align=(...a)=>a.length?(n=a[0],i):n,ze(i,r,Ya({paddingInner:"paddingOuter"})),i},Zx=e=>{const t=Jx(),n=Qe("g","grouped"),r=i=>{sn(i)&&n.transition(i),i.each((a,o,l)=>{const s=n(ue(l[o]),a);s.enter().append("g"),s.select("g").each((c,u,d)=>{const f=ue(d[u]),h=e.orient()!=="horizontal",_=(p,x)=>{const b=t.offsetScaleForDatum(a,p,x);return(h?t.xScale():t.yScale())(p)+b(u)+b.bandwidth()/2};h?(e.xScale(_),e.yScale(t.yScale())):(e.yScale(_),e.xScale(t.xScale())),e.bandwidth&&e.bandwidth((p,x)=>t.offsetScaleForDatum(a,p,x).bandwidth()),e.decorate((p,x)=>t.decorate()(p,x,u)),f.call(e)})})};return ze(r,e,Ft("decorate","xScale","yScale")),ze(r,t,Ft("offsetScaleForDatum")),r},ro=()=>{let e="vertical",t=p_();const n=Vr(),r=i=>i.each((a,o,l)=>{e==="vertical"?n.series(a[0].map(s=>t)).mapping((s,c)=>s.map(u=>u[c])):n.series(a.map(s=>t)).mapping((s,c)=>s[c]),ue(l[o]).call(n)});return r.series=(...i)=>i.length?(t=i[0],r):t,r.orient=(...i)=>i.length?(e=i[0],r):e,ze(r,n,Ft("series","mapping")),r},e3=e=>e.sort(Ti).filter((t,n,r)=>r.indexOf(t,n+1)===-1),Gs=e=>{let t=.75;const n=a=>{if(a.length<=1)return 10;a=e3(a);const o=u1(a).map(s=>Math.abs(s[0]-s[1])),l=On(o);return t*l},r=(a,o,l)=>{if(a.bandwidth)return a.bandwidth();{const c=(Array.isArray(o)?[].concat(...o):o).filter(e.defined()).map(l()).map(a);return n(c)}},i=a=>{const o=l=>{if(e.xBandwidth&&e.yBandwidth)e.xBandwidth(r(e.xScale(),l,e.xValue)),e.yBandwidth(r(e.yScale(),l,e.yValue));else{const s=e.orient&&e.orient()==="horizontal"?e.yScale():e.xScale();e.bandwidth(r(s,l,e.crossValue))}};a instanceof zr?a.each((l,s,c)=>{o(l),e(ue(c[s]))}):(o(a),e(a))};return ze(i,e),i.widthFraction=(...a)=>a.length?(t=a[0],i):t,i};function Co(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function No(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const t3=No(Co("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));No(Co("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));No(Co("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));No(Co("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const n3=()=>{let e=l=>l.x,t=l=>l.y,n=l=>l.color,r=()=>5,i=()=>5,a=t3;const o=oa({decorate:()=>{},defined:(l,s)=>Ys(e,t,n)(l,s),xScale:Ct(),yScale:Ct()});return o.pathGenerator=Wh().x(0).y(0),o.colorScale=l=>{const s=l.map(n);return Ln().domain([On(s),Jn(s)])},o.values=(l,s)=>({x:o.xScale()(e(l,s)),y:o.yScale()(t(l,s)),colorValue:n(l,s),width:i(l,s),height:r(l,s)}),o.xValues=()=>[e],o.yValues=()=>[t],o.xValue=(...l)=>l.length?(e=Ht(l[0]),o):e,o.yValue=(...l)=>l.length?(t=Ht(l[0]),o):t,o.colorValue=(...l)=>l.length?(n=Ht(l[0]),o):n,o.colorInterpolate=(...l)=>l.length?(a=l[0],o):a,o.xBandwidth=(...l)=>l.length?(i=Ht(l[0]),o):i,o.yBandwidth=(...l)=>l.length?(r=Ht(l[0]),o):r,ze(o,o.pathGenerator,Ya({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),o},r3=()=>{const e=n3(),t=n=>{const r=n.filter(e.defined()),i=e.colorInterpolate(),a=e.colorScale(r),o=e.pathGenerator.context();r.forEach((l,s)=>{o.save(),o.beginPath();const c=e.values(l,s);o.translate(c.x,c.y),o.fillStyle=i(a(c.colorValue)),o.strokeStyle="transparent",e.decorate()(o,l,s),e.pathGenerator.height(c.height).width(c.width)([l]),o.fill(),o.stroke(),o.closePath(),o.restore()})};return wt(t,e.pathGenerator,"context"),ze(t,e),t},io=()=>{let e=Ct(),t=[10],n=null;const r=()=>n??(e.ticks?e.ticks(...t):e.domain());return r.scale=(...i)=>i.length?(e=i[0],r):e,r.ticks=(...i)=>(t=i,r),r.tickArguments=(...i)=>i.length?(t=i[0],r):t,r.tickValues=(...i)=>i.length?(n=i[0],r):n,r},bf=e=>e,i3=()=>{let e=()=>{},t=()=>{};const n=io(),r=io(),i=Qe("line","gridline-y").key(bf),a=Qe("line","gridline-x").key(bf),o=l=>{sn(l)&&(i.transition(l),a.transition(l)),l.each((s,c,u)=>{const d=u[c],f=ue(u[c]),h=n.scale(),_=r.scale(),p=d.__x_scale__||h;d.__x_scale__=h.copy();const x=n(),b=i(f,x);b.enter().attr("x1",p).attr("x2",p).attr("y1",_.range()[0]).attr("y2",_.range()[1]).attr("stroke","#bbb"),b.attr("x1",h).attr("x2",h).attr("y1",_.range()[0]).attr("y2",_.range()[1]),b.exit().attr("x1",h).attr("x2",h),e(b,x,c);const A=d.__y_scale__||_;d.__y_scale__=_.copy();const $=r(),S=a(f,$);S.enter().attr("y1",A).attr("y2",A).attr("x1",h.range()[0]).attr("x2",h.range()[1]).attr("stroke","#bbb"),S.attr("y1",_).attr("y2",_).attr("x1",h.range()[0]).attr("x2",h.range()[1]),S.exit().attr("y1",_).attr("y2",_),t(S,$,c)})};return o.yDecorate=(...l)=>l.length?(t=l[0],o):t,o.xDecorate=(...l)=>l.length?(e=l[0],o):e,ze(o,i,Ya({key:"xKey"})),ze(o,a,Ya({key:"yKey"})),ze(o,n,Cn("x")),ze(o,r,Cn("y")),o},a3=()=>{let e=()=>{},t=()=>{};const n=io(),r=io(),i=Rr(),a=()=>{const o=i.context(),l=n.scale(),s=r.scale();n().forEach((c,u)=>{o.save(),o.beginPath(),o.strokeStyle="#bbb",o.fillStyle="transparent",e(o,c,u),i.context(o)(s.domain().map(d=>[l(c),s(d)])),o.fill(),o.stroke(),o.closePath(),o.restore()}),r().forEach((c,u)=>{o.save(),o.beginPath(),o.strokeStyle="#bbb",o.fillStyle="transparent",t(o,c,u),i.context(o)(l.domain().map(d=>[l(d),s(c)])),o.fill(),o.stroke(),o.closePath(),o.restore()})};return a.yDecorate=(...o)=>o.length?(t=o[0],a):t,a.xDecorate=(...o)=>o.length?(e=o[0],a):e,ze(a,n,Cn("x")),ze(a,r,Cn("y")),wt(a,i,"context"),a},o3=e=>e,y_=(e,t,n,r)=>e[t]?e[t].apply(e,n):r,l3=e=>e.tickValues()??y_(e.scale(),"ticks",e.tickArguments(),e.scale().domain()),s3=e=>e.tickFormat()??y_(e.scale(),"tickFormat",e.tickArguments(),o3),c3=e=>e,v_=(e,t,n={})=>{let r=[10],i=null,a=()=>{},o=null,l=6,s=6,c=3;const u=Rr(),d=Qe("g","tick").key(c3),f=Qe("path","domain"),h=()=>({offset:[0,s+c]}),_=()=>({path:[[0,0],[0,s]]}),p=n.labelOffset||h,x=n.tickPath||_,b=(k,I)=>{let L=0;return k.bandwidth&&(L=k.bandwidth()/2,k.round()&&(L=Math.round(L))),G=>I(k(G)+L,0)},A=(k,I)=>S()?`translate(${I}, ${k})`:`translate(${k}, ${I})`,$=k=>S()?k.map(I=>[I[1],I[0]]):k,S=()=>e==="left"||e==="right",w=k=>{sn(k)&&(d.transition(k),f.transition(k)),k.each((I,L,G)=>{const F=G[L],D=ue(F);F.__scale__||D.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e==="right"?"start":e==="left"?"end":"middle");const Z=F.__scale__||t;F.__scale__=t.copy();const W=l3(w),O=s3(w),H=e==="bottom"||e==="right"?1:-1,z=([j,K])=>[j,H*K],Q=t.range(),V=$([[Q[0],H*l],[Q[0],0],[Q[1],0],[Q[1],H*l]]),q=f(D,[I]);q.enter().attr("stroke","#000"),q.attr("d",u(V));const U=d(D,W),ae=W.map((j,K)=>p(j,K,W)),fe=W.map((j,K)=>x(j,K,W));U.enter().attr("transform",b(Z,A)).append("path").attr("stroke","#000"),U.enter().append("text").attr("transform",(j,K)=>A(...z(ae[K].offset))).attr("fill","#000"),U.exit().attr("transform",b(t,A)),U.select("path").attr("visibility",(j,K)=>fe[K].hidden&&"hidden").attr("d",(j,K)=>u($(fe[K].path.map(z)))),U.select("text").attr("visibility",(j,K)=>ae[K].hidden&&"hidden").attr("transform",(j,K)=>A(...z(ae[K].offset))).attr("dy",()=>{let j="0em";return S()?j="0.32em":e==="bottom"&&(j="0.71em"),j}).text(O),U.attr("transform",b(t,A)),a(U,I,L)})};return w.tickFormat=(...k)=>k.length?(o=k[0],w):o,w.tickSize=(...k)=>k.length?(s=l=Number(k[0]),w):s,w.tickSizeInner=(...k)=>k.length?(s=Number(k[0]),w):s,w.tickSizeOuter=(...k)=>k.length?(l=Number(k[0]),w):l,w.tickPadding=(...k)=>k.length?(c=k[0],w):c,w.decorate=(...k)=>k.length?(a=k[0],w):a,w.scale=(...k)=>k.length?(t=k[0],w):t,w.ticks=(...k)=>(r=[...k],w),w.tickArguments=(...k)=>k.length?(r=k[0]==null?[]:[...k[0]],w):r!==null?r.slice():null,w.tickValues=(...k)=>k.length?(i=k[0]==null?[]:[...k[0]],w):i!==null?i.slice():null,w.orient=()=>e,w},Oo=(e,t)=>{let n=!1;const i=v_(e,t,{labelOffset:(o,l,s)=>{let c=0,u=i.tickSizeInner()+i.tickPadding(),d=!1;if(n){const f=t(o),h=l<s.length-1?t(s[l+1]):t.range()[1];c=(h-f)/2,u=i.tickPadding(),d=l===s.length-1&&f===h}return{offset:[c,u],hidden:d}}}),a=o=>i(o);return a.tickCenterLabel=(...o)=>o.length?(n=o[0],a):n,ze(a,i),a},Qs=e=>Oo("top",e),Ks=e=>Oo("bottom",e),Js=e=>Oo("left",e),Lo=e=>Oo("right",e),zo=(e,t)=>{let n=null;const r=(s,c,u)=>{if(t.step)return t.step();const d=t(s);return c<u.length-1?t(u[c+1])/d:(t.range()[1]-d)*2},o=v_(e,t,{labelOffset:()=>({offset:[0,o.tickPadding()]}),tickPath:(s,c,u)=>{let d=0;return n?d=n(s,c):d=r(s,c,u)/2,{path:[[d,0],[d,o.tickSizeInner()]],hidden:c===u.length-1}}}),l=s=>{o(s)};return l.tickOffset=(...s)=>s.length?(n=s[0],l):n,ze(l,o),l},x_=e=>zo("top",e),k_=e=>zo("bottom",e),S_=e=>zo("left",e),M_=e=>zo("right",e),Zs="__d3fc-elements__",la=e=>e[Zs]||{},E_=(e,t)=>void(e[Zs]=t),u3=e=>delete e[Zs],f3=e=>e.tagName==="D3FC-GROUP"?[e,...e.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg")]:[e],d3=e=>{const{width:t,height:n}=la(e),r=e.useDevicePixelRatio&&window.devicePixelRatio!=null?window.devicePixelRatio:1,i=e.clientWidth*r,a=e.clientHeight*r,o=i!==t||a!==n,l=e.children[0];E_(e,{pixelRatio:r,width:i,height:a,resized:o,child:l})};if(typeof CustomEvent!="function")throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");const h3=e=>{const t=la(e),n=new CustomEvent("measure",{detail:t});e.dispatchEvent(n)},_3=e=>{const t=la(e),n=new CustomEvent("draw",{detail:t});e.dispatchEvent(n)},g3=e=>{const t=e.map(f3).reduce((n,r)=>n.concat(r));t.forEach(d3),t.forEach(h3),t.forEach(_3)},A_=e=>la(e.ownerDocument).queue||[],p3=(e,t)=>{let{requestId:n}=la(e.ownerDocument);n==null&&(n=requestAnimationFrame(()=>{const r=A_(e);g3(r),b3(e)})),E_(e.ownerDocument,{queue:t,requestId:n})},b3=e=>u3(e.ownerDocument),mf=(e,t)=>{let n=e;do if(n.parentNode===t)return!0;while(n=n.parentNode);return!1},ec=e=>{const t=A_(e);if(t.indexOf(e)>-1||t.some(a=>mf(e,a)))return;const i=t.filter(a=>!mf(a,e));i.push(e),p3(e,i)};if(typeof HTMLElement!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");const m3=e=>{e.__measureListener__==null&&(e.__measureListener__=t=>e.setMeasurements(t.detail),e.addEventListener("measure",e.__measureListener__))},w3=e=>{e.__measureListener__!=null&&(e.removeEventListener("measure",e.__measureListener__),e.__measureListener__=null)},$_=(e,t)=>class extends HTMLElement{static get observedAttributes(){return["use-device-pixel-ratio"]}attributeChangedCallback(n){switch(n){case"use-device-pixel-ratio":this.requestRedraw();break}}connectedCallback(){this.childNodes.length===0&&this.appendChild(e()),m3(this)}disconnectedCallback(){w3(this)}setMeasurements({width:n,height:r}){const{childNodes:[i,...a]}=this;if(a.length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");t(this,i,{width:n,height:r})}get useDevicePixelRatio(){return this.hasAttribute("use-device-pixel-ratio")&&this.getAttribute("use-device-pixel-ratio")!=="false"}set useDevicePixelRatio(n){n&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!n&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}requestRedraw(){ec(this)}};class y3 extends $_(()=>document.createElement("canvas"),(t,n,{width:r,height:i})=>{n.setAttribute("width",r),n.setAttribute("height",i),t.setWebglViewport&&n.getContext("webgl").viewport(0,0,r,i)}){get setWebglViewport(){return this.hasAttribute("set-webgl-viewport")&&this.getAttribute("set-webgl-viewport")!=="false"}set setWebglViewport(t){t&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!t&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}const Tl=e=>{e.autoResize?v3(e):T_(e)},v3=e=>{e.__autoResizeListener__==null&&(e.__autoResizeListener__=()=>ec(e),addEventListener("resize",e.__autoResizeListener__))},T_=e=>{e.__autoResizeListener__!=null&&(removeEventListener("resize",e.__autoResizeListener__),e.__autoResizeListener__=null)};class x3 extends HTMLElement{connectedCallback(){Tl(this)}disconnectedCallback(){T_(this)}requestRedraw(){ec(this)}get autoResize(){return this.hasAttribute("auto-resize")&&this.getAttribute("auto-resize")!=="false"}set autoResize(t){t&&!this.autoResize?this.setAttribute("auto-resize",""):!t&&this.autoResize&&this.removeAttribute("auto-resize"),Tl(this)}static get observedAttributes(){return["auto-resize"]}attributeChangedCallback(t){switch(t){case"auto-resize":Tl(this);break}}}const k3=$_(()=>document.createElementNS("http://www.w3.org/2000/svg","svg"),(e,t,{width:n,height:r})=>{t.setAttribute("viewBox",`0 0 ${n} ${r}`)}),wf="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",Ci=document.createElement("style");Ci.setAttribute("type","text/css");document.querySelector("head").appendChild(Ci);Ci.styleSheet?Ci.styleSheet.cssText+=wf:Ci.textContent+=wf;if(typeof customElements!="object"||typeof customElements.define!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");const ss=[],tc=(e,t)=>{customElements.get(e)?ss.push(e):customElements.define(e,t)};tc("d3fc-canvas",y3);tc("d3fc-group",x3);tc("d3fc-svg",k3);ss.length>0&&console.warn(`The d3fc components "${ss.join(", ")}" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.`);var S3={value:()=>{}};function sa(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Va(n)}function Va(e){this._=e}function M3(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Va.prototype=sa.prototype={constructor:Va,on:function(e,t){var n=this._,r=M3(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=E3(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=yf(n[i],e.name,t);else if(t==null)for(i in n)n[i]=yf(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Va(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function E3(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function yf(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=S3,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}const A3=()=>{const e=sa("point");function t(i){const a=Zt(i);e.call("point",this,[{x:a[0],y:a[1]}])}function n(){e.call("point",this,[])}const r=i=>{i.on("mouseenter.pointer",t).on("mousemove.pointer",t).on("mouseleave.pointer",n)};return wt(r,e,"on"),r},vf=(...e)=>{const t={},n=r=>{for(const i of Object.keys(t))r[i].apply(null,t[i]);return r};for(const r of e)n[r]=(...i)=>i.length?(t[r]=i,n):t[r];return n},xf=`d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}
d3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}
d3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}
d3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}
d3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}
d3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}`,Ni=document.createElement("style");Ni.setAttribute("type","text/css");document.querySelector("head").appendChild(Ni);Ni.styleSheet?Ni.styleSheet.cssText+=xf:Ni.textContent+=xf;const kt=e=>typeof e=="function"?e:()=>e,$3=(...e)=>{const{xScale:t,yScale:n,xAxis:r,yAxis:i}=T3(...e);let a=kt(""),o=kt(""),l=kt(""),s=kt(null),c=kt(null),u=kt("right"),d=kt("bottom"),f=null,h=null,_=null,p=!1,x=!0,b=vf("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),A=()=>{},$=vf("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),S=()=>{},w=()=>{};const k=Qe("d3fc-group","cartesian-chart"),I=Qe("d3fc-canvas","webgl-plot-area"),L=Qe("d3fc-canvas","canvas-plot-area"),G=Qe("d3fc-svg","svg-plot-area"),F=Qe("d3fc-svg","x-axis").key(V=>V),D=Qe("d3fc-svg","y-axis").key(V=>V),Z=Qe("div","chart-label"),W=Qe("div","x-label").key(V=>V),O=Qe("div","y-label").key(V=>V),H=V=>q=>sn(V)?q.transition(V):q,z=V=>{const q=H(V);V.each((U,ae,fe)=>{const j=k(ue(fe[ae]),[U]);j.enter().attr("auto-resize",""),Z(j,[d(U)]).attr("class",K=>K==="top"?"chart-label bottom-label":"chart-label top-label").style("margin-bottom",K=>K==="top"?0:"1em").style("margin-top",K=>K==="top"?"1em":0).text(a(U)),W(j,[d(U)]).attr("class",K=>`x-label ${K}-label`).text(o(U)),O(j,[u(U)]).attr("class",K=>`y-label ${K}-label`).text(l(U)),I(j,f?[U]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",x).on("draw",(K,ce)=>{const{child:ke,pixelRatio:Ae}=K.detail;f.context(p?null:ke.getContext("webgl")).pixelRatio(Ae).xScale(t).yScale(n),f(ce)}),j.select(".webgl-plot-area>canvas").on("webglcontextlost",K=>{console.warn("WebGLRenderingContext lost"),K.preventDefault(),p=!0,j.node().requestRedraw()}).on("webglcontextrestored",()=>{console.info("WebGLRenderingContext restored"),p=!1,j.node().requestRedraw()}),L(j,h?[U]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",x).on("draw",(K,ce)=>{const{child:ke,pixelRatio:Ae}=K.detail,Pe=ke.getContext("2d");Pe.save(),x&&Pe.scale(Ae,Ae),h.context(Pe).xScale(t).yScale(n),h(ce),Pe.restore()}),G(j,_?[U]:[]).classed("plot-area",!0).on("draw",(K,ce)=>{const{child:ke}=K.detail;_.xScale(t).yScale(n),q(ue(ke).datum(ce)).call(_)}),F(j,[d(U)]).attr("class",K=>`x-axis ${K}-axis`).style("height",s(U)).on("measure",(K,ce)=>{const{width:ke,height:Ae,child:Pe}=K.detail;ce==="top"&&ue(Pe).attr("viewBox",`0 ${-Ae} ${ke} ${Ae}`),t.range([0,ke])}).on("draw",(K,ce)=>{const{child:ke}=K.detail,Ae=ce==="top"?r.top(t):r.bottom(t);Ae.decorate(A),q(ue(ke).datum(ce)).call(b(Ae))}),D(j,[u(U)]).attr("class",K=>`y-axis ${K}-axis`).style("width",c(U)).on("measure",(K,ce)=>{const{width:ke,height:Ae,child:Pe}=K.detail;ce==="left"&&ue(Pe).attr("viewBox",`${-ke} 0 ${ke} ${Ae}`),n.range([Ae,0])}).on("draw",(K,ce)=>{const{child:ke}=K.detail,Ae=ce==="left"?i.left(n):i.right(n);Ae.decorate(S),q(ue(ke).datum(ce)).call($(Ae))}),j.each((K,ce,ke)=>ke[ce].requestRedraw()),w(j,U,ae)})},Q=Ft(/range\w*/,/tickFormat/);return ze(z,t,Q,Cn("x")),ze(z,n,Q,Cn("y")),ze(z,b,Cn("x")),ze(z,$,Cn("y")),z.xOrient=(...V)=>V.length?(d=kt(V[0]),z):d,z.yOrient=(...V)=>V.length?(u=kt(V[0]),z):u,z.xDecorate=(...V)=>V.length?(A=V[0],z):A,z.yDecorate=(...V)=>V.length?(S=V[0],z):S,z.chartLabel=(...V)=>V.length?(a=kt(V[0]),z):a,z.xLabel=(...V)=>V.length?(o=kt(V[0]),z):o,z.yLabel=(...V)=>V.length?(l=kt(V[0]),z):l,z.xAxisHeight=(...V)=>V.length?(s=kt(V[0]),z):s,z.yAxisWidth=(...V)=>V.length?(c=kt(V[0]),z):c,z.webglPlotArea=(...V)=>V.length?(f=V[0],z):f,z.canvasPlotArea=(...V)=>V.length?(h=V[0],z):h,z.svgPlotArea=(...V)=>V.length?(_=V[0],z):_,z.decorate=(...V)=>V.length?(w=V[0],z):w,z.useDevicePixelRatio=(...V)=>V.length?(x=V[0],z):x,z},T3=(...e)=>{const t={xScale:Ct(),yScale:Ct(),xAxis:{bottom:Ks,top:Qs},yAxis:{right:Lo,left:Js}};return e.length===1&&!e[0].domain&&!e[0].range?Object.assign(t,e[0]):Object.assign(t,{xScale:e[0]||t.xScale,yScale:e[1]||t.yScale})},C3={passive:!1},Bi={capture:!0,passive:!1};function Cl(e){e.stopImmediatePropagation()}function vr(e){e.preventDefault(),e.stopImmediatePropagation()}function C_(e){var t=e.document.documentElement,n=ue(e).on("dragstart.drag",vr,Bi);"onselectstart"in t?n.on("selectstart.drag",vr,Bi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function N_(e,t){var n=e.document.documentElement,r=ue(e).on("dragstart.drag",null);t&&(r.on("click.drag",vr,Bi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ea=e=>()=>e;function cs(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:l,dx:s,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}cs.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function N3(e){return!e.ctrlKey&&!e.button}function O3(){return this.parentNode}function L3(e,t){return t??{x:e.x,y:e.y}}function z3(){return navigator.maxTouchPoints||"ontouchstart"in this}function us(){var e=N3,t=O3,n=L3,r=z3,i={},a=sa("start","drag","end"),o=0,l,s,c,u,d=0;function f(S){S.on("mousedown.drag",h).filter(r).on("touchstart.drag",x).on("touchmove.drag",b,C3).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(S,w){if(!(u||!e.call(this,S,w))){var k=$(this,t.call(this,S,w),S,w,"mouse");k&&(ue(S.view).on("mousemove.drag",_,Bi).on("mouseup.drag",p,Bi),C_(S.view),Cl(S),c=!1,l=S.clientX,s=S.clientY,k("start",S))}}function _(S){if(vr(S),!c){var w=S.clientX-l,k=S.clientY-s;c=w*w+k*k>d}i.mouse("drag",S)}function p(S){ue(S.view).on("mousemove.drag mouseup.drag",null),N_(S.view,c),vr(S),i.mouse("end",S)}function x(S,w){if(e.call(this,S,w)){var k=S.changedTouches,I=t.call(this,S,w),L=k.length,G,F;for(G=0;G<L;++G)(F=$(this,I,S,w,k[G].identifier,k[G]))&&(Cl(S),F("start",S,k[G]))}}function b(S){var w=S.changedTouches,k=w.length,I,L;for(I=0;I<k;++I)(L=i[w[I].identifier])&&(vr(S),L("drag",S,w[I]))}function A(S){var w=S.changedTouches,k=w.length,I,L;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),I=0;I<k;++I)(L=i[w[I].identifier])&&(Cl(S),L("end",S,w[I]))}function $(S,w,k,I,L,G){var F=a.copy(),D=Zt(G||k,w),Z,W,O;if((O=n.call(S,new cs("beforestart",{sourceEvent:k,target:f,identifier:L,active:o,x:D[0],y:D[1],dx:0,dy:0,dispatch:F}),I))!=null)return Z=O.x-D[0]||0,W=O.y-D[1]||0,function H(z,Q,V){var q=D,U;switch(z){case"start":i[L]=H,U=o++;break;case"end":delete i[L],--o;case"drag":D=Zt(V||Q,w),U=o;break}F.call(z,S,new cs(z,{sourceEvent:Q,subject:O,target:f,identifier:L,active:U,x:D[0]+Z,y:D[1]+W,dx:D[0]-q[0],dy:D[1]-q[1],dispatch:F}),I)}}return f.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Ea(!!S),f):e},f.container=function(S){return arguments.length?(t=typeof S=="function"?S:Ea(S),f):t},f.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Ea(S),f):n},f.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Ea(!!S),f):r},f.on=function(){var S=a.on.apply(a,arguments);return S===a?f:S},f.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,f):Math.sqrt(d)},f}var Tr=0,vi=0,fi=0,O_=1e3,ao,xi,oo=0,rr=0,Ro=0,Hi=typeof performance=="object"&&performance.now?performance:Date,L_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nc(){return rr||(L_(R3),rr=Hi.now()+Ro)}function R3(){rr=0}function lo(){this._call=this._time=this._next=null}lo.prototype=z_.prototype={constructor:lo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?nc():+n)+(t==null?0:+t),!this._next&&xi!==this&&(xi?xi._next=this:ao=this,xi=this),this._call=e,this._time=n,fs()},stop:function(){this._call&&(this._call=null,this._time=1/0,fs())}};function z_(e,t,n){var r=new lo;return r.restart(e,t,n),r}function V3(){nc(),++Tr;for(var e=ao,t;e;)(t=rr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Tr}function kf(){rr=(oo=Hi.now())+Ro,Tr=vi=0;try{V3()}finally{Tr=0,I3(),rr=0}}function D3(){var e=Hi.now(),t=e-oo;t>O_&&(Ro-=t,oo=e)}function I3(){for(var e,t=ao,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ao=n);xi=e,fs(r)}function fs(e){if(!Tr){vi&&(vi=clearTimeout(vi));var t=e-rr;t>24?(e<1/0&&(vi=setTimeout(kf,e-Hi.now()-Ro)),fi&&(fi=clearInterval(fi))):(fi||(oo=Hi.now(),fi=setInterval(D3,O_)),Tr=1,L_(kf))}}function Sf(e,t,n){var r=new lo;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var P3=sa("start","end","cancel","interrupt"),F3=[],R_=0,Mf=1,ds=2,Da=3,Ef=4,hs=5,Ia=6;function Vo(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;U3(e,n,{name:t,index:r,group:i,on:P3,tween:F3,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:R_})}function rc(e,t){var n=Xt(e,t);if(n.state>R_)throw new Error("too late; already scheduled");return n}function cn(e,t){var n=Xt(e,t);if(n.state>Da)throw new Error("too late; already running");return n}function Xt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function U3(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=z_(a,0,n.time);function a(c){n.state=Mf,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,h;if(n.state!==Mf)return s();for(u in r)if(h=r[u],h.name===n.name){if(h.state===Da)return Sf(o);h.state===Ef?(h.state=Ia,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=Ia,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Sf(function(){n.state===Da&&(n.state=Ef,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=ds,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ds){for(n.state=Da,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function l(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(s),n.state=hs,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===hs&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Ia,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Pa(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>ds&&r.state<hs,r.state=Ia,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function j3(e){return this.each(function(){Pa(this,e)})}function W3(e,t){var n,r;return function(){var i=cn(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function q3(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=cn(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},s=0,c=i.length;s<c;++s)if(i[s].name===t){i[s]=l;break}s===c&&i.push(l)}a.tween=i}}function B3(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Xt(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?W3:q3)(n,e,t))}function ic(e,t,n){var r=e._id;return e.each(function(){var i=cn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Xt(i,r).value[t]}}function V_(e,t){var n;return(typeof t=="number"?Wt:t instanceof on?Qa:(n=on(t))?(t=n,Qa):xh)(e,t)}function H3(e){return function(){this.removeAttribute(e)}}function Y3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function X3(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function G3(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function Q3(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function K3(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function J3(e,t){var n=Eo(e),r=n==="transform"?H1:V_;return this.attrTween(e,typeof t=="function"?(n.local?K3:Q3)(n,r,ic(this,"attr."+e,t)):t==null?(n.local?Y3:H3)(n):(n.local?G3:X3)(n,r,t))}function Z3(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function e8(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function t8(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&e8(e,a)),n}return i._value=t,i}function n8(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Z3(e,a)),n}return i._value=t,i}function r8(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Eo(e);return this.tween(n,(r.local?t8:n8)(r,t))}function i8(e,t){return function(){rc(this,e).delay=+t.apply(this,arguments)}}function a8(e,t){return t=+t,function(){rc(this,e).delay=t}}function o8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?i8:a8)(t,e)):Xt(this.node(),t).delay}function l8(e,t){return function(){cn(this,e).duration=+t.apply(this,arguments)}}function s8(e,t){return t=+t,function(){cn(this,e).duration=t}}function c8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?l8:s8)(t,e)):Xt(this.node(),t).duration}function u8(e,t){if(typeof t!="function")throw new Error;return function(){cn(this,e).ease=t}}function f8(e){var t=this._id;return arguments.length?this.each(u8(t,e)):Xt(this.node(),t).ease}function d8(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;cn(this,e).ease=n}}function h8(e){if(typeof e!="function")throw new Error;return this.each(d8(this._id,e))}function _8(e){typeof e!="function"&&(e=Yh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,c=0;c<o;++c)(s=a[c])&&e.call(s,s.__data__,c,a)&&l.push(s);return new wn(r,this._parents,this._name,this._id)}function g8(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s=t[l],c=n[l],u=s.length,d=o[l]=new Array(u),f,h=0;h<u;++h)(f=s[h]||c[h])&&(d[h]=f);for(;l<r;++l)o[l]=t[l];return new wn(o,this._parents,this._name,this._id)}function p8(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function b8(e,t,n){var r,i,a=p8(t)?rc:cn;return function(){var o=a(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}function m8(e,t){var n=this._id;return arguments.length<2?Xt(this.node(),n).on.on(e):this.each(b8(n,e,t))}function w8(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function y8(){return this.on("end.remove",w8(this._id))}function v8(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ws(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l=r[o],s=l.length,c=a[o]=new Array(s),u,d,f=0;f<s;++f)(u=l[f])&&(d=e.call(u,u.__data__,f,l))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,Vo(c[f],t,n,f,c,Xt(u,n)));return new wn(a,this._parents,t,n)}function x8(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hh(e));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s=r[l],c=s.length,u,d=0;d<c;++d)if(u=s[d]){for(var f=e.call(u,u.__data__,d,s),h,_=Xt(u,n),p=0,x=f.length;p<x;++p)(h=f[p])&&Vo(h,t,n,p,f,_);a.push(f),o.push(u)}return new wn(a,o,t,n)}var k8=zr.prototype.constructor;function S8(){return new k8(this._groups,this._parents)}function M8(e,t){var n,r,i;return function(){var a=$r(this,e),o=(this.style.removeProperty(e),$r(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function D_(e){return function(){this.style.removeProperty(e)}}function E8(e,t,n){var r,i=n+"",a;return function(){var o=$r(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function A8(e,t,n){var r,i,a;return function(){var o=$r(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),$r(this,e))),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l))}}function $8(e,t){var n,r,i,a="style."+t,o="end."+a,l;return function(){var s=cn(this,e),c=s.on,u=s.value[a]==null?l||(l=D_(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),s.on=r}}function T8(e,t,n){var r=(e+="")=="transform"?B1:V_;return t==null?this.styleTween(e,M8(e,r)).on("end.style."+e,D_(e)):typeof t=="function"?this.styleTween(e,A8(e,r,ic(this,"style."+e,t))).each($8(this._id,e)):this.styleTween(e,E8(e,r,t),n).on("end.style."+e,null)}function C8(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function N8(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&C8(e,o,n)),r}return a._value=t,a}function O8(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,N8(e,t,n??""))}function L8(e){return function(){this.textContent=e}}function z8(e){return function(){var t=e(this);this.textContent=t??""}}function R8(e){return this.tween("text",typeof e=="function"?z8(ic(this,"text",e)):L8(e==null?"":e+""))}function V8(e){return function(t){this.textContent=e.call(this,t)}}function D8(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&V8(i)),t}return r._value=e,r}function I8(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,D8(e))}function P8(){for(var e=this._name,t=this._id,n=I_(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,c=0;c<l;++c)if(s=o[c]){var u=Xt(s,t);Vo(s,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new wn(r,this._parents,e,n)}function F8(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},s={value:function(){--i===0&&a()}};n.each(function(){var c=cn(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),c.on=t}),i===0&&a()})}var U8=0;function wn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function I_(){return++U8}var un=zr.prototype;wn.prototype={constructor:wn,select:v8,selectAll:x8,selectChild:un.selectChild,selectChildren:un.selectChildren,filter:_8,merge:g8,selection:S8,transition:P8,call:un.call,nodes:un.nodes,node:un.node,size:un.size,empty:un.empty,each:un.each,on:m8,attr:J3,attrTween:r8,style:T8,styleTween:O8,text:R8,textTween:I8,remove:y8,tween:B3,delay:o8,duration:c8,ease:f8,easeVarying:h8,end:F8,[Symbol.iterator]:un[Symbol.iterator]};function P_(e){return--e*e*e+1}function j8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var W8={time:null,delay:0,duration:250,ease:j8};function q8(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function B8(e){var t,n;e instanceof wn?(t=e._id,e=e._name):(t=I_(),(n=W8).time=nc(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,c=0;c<l;++c)(s=o[c])&&Vo(s,e,t,c,o,n||q8(s,t));return new wn(r,this._parents,e,t)}zr.prototype.interrupt=j3;zr.prototype.transition=B8;const Aa=e=>()=>e;function H8(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function gn(e,t,n){this.k=e,this.x=t,this.y=n}gn.prototype={constructor:gn,scale:function(e){return e===1?this:new gn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new gn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Oi=new gn(1,0,0);gn.prototype;function Nl(e){e.stopImmediatePropagation()}function di(e){e.preventDefault(),e.stopImmediatePropagation()}function Y8(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function X8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Af(){return this.__zoom||Oi}function G8(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Q8(){return navigator.maxTouchPoints||"ontouchstart"in this}function K8(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function J8(){var e=Y8,t=X8,n=K8,r=G8,i=Q8,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,s=Q1,c=sa("start","zoom","end"),u,d,f,h=500,_=150,p=0,x=10;function b(O){O.property("__zoom",Af).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",G).on("dblclick.zoom",F).filter(i).on("touchstart.zoom",D).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(O,H,z,Q){var V=O.selection?O.selection():O;V.property("__zoom",Af),O!==V?w(O,H,z,Q):V.interrupt().each(function(){k(this,arguments).event(Q).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},b.scaleBy=function(O,H,z,Q){b.scaleTo(O,function(){var V=this.__zoom.k,q=typeof H=="function"?H.apply(this,arguments):H;return V*q},z,Q)},b.scaleTo=function(O,H,z,Q){b.transform(O,function(){var V=t.apply(this,arguments),q=this.__zoom,U=z==null?S(V):typeof z=="function"?z.apply(this,arguments):z,ae=q.invert(U),fe=typeof H=="function"?H.apply(this,arguments):H;return n($(A(q,fe),U,ae),V,o)},z,Q)},b.translateBy=function(O,H,z,Q){b.transform(O,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof z=="function"?z.apply(this,arguments):z),t.apply(this,arguments),o)},null,Q)},b.translateTo=function(O,H,z,Q,V){b.transform(O,function(){var q=t.apply(this,arguments),U=this.__zoom,ae=Q==null?S(q):typeof Q=="function"?Q.apply(this,arguments):Q;return n(Oi.translate(ae[0],ae[1]).scale(U.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof z=="function"?-z.apply(this,arguments):-z),q,o)},Q,V)};function A(O,H){return H=Math.max(a[0],Math.min(a[1],H)),H===O.k?O:new gn(H,O.x,O.y)}function $(O,H,z){var Q=H[0]-z[0]*O.k,V=H[1]-z[1]*O.k;return Q===O.x&&V===O.y?O:new gn(O.k,Q,V)}function S(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function w(O,H,z,Q){O.on("start.zoom",function(){k(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(Q).end()}).tween("zoom",function(){var V=this,q=arguments,U=k(V,q).event(Q),ae=t.apply(V,q),fe=z==null?S(ae):typeof z=="function"?z.apply(V,q):z,j=Math.max(ae[1][0]-ae[0][0],ae[1][1]-ae[0][1]),K=V.__zoom,ce=typeof H=="function"?H.apply(V,q):H,ke=s(K.invert(fe).concat(j/K.k),ce.invert(fe).concat(j/ce.k));return function(Ae){if(Ae===1)Ae=ce;else{var Pe=ke(Ae),le=j/Pe[2];Ae=new gn(le,fe[0]-Pe[0]*le,fe[1]-Pe[1]*le)}U.zoom(null,Ae)}})}function k(O,H,z){return!z&&O.__zooming||new I(O,H)}function I(O,H){this.that=O,this.args=H,this.active=0,this.sourceEvent=null,this.extent=t.apply(O,H),this.taps=0}I.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,H){return this.mouse&&O!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var H=ue(this.that).datum();c.call(O,this.that,new H8(O,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:c}),H)}};function L(O,...H){if(!e.apply(this,arguments))return;var z=k(this,H).event(O),Q=this.__zoom,V=Math.max(a[0],Math.min(a[1],Q.k*Math.pow(2,r.apply(this,arguments)))),q=Zt(O);if(z.wheel)(z.mouse[0][0]!==q[0]||z.mouse[0][1]!==q[1])&&(z.mouse[1]=Q.invert(z.mouse[0]=q)),clearTimeout(z.wheel);else{if(Q.k===V)return;z.mouse=[q,Q.invert(q)],Pa(this),z.start()}di(O),z.wheel=setTimeout(U,_),z.zoom("mouse",n($(A(Q,V),z.mouse[0],z.mouse[1]),z.extent,o));function U(){z.wheel=null,z.end()}}function G(O,...H){if(f||!e.apply(this,arguments))return;var z=O.currentTarget,Q=k(this,H,!0).event(O),V=ue(O.view).on("mousemove.zoom",fe,!0).on("mouseup.zoom",j,!0),q=Zt(O,z),U=O.clientX,ae=O.clientY;C_(O.view),Nl(O),Q.mouse=[q,this.__zoom.invert(q)],Pa(this),Q.start();function fe(K){if(di(K),!Q.moved){var ce=K.clientX-U,ke=K.clientY-ae;Q.moved=ce*ce+ke*ke>p}Q.event(K).zoom("mouse",n($(Q.that.__zoom,Q.mouse[0]=Zt(K,z),Q.mouse[1]),Q.extent,o))}function j(K){V.on("mousemove.zoom mouseup.zoom",null),N_(K.view,Q.moved),di(K),Q.event(K).end()}}function F(O,...H){if(e.apply(this,arguments)){var z=this.__zoom,Q=Zt(O.changedTouches?O.changedTouches[0]:O,this),V=z.invert(Q),q=z.k*(O.shiftKey?.5:2),U=n($(A(z,q),Q,V),t.apply(this,H),o);di(O),l>0?ue(this).transition().duration(l).call(w,U,Q,O):ue(this).call(b.transform,U,Q,O)}}function D(O,...H){if(e.apply(this,arguments)){var z=O.touches,Q=z.length,V=k(this,H,O.changedTouches.length===Q).event(O),q,U,ae,fe;for(Nl(O),U=0;U<Q;++U)ae=z[U],fe=Zt(ae,this),fe=[fe,this.__zoom.invert(fe),ae.identifier],V.touch0?!V.touch1&&V.touch0[2]!==fe[2]&&(V.touch1=fe,V.taps=0):(V.touch0=fe,q=!0,V.taps=1+!!u);u&&(u=clearTimeout(u)),q&&(V.taps<2&&(d=fe[0],u=setTimeout(function(){u=null},h)),Pa(this),V.start())}}function Z(O,...H){if(this.__zooming){var z=k(this,H).event(O),Q=O.changedTouches,V=Q.length,q,U,ae,fe;for(di(O),q=0;q<V;++q)U=Q[q],ae=Zt(U,this),z.touch0&&z.touch0[2]===U.identifier?z.touch0[0]=ae:z.touch1&&z.touch1[2]===U.identifier&&(z.touch1[0]=ae);if(U=z.that.__zoom,z.touch1){var j=z.touch0[0],K=z.touch0[1],ce=z.touch1[0],ke=z.touch1[1],Ae=(Ae=ce[0]-j[0])*Ae+(Ae=ce[1]-j[1])*Ae,Pe=(Pe=ke[0]-K[0])*Pe+(Pe=ke[1]-K[1])*Pe;U=A(U,Math.sqrt(Ae/Pe)),ae=[(j[0]+ce[0])/2,(j[1]+ce[1])/2],fe=[(K[0]+ke[0])/2,(K[1]+ke[1])/2]}else if(z.touch0)ae=z.touch0[0],fe=z.touch0[1];else return;z.zoom("touch",n($(U,ae,fe),z.extent,o))}}function W(O,...H){if(this.__zooming){var z=k(this,H).event(O),Q=O.changedTouches,V=Q.length,q,U;for(Nl(O),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),q=0;q<V;++q)U=Q[q],z.touch0&&z.touch0[2]===U.identifier?delete z.touch0:z.touch1&&z.touch1[2]===U.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(U=Zt(U,this),Math.hypot(d[0]-U[0],d[1]-U[1])<x)){var ae=ue(this).on("dblclick.zoom");ae&&ae.apply(this,arguments)}}}return b.wheelDelta=function(O){return arguments.length?(r=typeof O=="function"?O:Aa(+O),b):r},b.filter=function(O){return arguments.length?(e=typeof O=="function"?O:Aa(!!O),b):e},b.touchable=function(O){return arguments.length?(i=typeof O=="function"?O:Aa(!!O),b):i},b.extent=function(O){return arguments.length?(t=typeof O=="function"?O:Aa([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),b):t},b.scaleExtent=function(O){return arguments.length?(a[0]=+O[0],a[1]=+O[1],b):[a[0],a[1]]},b.translateExtent=function(O){return arguments.length?(o[0][0]=+O[0][0],o[1][0]=+O[1][0],o[0][1]=+O[0][1],o[1][1]=+O[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(O){return arguments.length?(n=O,b):n},b.duration=function(O){return arguments.length?(l=+O,b):l},b.interpolate=function(O){return arguments.length?(s=O,b):s},b.on=function(){var O=c.on.apply(c,arguments);return O===c?b:O},b.clickDistance=function(O){return arguments.length?(p=(O=+O)*O,b):Math.sqrt(p)},b.tapDistance=function(O){return arguments.length?(x=+O,b):x},b}function Z8(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function e5(){return this.eachAfter(Z8)}function t5(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function n5(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function r5(e,t){for(var n=this,r=[n],i=[],a,o,l,s=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,l=a.length;o<l;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++s,this);return this}function i5(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function a5(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function o5(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function l5(e){for(var t=this,n=s5(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function s5(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function c5(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function u5(){return Array.from(this)}function f5(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function d5(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*h5(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function Do(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=p5)):t===void 0&&(t=g5);for(var n=new so(e),r,i=[n],a,o,l,s;r=i.pop();)if((o=t(r.data))&&(s=(o=Array.from(o)).length))for(r.children=o,l=s-1;l>=0;--l)i.push(a=o[l]=new so(o[l])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(m5)}function _5(){return Do(this).eachBefore(b5)}function g5(e){return e.children}function p5(e){return Array.isArray(e)?e[1]:null}function b5(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function m5(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function so(e){this.data=e,this.depth=this.height=0,this.parent=null}so.prototype=Do.prototype={constructor:so,count:e5,each:t5,eachAfter:r5,eachBefore:n5,find:i5,sum:a5,sort:o5,path:l5,ancestors:c5,descendants:u5,leaves:f5,links:d5,copy:_5,[Symbol.iterator]:h5};function w5(e){if(typeof e!="function")throw new Error;return e}function hi(){return 0}function _i(e){return function(){return e}}function F_(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function U_(e,t,n,r,i){for(var a=e.children,o,l=-1,s=a.length,c=e.value&&(r-t)/e.value;++l<s;)o=a[l],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}function y5(){var e=1,t=1,n=0,r=!1;function i(o){var l=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/l,o.eachBefore(a(t,l)),r&&o.eachBefore(F_),o}function a(o,l){return function(s){s.children&&U_(s,s.x0,o*(s.depth+1)/l,s.x1,o*(s.depth+2)/l);var c=s.x0,u=s.y0,d=s.x1-n,f=s.y1-n;d<c&&(c=d=(c+d)/2),f<u&&(u=f=(u+f)/2),s.x0=c,s.y0=u,s.x1=d,s.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}function v5(e,t,n,r,i){for(var a=e.children,o,l=-1,s=a.length,c=e.value&&(i-n)/e.value;++l<s;)o=a[l],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var x5=(1+Math.sqrt(5))/2;function k5(e,t,n,r,i,a){for(var o=[],l=t.children,s,c,u=0,d=0,f=l.length,h,_,p=t.value,x,b,A,$,S,w,k;u<f;){h=i-n,_=a-r;do x=l[d++].value;while(!x&&d<f);for(b=A=x,w=Math.max(_/h,h/_)/(p*e),k=x*x*w,S=Math.max(A/k,k/b);d<f;++d){if(x+=c=l[d].value,c<b&&(b=c),c>A&&(A=c),k=x*x*w,$=Math.max(A/k,k/b),$>S){x-=c;break}S=$}o.push(s={value:x,dice:h<_,children:l.slice(u,d)}),s.dice?U_(s,n,r,i,p?r+=_*x/p:a):v5(s,n,r,p?n+=h*x/p:i,a),p-=x,u=d}return o}const S5=function e(t){function n(r,i,a,o,l){k5(t,r,i,a,o,l)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(x5);function M5(){var e=S5,t=!1,n=1,r=1,i=[0],a=hi,o=hi,l=hi,s=hi,c=hi;function u(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(F_),f}function d(f){var h=i[f.depth],_=f.x0+h,p=f.y0+h,x=f.x1-h,b=f.y1-h;x<_&&(_=x=(_+x)/2),b<p&&(p=b=(p+b)/2),f.x0=_,f.y0=p,f.x1=x,f.y1=b,f.children&&(h=i[f.depth+1]=a(f)/2,_+=c(f)-h,p+=o(f)-h,x-=l(f)-h,b-=s(f)-h,x<_&&(_=x=(_+x)/2),b<p&&(p=b=(p+b)/2),e(f,_,p,x,b))}return u.round=function(f){return arguments.length?(t=!!f,u):t},u.size=function(f){return arguments.length?(n=+f[0],r=+f[1],u):[n,r]},u.tile=function(f){return arguments.length?(e=w5(f),u):e},u.padding=function(f){return arguments.length?u.paddingInner(f).paddingOuter(f):u.paddingInner()},u.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:_i(+f),u):a},u.paddingOuter=function(f){return arguments.length?u.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):u.paddingTop()},u.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:_i(+f),u):o},u.paddingRight=function(f){return arguments.length?(l=typeof f=="function"?f:_i(+f),u):l},u.paddingBottom=function(f){return arguments.length?(s=typeof f=="function"?f:_i(+f),u):s},u.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:_i(+f),u):c},u}function E5(e,t,n,r,i){var a=e.children,o,l=a.length,s,c=new Array(l+1);for(c[0]=s=o=0;o<l;++o)c[o+1]=s+=a[o].value;u(0,l,e.value,t,n,r,i);function u(d,f,h,_,p,x,b){if(d>=f-1){var A=a[d];A.x0=_,A.y0=p,A.x1=x,A.y1=b;return}for(var $=c[d],S=h/2+$,w=d+1,k=f-1;w<k;){var I=w+k>>>1;c[I]<S?w=I+1:k=I}S-c[w-1]<c[w]-S&&d+1<w&&--w;var L=c[w]-$,G=h-L;if(x-_>b-p){var F=h?(_*G+x*L)/h:x;u(d,w,L,_,p,F,b),u(w,f,G,F,p,x,b)}else{var D=h?(p*G+b*L)/h:b;u(d,w,L,_,p,x,D),u(w,f,G,_,D,x,b)}}}var _s="http://www.w3.org/1999/xhtml";const $f={svg:"http://www.w3.org/2000/svg",xhtml:_s,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function j_(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),$f.hasOwnProperty(t)?{space:$f[t],local:e}:e}function A5(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_s&&t.documentElement.namespaceURI===_s?t.createElement(e):t.createElementNS(n,e)}}function $5(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function W_(e){var t=j_(e);return(t.local?$5:A5)(t)}var T5=0;function Tf(){this._="@"+(++T5).toString(36)}Tf.prototype={constructor:Tf,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var q_=function(e){return function(){return this.matches(e)}};if(typeof document<"u"){var gi=document.documentElement;if(!gi.matches){var C5=gi.webkitMatchesSelector||gi.msMatchesSelector||gi.mozMatchesSelector||gi.oMatchesSelector;q_=function(e){return function(){return C5.call(this,e)}}}}const N5=q_;var B_={};if(typeof document<"u"){var O5=document.documentElement;"onmouseenter"in O5||(B_={mouseenter:"mouseover",mouseleave:"mouseout"})}function L5(e,t,n){return e=H_(e,t,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&e.call(this,r)}}function H_(e,t,n){return function(r){try{e.call(this,this.__data__,t,n)}finally{}}}function z5(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function R5(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.capture):t[++r]=a;++r?t.length=r:delete this.__on}}}function V5(e,t,n){var r=B_.hasOwnProperty(e.type)?L5:H_;return function(i,a,o){var l=this.__on,s,c=r(t,a,o);if(l){for(var u=0,d=l.length;u<d;++u)if((s=l[u]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),s.value=t;return}}this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function D5(e,t,n){var r=z5(e+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,c=l.length,u;s<c;++s)for(i=0,u=l[s];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(l=t?V5:R5,n==null&&(n=!1),i=0;i<a;++i)this.each(l(r[i],t,n));return this}function I5(){}function Y_(e){return e==null?I5:function(){return this.querySelector(e)}}function P5(e){typeof e!="function"&&(e=Y_(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=new Array(o),s,c,u=0;u<o;++u)(s=a[u])&&(c=e.call(s,s.__data__,u,a))&&("__data__"in s&&(c.__data__=s.__data__),l[u]=c);return new Ut(r,this._parents)}function F5(){return[]}function U5(e){return e==null?F5:function(){return this.querySelectorAll(e)}}function j5(e){typeof e!="function"&&(e=U5(e));for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],l=o.length,s,c=0;c<l;++c)(s=o[c])&&(r.push(e.call(s,s.__data__,c,o)),i.push(s));return new Ut(r,i)}function W5(e){typeof e!="function"&&(e=N5(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,c=0;c<o;++c)(s=a[c])&&e.call(s,s.__data__,c,a)&&l.push(s);return new Ut(r,this._parents)}function X_(e){return new Array(e.length)}function q5(){return new Ut(this._enter||this._groups.map(X_),this._parents)}function co(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}co.prototype={constructor:co,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function B5(e){return function(){return e}}var Cf="$";function H5(e,t,n,r,i,a){for(var o=0,l,s=t.length,c=a.length;o<c;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new co(e,a[o]);for(;o<s;++o)(l=t[o])&&(i[o]=l)}function Y5(e,t,n,r,i,a,o){var l,s,c={},u=t.length,d=a.length,f=new Array(u),h;for(l=0;l<u;++l)(s=t[l])&&(f[l]=h=Cf+o.call(s,s.__data__,l,t),h in c?i[l]=s:c[h]=s);for(l=0;l<d;++l)h=Cf+o.call(e,a[l],l,a),(s=c[h])?(r[l]=s,s.__data__=a[l],c[h]=null):n[l]=new co(e,a[l]);for(l=0;l<u;++l)(s=t[l])&&c[f[l]]===s&&(i[l]=s)}function X5(e,t){if(!e)return h=new Array(this.size()),c=-1,this.each(function(k){h[++c]=k}),h;var n=t?Y5:H5,r=this._parents,i=this._groups;typeof e!="function"&&(e=B5(e));for(var a=i.length,o=new Array(a),l=new Array(a),s=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],f=d.length,h=e.call(u,u&&u.__data__,c,r),_=h.length,p=l[c]=new Array(_),x=o[c]=new Array(_),b=s[c]=new Array(f);n(u,d,p,x,b,h,t);for(var A=0,$=0,S,w;A<_;++A)if(S=p[A]){for(A>=$&&($=A+1);!(w=x[$])&&++$<_;);S._next=w||null}}return o=new Ut(o,r),o._enter=l,o._exit=s,o}function G5(){return new Ut(this._exit||this._groups.map(X_),this._parents)}function Q5(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s=t[l],c=n[l],u=s.length,d=o[l]=new Array(u),f,h=0;h<u;++h)(f=s[h]||c[h])&&(d[h]=f);for(;l<r;++l)o[l]=t[l];return new Ut(o,this._parents)}function K5(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&a!==o.nextSibling&&a.parentNode.insertBefore(o,a),a=o);return this}function J5(e){e||(e=Z5);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,s=i[a]=new Array(l),c,u=0;u<l;++u)(c=o[u])&&(s[u]=c);s.sort(t)}return new Ut(i,this._parents).order()}function Z5(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function e6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function t6(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function n6(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function r6(){var e=0;return this.each(function(){++e}),e}function i6(){return!this.node()}function a6(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function o6(e){return function(){this.removeAttribute(e)}}function l6(e){return function(){this.removeAttributeNS(e.space,e.local)}}function s6(e,t){return function(){this.setAttribute(e,t)}}function c6(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function u6(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function f6(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function d6(e,t){var n=j_(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?l6:o6:typeof t=="function"?n.local?f6:u6:n.local?c6:s6)(n,t))}function G_(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function h6(e){return function(){this.style.removeProperty(e)}}function _6(e,t,n){return function(){this.style.setProperty(e,t,n)}}function g6(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function p6(e,t,n){var r;return arguments.length>1?this.each((t==null?h6:typeof t=="function"?g6:_6)(e,t,n??"")):G_(r=this.node()).getComputedStyle(r,null).getPropertyValue(e)}function b6(e){return function(){delete this[e]}}function m6(e,t){return function(){this[e]=t}}function w6(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function y6(e,t){return arguments.length>1?this.each((t==null?b6:typeof t=="function"?w6:m6)(e,t)):this.node()[e]}function Q_(e){return e.trim().split(/^|\s+/)}function ac(e){return e.classList||new K_(e)}function K_(e){this._node=e,this._names=Q_(e.getAttribute("class")||"")}K_.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function J_(e,t){for(var n=ac(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Z_(e,t){for(var n=ac(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function v6(e){return function(){J_(this,e)}}function x6(e){return function(){Z_(this,e)}}function k6(e,t){return function(){(t.apply(this,arguments)?J_:Z_)(this,e)}}function S6(e,t){var n=Q_(e+"");if(arguments.length<2){for(var r=ac(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?k6:t?v6:x6)(n,t))}function M6(){this.textContent=""}function E6(e){return function(){this.textContent=e}}function A6(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $6(e){return arguments.length?this.each(e==null?M6:(typeof e=="function"?A6:E6)(e)):this.node().textContent}function T6(){this.innerHTML=""}function C6(e){return function(){this.innerHTML=e}}function N6(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function O6(e){return arguments.length?this.each(e==null?T6:(typeof e=="function"?N6:C6)(e)):this.node().innerHTML}function L6(){this.nextSibling&&this.parentNode.appendChild(this)}function z6(){return this.each(L6)}function R6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function V6(){return this.each(R6)}function D6(e){var t=typeof e=="function"?e:W_(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function I6(){return null}function P6(e,t){var n=typeof e=="function"?e:W_(e),r=t==null?I6:typeof t=="function"?t:Y_(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function F6(){var e=this.parentNode;e&&e.removeChild(this)}function U6(){return this.each(F6)}function j6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function eg(e,t,n){var r=G_(e),i=r.CustomEvent;i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function W6(e,t){return function(){return eg(this,e,t)}}function q6(e,t){return function(){return eg(this,e,t.apply(this,arguments))}}function B6(e,t){return this.each((typeof t=="function"?q6:W6)(e,t))}var H6=[null];function Ut(e,t){this._groups=e,this._parents=t}Ut.prototype={constructor:Ut,select:P5,selectAll:j5,filter:W5,data:X5,enter:q5,exit:G5,merge:Q5,order:K5,sort:J5,call:e6,nodes:t6,node:n6,size:r6,empty:i6,each:a6,attr:d6,style:p6,property:y6,classed:S6,text:$6,html:O6,raise:z6,lower:V6,append:D6,insert:P6,remove:U6,datum:j6,on:D5,dispatch:B6};function Y6(e){return typeof e=="string"?new Ut([[document.querySelector(e)]],[document.documentElement]):new Ut([[e]],H6)}function uo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Cr(e){return e=uo(Math.abs(e)),e?e[1]:NaN}function X6(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function G6(e,t){e=e.toPrecision(t);e:for(var n=e.length,r=1,i=-1,a;r<n;++r)switch(e[r]){case".":i=a=r;break;case"0":i===0&&(i=r),a=r;break;case"e":break e;default:i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(a+1):e}var tg;function Q6(e,t){var n=uo(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(tg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+uo(e,Math.max(0,t+a-1))[0]}function Nf(e,t){var n=uo(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ng={"":G6,"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Nf(e*100,t)},r:Nf,s:Q6,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};var K6=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Yi(e){return new rg(e)}function rg(e){if(!(t=K6.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",a=t[4]||"",o=!!t[5],l=t[6]&&+t[6],s=!!t[7],c=t[8]&&+t[8].slice(1),u=t[9]||"";u==="n"?(s=!0,u="g"):ng[u]||(u=""),(o||n==="0"&&r==="=")&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=l,this.comma=s,this.precision=c,this.type=u}rg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var Of=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function J6(e){return e}function oc(e){var t=e.grouping&&e.thousands?X6(e.grouping,e.thousands):J6,n=e.currency,r=e.decimal;function i(o){o=Yi(o);var l=o.fill,s=o.align,c=o.sign,u=o.symbol,d=o.zero,f=o.width,h=o.comma,_=o.precision,p=o.type,x=u==="$"?n[0]:u==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",b=u==="$"?n[1]:/[%p]/.test(p)?"%":"",A=ng[p],$=!p||/[defgprs%]/.test(p);_=_==null?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function S(w){var k=x,I=b,L,G,F;if(p==="c")I=A(w)+I,w="";else{w=+w;var D=(w<0||1/w<0)&&(w*=-1,!0);if(w=A(w,_),D){for(L=-1,G=w.length,D=!1;++L<G;)if(F=w.charCodeAt(L),48<F&&F<58||p==="x"&&96<F&&F<103||p==="X"&&64<F&&F<71){D=!0;break}}if(k=(D?c==="("?c:"-":c==="-"||c==="("?"":c)+k,I=I+(p==="s"?Of[8+tg/3]:"")+(D&&c==="("?")":""),$){for(L=-1,G=w.length;++L<G;)if(F=w.charCodeAt(L),48>F||F>57){I=(F===46?r+w.slice(L+1):w.slice(L))+I,w=w.slice(0,L);break}}}h&&!d&&(w=t(w,1/0));var Z=k.length+w.length+I.length,W=Z<f?new Array(f-Z+1).join(l):"";switch(h&&d&&(w=t(W+w,W.length?f-I.length:1/0),W=""),s){case"<":return k+w+I+W;case"=":return k+W+w+I;case"^":return W.slice(0,Z=W.length>>1)+k+w+I+W.slice(Z)}return W+k+w+I}return S.toString=function(){return o+""},S}function a(o,l){var s=i((o=Yi(o),o.type="f",o)),c=Math.max(-8,Math.min(8,Math.floor(Cr(l)/3)))*3,u=Math.pow(10,-c),d=Of[8+c/3];return function(f){return s(u*f)+d}}return{format:i,formatPrefix:a}}var $a,lc,sc;Z6({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function Z6(e){return $a=oc(e),lc=$a.format,sc=$a.formatPrefix,$a}function e4(e){return Math.max(0,-Cr(Math.abs(e)))}function t4(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cr(t)/3)))*3-Cr(Math.abs(e)))}function n4(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cr(t)-Cr(e))+1}var r4={value:function(){}};function cc(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n)throw new Error("illegal type: "+r);n[r]=[]}return new Fa(n)}function Fa(e){this._=e}function i4(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Fa.prototype=cc.prototype={constructor:Fa,on:function(e,t){var n=this._,r=i4(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=a4(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=Lf(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Lf(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fa(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function a4(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Lf(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=r4,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}function ig(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function o4(e){return e.length===1&&(e=l4(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function l4(e){return function(t,n){return ig(e(t),n)}}var s4=o4(ig),c4=s4.right;function u4(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}var f4=Math.sqrt(50),d4=Math.sqrt(10),h4=Math.sqrt(2);function _4(e,t,n){var r=fo(e,t,n);return u4(Math.ceil(e/r)*r,Math.floor(t/r)*r+r/2,r)}function fo(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=f4?i*=10:a>=d4?i*=5:a>=h4&&(i*=2),t<e?-i:i}function zf(e,t){var n=-1,r=e.length,i,a;if(t==null){for(;++n<r;)if((a=e[n])!=null&&a>=a){i=a;break}for(;++n<r;)(a=e[n])!=null&&a>i&&(i=a)}else{for(;++n<r;)if((a=t(e[n],n,e))!=null&&a>=a){i=a;break}for(;++n<r;)(a=t(e[n],n,e))!=null&&a>i&&(i=a)}return i}function ag(e,t){for(var n=0,r=e.length,i,a=-1;++a<r;)(i=+e[a])&&(n+=i);return n}var Rt="$";function ho(){}ho.prototype=og.prototype={constructor:ho,has:function(e){return Rt+e in this},get:function(e){return this[Rt+e]},set:function(e,t){return this[Rt+e]=t,this},remove:function(e){var t=Rt+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Rt&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Rt&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Rt&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Rt&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Rt&&++e;return e},empty:function(){for(var e in this)if(e[0]===Rt)return!1;return!0},each:function(e){for(var t in this)t[0]===Rt&&e(this[t],t.slice(1),this)}};function og(e,t){var n=new ho;if(e instanceof ho)e.each(function(l,s){n.set(s,l)});else if(Array.isArray(e)){var r=-1,i=e.length,a;if(t==null)for(;++r<i;)n.set(r,e[r]);else for(;++r<i;)n.set(t(a=e[r],r,e),a)}else if(e)for(var o in e)n.set(o,e[o]);return n}function Rf(){}var jn=og.prototype;Rf.prototype={constructor:Rf,has:jn.has,add:function(e){return e+="",this[Rt+e]=e,this},remove:jn.remove,clear:jn.clear,values:jn.keys,size:jn.size,empty:jn.empty,each:jn.each};var lg=Array.prototype,g4=lg.map,Vf=lg.slice;function Io(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function uc(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Dr(){}var ir=.7,Nr=1/ir,xr="\\s*([+-]?\\d+)\\s*",Xi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",an="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p4=/^#([0-9a-f]{3,8})$/,b4=new RegExp("^rgb\\("+[xr,xr,xr]+"\\)$"),m4=new RegExp("^rgb\\("+[an,an,an]+"\\)$"),w4=new RegExp("^rgba\\("+[xr,xr,xr,Xi]+"\\)$"),y4=new RegExp("^rgba\\("+[an,an,an,Xi]+"\\)$"),v4=new RegExp("^hsl\\("+[Xi,an,an]+"\\)$"),x4=new RegExp("^hsla\\("+[Xi,an,an,Xi]+"\\)$"),Df={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Io(Dr,Gi,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:If,formatHex:If,formatHsl:k4,formatRgb:Pf,toString:Pf});function If(){return this.rgb().formatHex()}function k4(){return cg(this).formatHsl()}function Pf(){return this.rgb().formatRgb()}function Gi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=p4.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ff(t):n===3?new vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ta(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ta(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=b4.exec(e))?new vt(t[1],t[2],t[3],1):(t=m4.exec(e))?new vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=w4.exec(e))?Ta(t[1],t[2],t[3],t[4]):(t=y4.exec(e))?Ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=v4.exec(e))?Wf(t[1],t[2]/100,t[3]/100,1):(t=x4.exec(e))?Wf(t[1],t[2]/100,t[3]/100,t[4]):Df.hasOwnProperty(e)?Ff(Df[e]):e==="transparent"?new vt(NaN,NaN,NaN,0):null}function Ff(e){return new vt(e>>16&255,e>>8&255,e&255,1)}function Ta(e,t,n,r){return r<=0&&(e=t=n=NaN),new vt(e,t,n,r)}function sg(e){return e instanceof Dr||(e=Gi(e)),e?(e=e.rgb(),new vt(e.r,e.g,e.b,e.opacity)):new vt}function gs(e,t,n,r){return arguments.length===1?sg(e):new vt(e,t,n,r??1)}function vt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Io(vt,gs,uc(Dr,{brighter:function(e){return e=e==null?Nr:Math.pow(Nr,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?ir:Math.pow(ir,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uf,formatHex:Uf,formatRgb:jf,toString:jf}));function Uf(){return"#"+Ol(this.r)+Ol(this.g)+Ol(this.b)}function jf(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Ol(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Wf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,n,r)}function cg(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof Dr||(e=Gi(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new tn(o,l,s,e.opacity)}function S4(e,t,n,r){return arguments.length===1?cg(e):new tn(e,t,n,r??1)}function tn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Io(tn,S4,uc(Dr,{brighter:function(e){return e=e==null?Nr:Math.pow(Nr,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?ir:Math.pow(ir,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new vt(Ll(e>=240?e-240:e+120,i,r),Ll(e,i,r),Ll(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Ll(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var M4=Math.PI/180,E4=180/Math.PI,ug=-.14861,fc=1.78277,dc=-.29227,Po=-.90649,Qi=1.97294,qf=Qi*Po,Bf=Qi*fc,Hf=fc*dc-Po*ug;function A4(e){if(e instanceof er)return new er(e.h,e.s,e.l,e.opacity);e instanceof vt||(e=sg(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Hf*r+qf*t-Bf*n)/(Hf+qf-Bf),a=r-i,o=(Qi*(n-i)-dc*a)/Po,l=Math.sqrt(o*o+a*a)/(Qi*i*(1-i)),s=l?Math.atan2(o,a)*E4-120:NaN;return new er(s<0?s+360:s,l,i,e.opacity)}function ln(e,t,n,r){return arguments.length===1?A4(e):new er(e,t,n,r??1)}function er(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Io(er,ln,uc(Dr,{brighter:function(e){return e=e==null?Nr:Math.pow(Nr,e),new er(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?ir:Math.pow(ir,e),new er(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*M4,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new vt(255*(t+n*(ug*r+fc*i)),255*(t+n*(dc*r+Po*i)),255*(t+n*(Qi*r)),this.opacity)}}));function Fo(e){return function(){return e}}function fg(e,t){return function(n){return e+n*t}}function $4(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function T4(e,t){var n=t-e;return n?fg(e,n>180||n<-180?n-360*Math.round(n/360):n):Fo(isNaN(e)?t:e)}function C4(e){return(e=+e)==1?kr:function(t,n){return n-t?$4(t,n,e):Fo(isNaN(t)?n:t)}}function kr(e,t){var n=t-e;return n?fg(e,n):Fo(isNaN(e)?t:e)}const Yf=function e(t){var n=C4(t);function r(i,a){var o=n((i=gs(i)).r,(a=gs(a)).r),l=n(i.g,a.g),s=n(i.b,a.b),c=kr(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=s(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function N4(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function O4(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function L4(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=hc(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function z4(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _o(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function R4(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=hc(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ps=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zl=new RegExp(ps.source,"g");function V4(e){return function(){return e}}function D4(e){return function(t){return e(t)+""}}function I4(e,t){var n=ps.lastIndex=zl.lastIndex=0,r,i,a,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=ps.exec(e))&&(i=zl.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,s.push({i:o,x:_o(r,i)})),n=zl.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?D4(s[0].x):V4(t):(t=s.length,function(c){for(var u=0,d;u<t;++u)l[(d=s[u]).i]=d.x(c);return l.join("")})}function hc(e,t){var n=typeof t,r;return t==null||n==="boolean"?Fo(t):(n==="number"?_o:n==="string"?(r=Gi(t))?(t=r,Yf):I4:t instanceof Gi?Yf:t instanceof Date?z4:O4(t)?N4:Array.isArray(t)?L4:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?R4:_o)(e,t)}function P4(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function dg(e){return function t(n){n=+n;function r(i,a){var o=e((i=ln(i)).h,(a=ln(a)).h),l=kr(i.s,a.s),s=kr(i.l,a.l),c=kr(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=l(u),i.l=s(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r}(1)}dg(T4);var _c=dg(kr);function F4(e){return function(){return e}}function U4(e){return+e}var Xf=[0,1];function hg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:F4(t)}function j4(e){return function(t,n){var r=e(t=+t,n=+n);return function(i){return i<=t?0:i>=n?1:r(i)}}}function W4(e){return function(t,n){var r=e(t=+t,n=+n);return function(i){return i<=0?t:i>=1?n:r(i)}}}function q4(e,t,n,r){var i=e[0],a=e[1],o=t[0],l=t[1];return a<i?(i=n(a,i),o=r(l,o)):(i=n(i,a),o=r(o,l)),function(s){return o(i(s))}}function B4(e,t,n,r){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)a[l]=n(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(s){var c=c4(e,s,1,i)-1;return o[c](a[c](s))}}function H4(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function Y4(e,t){var n=Xf,r=Xf,i=hc,a=!1,o,l,s;function c(){return o=Math.min(n.length,r.length)>2?B4:q4,l=s=null,u}function u(d){return(l||(l=o(n,r,a?j4(e):e,i)))(+d)}return u.invert=function(d){return(s||(s=o(r,n,hg,a?W4(t):t)))(+d)},u.domain=function(d){return arguments.length?(n=g4.call(d,U4),c()):n.slice()},u.range=function(d){return arguments.length?(r=Vf.call(d),c()):r.slice()},u.rangeRound=function(d){return r=Vf.call(d),i=P4,c()},u.clamp=function(d){return arguments.length?(a=!!d,c()):a},u.interpolate=function(d){return arguments.length?(i=d,c()):i},c()}function X4(e,t,n){var r=e[0],i=e[e.length-1],a=fo(r,i,t??10),o;switch(n=Yi(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(r),Math.abs(i));return n.precision==null&&!isNaN(o=t4(a,l))&&(n.precision=o),sc(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=n4(a,Math.max(Math.abs(r),Math.abs(i))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=e4(a))&&(n.precision=o-(n.type==="%")*2);break}}return lc(n)}function G4(e){var t=e.domain;return e.ticks=function(n){var r=t();return _4(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){return X4(t(),n,r)},e.nice=function(n){var r=t(),i=r.length-1,a=n??10,o=r[0],l=r[i],s=fo(o,l,a);return s&&(s=fo(Math.floor(o/s)*s,Math.ceil(l/s)*s,a),r[0]=Math.floor(o/s)*s,r[i]=Math.ceil(l/s)*s,t(r)),e},e}function gc(){var e=Y4(hg,_o);return e.copy=function(){return H4(e,gc())},G4(e)}function Pn(e){return e.match(/.{6}/g).map(function(t){return"#"+t})}Pn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");Pn("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");Pn("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");Pn("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");_c(ln(300,.5,0),ln(-240,.5,1));_c(ln(-100,.75,.35),ln(80,1.5,.8));_c(ln(260,.75,.35),ln(80,1.5,.8));ln();function Uo(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Uo(Pn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Uo(Pn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Uo(Pn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Uo(Pn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var Q4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g=function(t){return t},Gf=function(t){for(var n=[],r=0,i=t.length;r<i;r++)n[r]=t[i-r-1];return n},Qf=function(t,n){t.each(function(){var r=Y6(this),i=r.text().split(/\s+/).reverse(),a,o=[],l=1.2;r.attr("y");for(var s=parseFloat(r.attr("dy"))||0,c=r.text(null).append("tspan").attr("x",0).attr("dy",s+"em");a=i.pop();)o.push(a),c.text(o.join(" ")),c.node().getComputedTextLength()>n&&o.length>1&&(o.pop(),c.text(o.join(" ")),o=[a],c=r.append("tspan").attr("x",0).attr("dy",l+s+"em").text(a))})},K4=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],r=arguments[2],i=arguments[3],a=arguments[4];if((typeof n>"u"?"undefined":Q4(n))==="object"){if(n.length===0)return t;for(var o=n.length;o<t.length;o++)n.push(t[o]);return n}else if(typeof n=="function"){for(var l=[],s=t.length,c=0;c<s;c++)l.push(n({i:c,genLength:s,generatedLabels:t,domain:r,range:i,labelDelimiter:a}));return l}return t},J4=function(t,n,r){var i=[];if(n.length>1)i=n;else for(var a=t.domain(),o=(a[a.length-1]-a[0])/(n-1),l=0;l<n;l++)i.push(a[0]+l*o);var s=i.map(r);return{data:i,labels:s,feature:function(u){return t(u)}}},Z4=function(t,n,r){var i=t.range().map(function(a){var o=t.invertExtent(a);return n(o[0])+" "+r+" "+n(o[1])});return{data:t.range(),labels:i,feature:_g}},e7=function(t){return{data:t.domain(),labels:t.domain(),feature:function(r){return t(r)}}},t7=function(t,n,r){t.call("cellover",r,n)},n7=function(t,n,r){t.call("cellout",r,n)},r7=function(t,n,r){t.call("cellclick",r,n)},rt={d3_drawShapes:function(t,n,r,i,a,o){t==="rect"?n.attr("height",r).attr("width",i):t==="circle"?n.attr("r",a):t==="line"?n.attr("x1",0).attr("x2",i).attr("y1",0).attr("y2",0):t==="path"&&n.attr("d",o)},d3_addText:function(t,n,r,i,a){n.append("text").attr("class",i+"label");var o=t.selectAll("g."+i+"cell text."+i+"label").data(r).text(_g);return a&&t.selectAll("g."+i+"cell text."+i+"label").call(Qf,a),o},d3_calcType:function(t,n,r,i,a,o){var l=t.invertExtent?Z4(t,a,o):t.ticks?J4(t,r,a):e7(t),s=t.range&&t.range()||t.domain();return l.labels=K4(l.labels,i,t.domain(),s,o),n&&(l.labels=Gf(l.labels),l.data=Gf(l.data)),l},d3_filterCells:function(t,n){var r=t.data.map(function(o,l){return{data:o,label:t.labels[l]}}).filter(n),i=r.map(function(o){return o.data}),a=r.map(function(o){return o.label});return t.data=t.data.filter(function(o){return i.indexOf(o)!==-1}),t.labels=t.labels.filter(function(o){return a.indexOf(o)!==-1}),t},d3_placement:function(t,n,r,i,a,o){n.attr("transform",r),i.attr("transform",a),t==="horizontal"&&i.style("text-anchor",o)},d3_addEvents:function(t,n){t.on("mouseover.legend",function(r){t7(n,r,this)}).on("mouseout.legend",function(r){n7(n,r,this)}).on("click.legend",function(r){r7(n,r,this)})},d3_title:function(t,n,r,i){if(n!==""){var a=t.selectAll("text."+r+"legendTitle");a.data([n]).enter().append("text").attr("class",r+"legendTitle"),t.selectAll("text."+r+"legendTitle").text(n),i&&t.selectAll("text."+r+"legendTitle").call(Qf,i);var o=t.select("."+r+"legendCells"),l=t.select("."+r+"legendTitle").nodes().map(function(c){return c.getBBox().height})[0],s=-o.nodes().map(function(c){return c.getBBox().x})[0];o.attr("transform","translate("+s+","+l+")")}},d3_defaultLocale:{format:lc,formatPrefix:sc},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function gg(){var e=gc(),t="rect",n=15,r=15,i=10,a=2,o=[5],l=void 0,s=[],c="",u=!1,d="",f=rt.d3_defaultLocale,h=rt.d3_defaultFormatSpecifier,_=10,p="middle",x=rt.d3_defaultDelimiter,b=void 0,A="vertical",$=!1,S=void 0,w=void 0,k=cc("cellover","cellout","cellclick");function I(L){var G=rt.d3_calcType(e,$,o,s,f.format(h),x),F=L.selectAll("g").data([e]);F.enter().append("g").attr("class",c+"legendCells"),l&&rt.d3_filterCells(G,l);var D=L.select("."+c+"legendCells").selectAll("."+c+"cell").data(G.data),Z=D.enter().append("g").attr("class",c+"cell");Z.append(t).attr("class",c+"swatch");var W=L.selectAll("g."+c+"cell "+t+"."+c+"swatch").data(G.data);rt.d3_addEvents(Z,k),D.exit().transition().style("opacity",0).remove(),W.exit().transition().style("opacity",0).remove(),W=W.merge(W),rt.d3_drawShapes(t,W,r,n,i,S);var O=rt.d3_addText(L,Z,G.labels,c,b);D=Z.merge(D);var H=O.nodes().map(function(U){return U.getBBox()}),z=W.nodes().map(function(U){return U.getBBox()});u?W.attr("class",function(U){return c+"swatch "+G.feature(U)}):t=="line"?W.style("stroke",G.feature):W.style("fill",G.feature);var Q=void 0,V=void 0,q=p=="start"?0:p=="middle"?.5:1;A==="vertical"?function(){var U=H.map(function(ae,fe){return Math.max(ae.height,z[fe].height)});Q=function(fe,j){var K=ag(U.slice(0,j));return"translate(0, "+(K+j*a)+")"},V=function(fe,j){return"translate( "+(z[j].width+z[j].x+_)+", "+(z[j].y+z[j].height/2+5)+")"}}():A==="horizontal"&&(Q=function(ae,fe){return"translate("+fe*(z[fe].width+a)+",0)"},V=function(ae,fe){return"translate("+(z[fe].width*q+z[fe].x)+`,
          `+(z[fe].height+z[fe].y+_+8)+")"}),rt.d3_placement(A,D,Q,O,V,p),rt.d3_title(L,d,c,w),D.transition().style("opacity",1)}return I.scale=function(L){return arguments.length?(e=L,I):e},I.cells=function(L){return arguments.length?((L.length>1||L>=2)&&(o=L),I):o},I.cellFilter=function(L){return arguments.length?(l=L,I):l},I.shape=function(L,G){return arguments.length?((L=="rect"||L=="circle"||L=="line"||L=="path"&&typeof G=="string")&&(t=L,S=G),I):t},I.shapeWidth=function(L){return arguments.length?(n=+L,I):n},I.shapeHeight=function(L){return arguments.length?(r=+L,I):r},I.shapeRadius=function(L){return arguments.length?(i=+L,I):i},I.shapePadding=function(L){return arguments.length?(a=+L,I):a},I.labels=function(L){return arguments.length?(s=L,I):s},I.labelAlign=function(L){return arguments.length?((L=="start"||L=="end"||L=="middle")&&(p=L),I):p},I.locale=function(L){return arguments.length?(f=oc(L),I):f},I.labelFormat=function(L){return arguments.length?(h=Yi(L),I):I.locale().format(h)},I.labelOffset=function(L){return arguments.length?(_=+L,I):_},I.labelDelimiter=function(L){return arguments.length?(x=L,I):x},I.labelWrap=function(L){return arguments.length?(b=L,I):b},I.useClass=function(L){return arguments.length?((L===!0||L===!1)&&(u=L),I):u},I.orient=function(L){return arguments.length?(L=L.toLowerCase(),(L=="horizontal"||L=="vertical")&&(A=L),I):A},I.ascending=function(L){return arguments.length?($=!!L,I):$},I.classPrefix=function(L){return arguments.length?(c=L,I):c},I.title=function(L){return arguments.length?(d=L,I):d},I.titleWidth=function(L){return arguments.length?(w=L,I):w},I.textWrap=function(L){return arguments.length?(textWrap=L,I):textWrap},I.on=function(){var L=k.on.apply(k,arguments);return L===k?I:L},I}function i7(){var e=gc(),t="path",n=15,r=15,i=10,a=5,o=[5],l=void 0,s=[],c="",u="",d=rt.d3_defaultLocale,f=rt.d3_defaultFormatSpecifier,h="middle",_=10,p=rt.d3_defaultDelimiter,x=void 0,b="vertical",A=!1,$=void 0,S=cc("cellover","cellout","cellclick");function w(k){var I=rt.d3_calcType(e,A,o,s,d.format(f),p),L=k.selectAll("g").data([e]);l&&rt.d3_filterCells(I,l),L.enter().append("g").attr("class",c+"legendCells");var G=k.select("."+c+"legendCells").selectAll("."+c+"cell").data(I.data),F=G.enter().append("g").attr("class",c+"cell");F.append(t).attr("class",c+"swatch");var D=k.selectAll("g."+c+"cell "+t+"."+c+"swatch");rt.d3_addEvents(F,S),G.exit().transition().style("opacity",0).remove(),D.exit().transition().style("opacity",0).remove(),D=D.merge(D),rt.d3_drawShapes(t,D,r,n,i,I.feature);var Z=rt.d3_addText(k,F,I.labels,c,x);G=F.merge(G);var W=Z.nodes().map(function(U){return U.getBBox()}),O=D.nodes().map(function(U){return U.getBBox()}),H=zf(O,function(U){return U.height}),z=zf(O,function(U){return U.width}),Q=void 0,V=void 0,q=h=="start"?0:h=="middle"?.5:1;b==="vertical"?function(){var U=W.map(function(ae,fe){return Math.max(H,ae.height)});Q=function(fe,j){var K=ag(U.slice(0,j));return"translate(0, "+(K+j*a)+" )"},V=function(fe,j){return"translate( "+(z+_)+`,
              `+(O[j].y+O[j].height/2+5)+")"}}():b==="horizontal"&&(Q=function(ae,fe){return"translate( "+fe*(z+a)+",0)"},V=function(ae,fe){return"translate( "+(O[fe].width*q+O[fe].x)+`,
              `+(H+_)+")"}),rt.d3_placement(b,G,Q,Z,V,h),rt.d3_title(k,u,c,$),G.transition().style("opacity",1)}return w.scale=function(k){return arguments.length?(e=k,w):e},w.cells=function(k){return arguments.length?((k.length>1||k>=2)&&(o=k),w):o},w.cellFilter=function(k){return arguments.length?(l=k,w):l},w.shapePadding=function(k){return arguments.length?(a=+k,w):a},w.labels=function(k){return arguments.length?(s=k,w):s},w.labelAlign=function(k){return arguments.length?((k=="start"||k=="end"||k=="middle")&&(h=k),w):h},w.locale=function(k){return arguments.length?(d=oc(k),w):d},w.labelFormat=function(k){return arguments.length?(f=Yi(k),w):w.locale().format(f)},w.labelOffset=function(k){return arguments.length?(_=+k,w):_},w.labelDelimiter=function(k){return arguments.length?(p=k,w):p},w.labelWrap=function(k){return arguments.length?(x=k,w):x},w.orient=function(k){return arguments.length?(k=k.toLowerCase(),(k=="horizontal"||k=="vertical")&&(b=k),w):b},w.ascending=function(k){return arguments.length?(A=!!k,w):A},w.classPrefix=function(k){return arguments.length?(c=k,w):c},w.title=function(k){return arguments.length?(u=k,w):u},w.titleWidth=function(k){return arguments.length?($=k,w):$},w.on=function(){var k=S.on.apply(S,arguments);return k===S?w:k},w}var Ca={},Kf;function a7(){if(Kf)return Ca;Kf=1;var e=e||{};e.stringify=function(){var t={"visit_linear-gradient":function(n){return t.visit_gradient(n)},"visit_repeating-linear-gradient":function(n){return t.visit_gradient(n)},"visit_radial-gradient":function(n){return t.visit_gradient(n)},"visit_repeating-radial-gradient":function(n){return t.visit_gradient(n)},visit_gradient:function(n){var r=t.visit(n.orientation);return r&&(r+=", "),n.type+"("+r+t.visit(n.colorStops)+")"},visit_shape:function(n){var r=n.value,i=t.visit(n.at),a=t.visit(n.style);return a&&(r+=" "+a),i&&(r+=" at "+i),r},"visit_default-radial":function(n){var r="",i=t.visit(n.at);return i&&(r+=i),r},"visit_extent-keyword":function(n){var r=n.value,i=t.visit(n.at);return i&&(r+=" at "+i),r},"visit_position-keyword":function(n){return n.value},visit_position:function(n){return t.visit(n.value.x)+" "+t.visit(n.value.y)},"visit_%":function(n){return n.value+"%"},visit_em:function(n){return n.value+"em"},visit_px:function(n){return n.value+"px"},visit_literal:function(n){return t.visit_color(n.value,n)},visit_hex:function(n){return t.visit_color("#"+n.value,n)},visit_rgb:function(n){return t.visit_color("rgb("+n.value.join(", ")+")",n)},visit_rgba:function(n){return t.visit_color("rgba("+n.value.join(", ")+")",n)},visit_color:function(n,r){var i=n,a=t.visit(r.length);return a&&(i+=" "+a),i},visit_angular:function(n){return n.value+"deg"},visit_directional:function(n){return"to "+n.value},visit_array:function(n){var r="",i=n.length;return n.forEach(function(a,o){r+=t.visit(a),o<i-1&&(r+=", ")}),r},visit:function(n){if(!n)return"";var r="";if(n instanceof Array)return t.visit_array(n,r);if(n.type){var i=t["visit_"+n.type];if(i)return i(n);throw Error("Missing visitor visit_"+n.type)}else throw Error("Invalid node.")}};return function(n){return t.visit(n)}}();var e=e||{};return e.parse=function(){var t={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},n="";function r(V){var q=new Error(n+": "+V);throw q.source=n,q}function i(){var V=a();return n.length>0&&r("Invalid input not EOF"),V}function a(){return S(o)}function o(){return l("linear-gradient",t.linearGradient,c)||l("repeating-linear-gradient",t.repeatingLinearGradient,c)||l("radial-gradient",t.radialGradient,f)||l("repeating-radial-gradient",t.repeatingRadialGradient,f)}function l(V,q,U){return s(q,function(ae){var fe=U();return fe&&(z(t.comma)||r("Missing comma before color stops")),{type:V,orientation:fe,colorStops:S(w)}})}function s(V,q){var U=z(V);if(U){z(t.startCall)||r("Missing (");var ae=q(U);return z(t.endCall)||r("Missing )"),ae}}function c(){return u()||d()}function u(){return H("directional",t.sideOrCorner,1)}function d(){return H("angular",t.angleValue,1)}function f(){var V,q=h(),U;return q&&(V=[],V.push(q),U=n,z(t.comma)&&(q=h(),q?V.push(q):n=U)),V}function h(){var V=_()||p();if(V)V.at=b();else{var q=x();if(q){V=q;var U=b();U&&(V.at=U)}else{var ae=A();ae&&(V={type:"default-radial",at:ae})}}return V}function _(){var V=H("shape",/^(circle)/i,0);return V&&(V.style=O()||x()),V}function p(){var V=H("shape",/^(ellipse)/i,0);return V&&(V.style=Z()||x()),V}function x(){return H("extent-keyword",t.extentKeywords,1)}function b(){if(H("position",/^at/,0)){var V=A();return V||r("Missing positioning value"),V}}function A(){var V=$();if(V.x||V.y)return{type:"position",value:V}}function $(){return{x:Z(),y:Z()}}function S(V){var q=V(),U=[];if(q)for(U.push(q);z(t.comma);)q=V(),q?U.push(q):r("One extra comma");return U}function w(){var V=k();return V||r("Expected color definition"),V.length=Z(),V}function k(){return L()||F()||G()||I()}function I(){return H("literal",t.literalColor,0)}function L(){return H("hex",t.hexColor,1)}function G(){return s(t.rgbColor,function(){return{type:"rgb",value:S(D)}})}function F(){return s(t.rgbaColor,function(){return{type:"rgba",value:S(D)}})}function D(){return z(t.number)[1]}function Z(){return H("%",t.percentageValue,1)||W()||O()}function W(){return H("position-keyword",t.positionKeywords,1)}function O(){return H("px",t.pixelValue,1)||H("em",t.emValue,1)}function H(V,q,U){var ae=z(q);if(ae)return{type:V,value:ae[U]}}function z(V){var q,U;return U=/^[\n\r\t\s]+/.exec(n),U&&Q(U[0].length),q=V.exec(n),q&&Q(q[0].length),q}function Q(V){n=n.substr(V)}return function(V){return n=V.toString(),i()}}(),Ca.parse=e.parse,Ca.stringify=e.stringify,Ca}var o7=a7(),l7=Object.defineProperty,jo=(e,t)=>{for(var n in t)l7(e,n,{get:t[n],enumerable:!0})};Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null});var lt={none:"none",ordinal:"ordinal",time:"time",linear:"linear"},pc=e=>{let t="crossValues",n=null,r=null,i=()=>{let a=o=>{let l=n?e[t].filter(s=>n==s.name):e[t];return t=="crossValues"&&l.length>1?!1:l.some(s=>o.includes(s.type))};return e[t].length===0?lt.none:r!=lt.time&&a(["datetime","date"])?lt.time:r!=lt.linear&&a(["integer","float"])||r==lt.ordinal?lt.linear:lt.ordinal};return i.settingName=(...a)=>a.length?(t=a[0],i):t,i.settingValue=(...a)=>a.length?(n=a[0],i):n,i.excludeType=(...a)=>a.length?(r=a[0],i):r,i},pg={};jo(pg,{domain:()=>d7,labelFunction:()=>mg,scale:()=>f7});var s7=e=>{let t=n=>(r,i)=>r===void 0?i:i===void 0?r:n(r,i);return e.reduce((n,r)=>[t(Math.min)(n[0],r[0]),t(Math.max)(n[1],r[1])],[void 0,void 0])},Wo=e=>Array.isArray(e)?e.flat(1/0):[e],c7=1,bg=e=>{let t=n=>e(n);return ze(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(...n),t):Math.max(e.bandwidth(),c7),t},u7=e=>{let t=n=>e(n);return ze(t,e),t.ticks=function(){return[]},t},f7=()=>u7(bg(na())),d7=()=>{let e=["crossValue"],t="horizontal",n=i=>{let a=Wo(i);return r([...new Set(a.map(o=>o[e[0]]))])},r=i=>t=="vertical"?i.reverse():i;return n.valueName=(...i)=>i.length?(e=[i[0]],n):e[0],n.valueNames=(...i)=>i.length?(e=i[0],n):e,n.orient=(...i)=>i.length?(t=i[0],n):t,n},mg=e=>t=>t[e].join("|"),bc={};jo(bc,{component:()=>p7,domain:()=>vg,labelFunction:()=>xg,scale:()=>g7,tickFormatFunction:()=>kg});var wg=()=>{let e=[0,0],t="percent",n=r=>{switch(t){case"domain":{r[0]-=e[0],r[1]+=e[1];break}case"percent":{let i=r[1]-r[0];r[0]-=e[0]*i,r[1]+=e[1]*i;break}default:throw new Error("Unknown padUnit: "+t)}return r};return n.pad=function(...r){return r.length?(e=r[0],n):e},n.padUnit=function(...r){return r.length?(t=r[0],n):t},n},h7=function(){let e=[function(a){return a}],t=null,n=[],r=wg(),i=function(a){let o=new Array(a.length),l=!0,s=!1,c,u=e[Symbol.iterator]();try{for(let f;!(l=(f=u.next()).done);l=!0){let h=f.value;for(let _=0;_<a.length;_++){let p=h(a[_],_);Array.isArray(p)?o.push.apply(o,Rl(p)):o.push(p)}}}catch(f){s=!0,c=f}finally{try{!l&&u.return&&u.return()}finally{if(s)throw c}}let d=[On(o),Jn(o)];if(d[0]=d[0]==null?On(n):On([d[0]].concat(Rl(n))),d[1]=d[1]==null?Jn(n):Jn([d[1]].concat(Rl(n))),t!=null){let f=Math.max(Math.abs(d[1]-t),Math.abs(d[0]-t));d[0]=t-f,d[1]=t+f}return r(d)};return i.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.pad=function(...a){return a.length?(r.pad(a[0]),i):r.pad},i.padUnit=function(...a){return a.length?(r.padUnit(a[0]),i):r.padUnit},i.include=function(...a){return a.length?(n=a[0],i):n},i.symmetricalAbout=function(...a){return a.length?(t=a[0],i):t},i.paddingStrategy=function(...a){return a.length?(r=a[0],i):r},i},Rl=function(e){if(Array.isArray(e)){let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}else return Array.from(e)},_7=1e7,yg=(e,t)=>{let n=Math.ceil(Math.abs(Math.log10(t-e)))+1;return r=>Math.abs(r)>=_7?yr(".3s")(r):Number.isInteger(r)?yr(",.0f")(r):yr(`,.${n}f`)(r)};function mc(e){return e.getRootNode().host}function qo(e){return e.closest("#container.chart")}var g7=()=>Ln(),vg=()=>{let e=h7().pad([0,.1]).padUnit("percent"),t=["crossValue"],n=a=>(e.accessors(t.map(o=>l=>parseFloat(l[o]))),i(Wo(a)));ze(n,e);let r=a=>{let o=t.map(l=>a.map(s=>s[l]).sort((s,c)=>s-c).filter((s,c,u)=>c===0||s!==u[c-1]).reduce((s,c,u,d)=>u===0||s<=c-d[u-1]?s:Math.abs(c-d[u-1])));return Math.min(...o)},i=a=>{if(e.padUnit()=="domain"){let o=r(a);return e.pad([o/2,o/2])(a)}else return e(a)};return n.valueName=(...a)=>a.length?(t=[a[0]],n):t[0],n.valueNames=(...a)=>a.length?(t=a[0],n):t,n},xg=e=>t=>t[e][0],kg=yg,p7=e=>{let t=null,n="horizontal",r=null,i=(c,u)=>{try{return qo(c.node()).querySelector(".cartesian-chart").querySelector(`.${u}-axis`)}catch{return null}},a=c=>{let u=ue(c).select("text").node();u.style.fontSize="80%"},o=(c,u)=>{let d=c.getBoundingClientRect();u.each((f,h,_)=>{let p=ue(_[h]).node().getBoundingClientRect();(n=="vertical"&&d.width<p.width||n=="horizontal"&&d.height<p.height)&&a(_[h])})},l=(c,u,d)=>{let f=i(c,u);f&&o(f,c)},s=()=>({bottom:Ks,left:Js,top:Qs,right:Lo,decorate:l});return s.domain=(...c)=>c.length?(t=c[0],s):t,s.orient=(...c)=>c.length?(n=c[0],s):n,s.settingName=(...c)=>c.length?(r=c[0],s):r,s},Sg={};jo(Sg,{domain:()=>m7,labelFunction:()=>Mg,scale:()=>b7});var b7=()=>Ph(),m7=()=>{let e=jv(),t=["crossValue"],n=a=>(e.accessors(t.map(o=>l=>new Date(l[o]))),i(Wo(a)));ze(n,e,Ft("include","paddingStrategy"));let r=a=>{let o=t.map(l=>a.map(s=>new Date(s[l]).getTime()).sort((s,c)=>s-c).filter((s,c,u)=>c===0||s!==u[c-1]).reduce((s,c,u,d)=>u===0||Math.abs(s)<=Math.abs(c-d[u-1])?Math.abs(s):Math.abs(c-d[u-1])));return Math.min(...o)},i=a=>{let o=Math.abs(r(a));return e.padUnit("domain").pad([o/2,o/2])(a)};return n.valueName=(...a)=>a.length?(t=[a[0]],n):t[0],n.valueNames=(...a)=>a.length?(t=a[0],n):t,n},Mg=e=>t=>new Date(t[e][0]),Eg={};jo(Eg,{component:()=>E7,domain:()=>M7,labelFunction:()=>Ag,scale:()=>S7});var w7=(...e)=>{let t={},n=r=>{for(let i of Object.keys(t))r[i](t[i]);return r};for(let r of e)n[r]=(...i)=>i.length?(t[r]=i[0],n):t[r];return n},Bo=(e,t,n)=>{let r=6,i=6,a=w7("tickFormat","ticks","tickArguments","tickValues","tickPadding"),o=(...p)=>{},l=null,s=Qe("g","group"),c=Qe("path","domain"),u=(p,x)=>f()?`translate(${x}, ${p})`:`translate(${p}, ${x})`,d=p=>f()?p.map(x=>[x[1],x[0]]):p,f=()=>e==="left"||e==="right",h=p=>{if(!l){a(t(n).decorate(o))(p);return}p.each((x,b,A)=>{let $=A[b],S=ue($),w=e==="bottom"||e==="right"?1:-1,k=n.range(),I=d([[k[0],w*r],[k[0],0],[k[1],0],[k[1],w*r]]);c(S,[x]).attr("d",Rr()(I)).attr("stroke","#000").attr("fill","none");let L=s(S,l),G=D=>Array.isArray(i)?i[D]:i,F=D=>{let Z=0;for(let W=0;W<D;W++)Z+=G(W);return Z};L.attr("transform",(D,Z)=>u(0,w*F(Z))).each((D,Z,W)=>{let O=ue(W[Z]),H=_(n,D);a(t(H)).decorate((z,Q)=>o(z,Q,Z)).tickSizeInner(G(Z)).tickOffset(z=>H.step(z)/2)(O),O.select("path.domain").attr("visibility","hidden")}),L.exit().attr("transform",(D,Z)=>u(0,w*F(Z)))})},_=(p,x)=>{function b(A){let $=A.domain;return $.reduce((S,w)=>S+p(w),0)/$.length}return b.ticks=()=>x,b.tickFormat=()=>A=>A.text,b.copy=()=>_(p,x),b.step=A=>A.domain.length*p.step(),ze(b,p,Ft("ticks","step","copy")),b};return h.tickSize=(...p)=>p.length?(i=r=Number(p[0]),h):i,h.tickSizeInner=(...p)=>p.length?(i=Array.isArray(p[0])?p[0]:Number(p[0]),h):i,h.tickSizeOuter=(...p)=>p.length?(r=Number(p[0]),h):r,h.decorate=(...p)=>p.length?(o=p[0],h):o,h.groups=(...p)=>p.length?(l=p[0],h):l,ze(h,a),h},y7=e=>Bo("top",x_,e),v7=e=>Bo("bottom",k_,e),x7=e=>Bo("left",S_,e),k7=e=>Bo("right",M_,e),S7=()=>bg(na()).padding(.5),M7=()=>{let e=["crossValue"],t="horizontal",n=i=>{let a=Wo(i);return r([...Array.from(new Set(a.map(o=>o[e[0]])))])},r=i=>t=="vertical"?i.reverse():i;return n.valueName=(...i)=>i.length?(e=[i[0]],n):e[0],n.valueNames=(...i)=>i.length?(e=i[0],n):e,n.orient=(...i)=>i.length?(t=i[0],n):t,n},Ag=(e,t)=>n=>n[e].map((r,i)=>{let a=t.crossValues[i].type;return a==="datetime"?new Date(r).toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",fractionalSecondDigits:3}):a==="date"?new Date(r).toLocaleDateString():r}).join("|"),E7=e=>{let t="horizontal",n="crossValues",r=null,i=()=>{let f=e[n].length>1,h=o(r),_=h.map(l),p=f?_.map(S=>S.size):_[0].size,x=_.reduce((S,w)=>S+w.size,0),b=S=>w=>{let k=S(w);return f&&k.groups(h).tickSizeInner(p).tickSizeOuter(x),t!=="horizontal"&&k.tickPadding(10),k},A=(S,w,k)=>{let I=_[k].rotation;t==="horizontal"&&d(S,I),s(S,I)},$=a(f);return{bottom:b($.bottom),left:b($.left),right:b($.right),top:b($.top),size:`${x+10}px`,decorate:A}},a=f=>f?{bottom:v7,left:x7,top:y7,right:k7}:{bottom:k_,left:S_,top:x_,right:M_},o=f=>{let h=[];return f.forEach(_=>{(_&&_.split?_.split("|"):[_]).forEach((p,x)=>{for(;h.length<=x;)h.push([]);let b=h[x];b.length>0&&b[b.length-1].text===p?b[b.length-1].domain.push(_):b.push({text:p,domain:[_]})})}),h.reverse()},l=f=>{let h=e.size.width,_=Math.max(...f.map(p=>p.text?p.text.length:0));return t==="horizontal"?f&&f.length*16>h-100?{size:_*5+10,rotation:90}:f&&f.length*(_*6+10)>h-100?{size:_*3+20,rotation:45}:{size:25,rotation:0}:{size:_*5+10,rotation:0}},s=(f,h)=>{let _=$=>{let S=$.indexOf(",")!==-1?",":" ",w=$.substring($.indexOf("(")+1,$.indexOf(")")).split(S).map(k=>parseInt(k));for(;w.length<2;)w.push(0);return w},p=h?($,S)=>$.x+$.width+14>S.x+S.width:($,S)=>$.x<=S.x+S.width&&S.x<=$.x+$.width&&$.y<=S.y+S.height&&S.y<=$.y+$.height,x=($,S)=>$.x>=S.x&&$.x+$.width<=S.x+S.width&&$.y>=S.y&&$.y+$.height<=S.y+S.height,b=t=="horizontal"?c(f):null,A=[];f.each(($,S,w)=>{let k=ue(w[S]),I=_(k.attr("transform")),L=k.node().getBBox(),G={x:L.x+I[0],y:L.y+I[1],width:L.width,height:L.height},F=A.some(D=>p(D,G))||b&&!x(G,b);k.attr("visibility",F?"hidden":""),F||A.push(G)})},c=f=>{let h=qo(f.node());if(h===null)return;let _=h.querySelector(".cartesian-chart"),p=_.querySelector(".x-axis"),x=_.getBoundingClientRect(),b=p.getBoundingClientRect();return{x:x.left-b.left,width:x.width,y:x.top-b.top,height:x.height}},u=f=>f?f<60?`rotate(-${f} 5 5)`:`rotate(-${f} 3 7)`:"translate(0, 8)",d=(f,h)=>{let _=u(h),p=h?"end":"";f.each((x,b,A)=>{ue(A[b]).select("text").attr("transform",_).style("text-anchor",p)})};return i.orient=(...f)=>f.length?(t=f[0],i):t,i.settingName=(...f)=>f.length?(n=f[0],i):n,i.domain=(...f)=>f.length?(r=f[0],i):r,i},A7={none:pg,ordinal:Eg,time:Sg,linear:bc},gt=e=>{let t=null,n="horizontal",r="crossValues",i,a=["crossValue"],o=null,l=null,s=["include","paddingStrategy","pad"],c={},u=h=>{let _=pc(e).excludeType(t).settingName(r).settingValue(i)(),p=A7[_],x=p.domain().valueNames(a);s.forEach(S=>{c[S]&&x[S]&&x[S](c[S])}),x.orient&&x.orient(n);let b=x(h);o!==null&&(b=o(b)),l&&typeof b[0]=="number"&&(l[0]=b[0]=Math.min(b[0],l[0]),l[1]=b[1]=Math.max(b[1],l[1]));let A=p.hasOwnProperty("component")?d(p,b,h):f(),$=p==bc?kg(b[0],b[1]):void 0;return{scale:p.scale(),domain:b,domainFunction:x,labelFunction:p.labelFunction,component:{bottom:A.bottom,left:A.left,top:A.top,right:A.right},size:A.size,decorate:A.decorate,label:e[r].map(S=>S.name).join(", "),tickFormatFunction:$}},d=(h,_,p)=>h.component(e).orient(n).settingName(r).domain(_)(p),f=()=>({bottom:Ks,left:Js,top:Qs,right:Lo,decorate:()=>{}});return u.memoValue=(...h)=>h.length?(l=h[0],u):l,u.excludeType=(...h)=>h.length?(t=h[0],u):t,u.orient=(...h)=>h.length?(n=h[0],u):n,u.settingName=(...h)=>h.length?(r=h[0],u):r,u.settingValue=(...h)=>h.length?(i=h[0],u):i,u.valueName=(...h)=>h.length?(a=[h[0]],u):a[0],u.valueNames=(...h)=>h.length?(a=h[0],u):a,u.modifyDomain=h=>h?(o=h,u):o,s.forEach(h=>{u[h]=(..._)=>_.length?(c[h]=_[0],u):c[h]}),u},Ir=(e,t)=>$g(e,t,(n,r)=>n.svgPlotArea(r),!1),wc=(e,t)=>$g(e,t,(n,r)=>n.canvasPlotArea(r).svgPlotArea(b_()),!0),$g=(e,t,n,r)=>{let i=null,a=null,o=$3({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&o.xDecorate(e.decorate),t.decorate&&o.yDecorate(t.decorate),o.xPaddingInner&&o.xPaddingInner(1),o.xPaddingOuter&&o.xPaddingOuter(.5),o.yPaddingInner&&o.yPaddingInner(1),o.yPaddingOuter&&o.yPaddingOuter(.5),o.axisSplitter=(...s)=>s.length?(i=s[0],o):i,o.altAxis=(...s)=>s.length?(a=s[0],o):a,o.plotArea=function(...s){return s.length==0?r?this.canvasPlotArea():this.svgPlotArea():n(this,...s)};let l=o.decorate();return o.decorate((s,c)=>{let u=s.select("d3fc-svg.plot-area"),d=u.select("svg").node();d.setAttribute("viewBox",`0 0 ${u.node().clientWidth} ${u.node().clientHeight}`),d.setAttribute("preserveAspectRatio","none");for(let f of["x-axis","y-axis"])s.select(`d3fc-svg.${f} svg`).node().setAttribute("preserveAspectRatio","none");if(l(s,c),r){let f=s.select(".svg-plot-area").node(),h=s.select(".canvas-plot-area").node();Mx([f,h]).order()}if(i){if(i.haveSplit()){let f=i.altData(),h=Qe("d3fc-svg","y2-axis").key(b=>b),_=Qe("g","y-series").key(b=>b);s.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",a.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let p=a.scale.domain(a.domain),x=a.component.right(p);if(x.tickFormat(a.tickFormatFunction),a.decorate&&x.decorate(a.decorate),h(s,["right"]).attr("class",b=>`y-axis ${b}-axis`).on("measure",function(b,A){let{width:$,height:S}=b.detail;A==="left"&&ue(b.currentTarget).select("svg").attr("viewBox",`${-$} 0 ${$} ${S}`).attr("preserveAspectRatio","none"),p.range([S,0])}).on("draw",function(b,A){ue(b.currentTarget).select("svg").call(x)}),r){let b=A=>{let $=o.plotArea();$.context(A.node().getContext("2d")).xScale(e.scale);let S=[t.scale,p];[c,f].forEach((w,k)=>{$.yScale(S[k]),$(w)})};s.select("d3fc-canvas.plot-area").on("draw",function(A,$){b(ue(A.currentTarget).select("canvas"))})}else{let b=function(A){let $=o.plotArea();$.xScale(e.scale);let S=[t.scale,p];_(A,[c,f]).each((w,k,I)=>{$.yScale(S[k]),ue(I[k]).datum(w).call($)})};s.select("d3fc-svg.plot-area").on("draw",function(A,$){b(ue(A.currentTarget).select("svg"))})}}i(s)}}),o};function Pt(e,t,n){let r=e.select(t);return r.size()>0?r:n()}function Gn(e,t,n="right"){if(n==="right"||n==="bottom")return e[n]<t[n];if(n==="left"||n==="top")return e[n]>t[n];throw`Direction being checked for overflow is invalid: ${n}`}function Jf(e,t,n,r=0){let i=e==="x"?"width":"height",a=t[e],o=t[e]+t[i],l=n[e],s=n[e]+n[i],c=l+r>a&&l-r<o,u=s+r>a&&s-r<o,d=l+r<a&&s-r>o;return c||u||d}var $7=`<ul id="tooltip-values"></ul>
`;function tr(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString([],{dateStyle:"short",timeStyle:"medium"});case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function Tg(e,t){return t.crossValues.length===0?[]:e.crossValue.length===0?[]:((e.crossValue.split?e.crossValue.split("|"):Array.isArray(e.crossValue)?e.crossValue:[e.crossValue])||[e.key]).map((n,r)=>({name:t.crossValues[r].name,value:tr(t.crossValues[r].type,n)}))}function Cg(e,t){var r;if(t.splitValues.length===0)return[];let n=[e.mainValue];return e.key?n=e.key.split("|"):(r=e.mainValue)!=null&&r.split&&(n=e.mainValue.split("|")),t.splitValues.map((i,a)=>({name:i.name,value:tr(i.type,n[a])}))}function Ng(e,t){return t.mainValues.length>1?e.mainValues?t.mainValues.map((n,r)=>({name:n.name,value:tr(n.type,e.mainValues[r])})):t.mainValues.map(n=>({name:n.name,value:tr(n.type,e.row[T7(e.key,n,t.realValues)])})):[{name:t.mainValues[0].name,value:tr(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}function T7(e,t,n){if(!e)return t.name;if(e.includes("|")){let r=e.split("|");return r[r.length-1]===t.name?e:`${n.includes(r[r.length-1])?r.slice(0,r.length-1).join("|"):e}|${t.name}`}return n.includes(e)?t.name:`${e}|${t.name}`}function C7(e,t,n){let r=Tg(t,n).concat(Cg(t,n)).concat(Ng(t,n));N7(e,r)}function N7(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each(function(n){ue(this).text(`${n.name}: `).append("b").text(O7(n.value))})}var O7=e=>e==null?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),Zf=e=>[e.name,"==",e.value],yc=(e,t,n)=>{let r=Ng(t,n).map(l=>l.name),i=Tg(t,n).map(Zf),a=Cg(t,n).map(Zf),o=n.filter.concat(i).concat(a);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:o},row:t.row}}))},L7=()=>{let e=null,t=n=>{let r=n.node();n.on("click",(i,a)=>yc(r,a,e))};return t.settings=(...n)=>n.length?(e=n[0],t):e,t},Ho=()=>{let e=!1,t=null,n=null,r=!1,i=a=>{let o=a.node();if(!o||!o.isConnected){ed(t);return}let l=ue(qo(o));t=z7(l);let s=function(u,d){C7(t,d,n);let f=a.nodes(),h=f.indexOf(this);R7(l.node(),f[h],t,r),ue(f[h]).style("opacity","0.7")},c=function(u,d){ed(t);let f=a.nodes(),h=f.indexOf(this);f&&ue(f[h]).style("opacity","1")};e?a.each(function(u){return s.call(this,void 0,u)}):(a.on("mouseover",s).on("mouseout",c),L7().settings(n)(a))};return i.alwaysShow=(...a)=>a.length?(e=a[0],i):e,i.centered=(...a)=>a.length?(r=a[0],i):r,i.settings=(...a)=>a.length?(n=a[0],i):n,i};function z7(e){return Pt(e,"div.tooltip",()=>e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html($7))}function R7(e,t,n,r){let i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=a.left+a.width/2-i.left,l=a.top-i.top+e.scrollTop;r&&(l=a.top+a.height/2-i.top+e.scrollTop),n.style("left",`${o}px`).style("top",`${l}px`).style("opacity",.9),r&&([o,l]=V7(n,i)),D7(n,i,o,l,r)}function V7(e,t){let n=e.node().getBoundingClientRect(),r=n.width/2,i=n.left-r-t.left;e.style("left",`${i}px`);let a=n.height/2,o=n.top-a-t.top;return e.style("top",`${o}px`),[i,o]}function D7(e,t,n,r,i=!1){let a=e.node().getBoundingClientRect();if(Gn(t,a)){let o=a.right-t.right;e.style("left",`${n-o}px`)}if(Gn(t,a,"bottom")){let o=a.bottom-t.bottom;e.style("top",`${r-o}px`)}if(i){if(Gn(t,a,"left")){let o=a.left-t.left;e.style("left",`${n-o}px`)}if(Gn(t,a,"top")){let o=a.top-t.top;e.style("top",`${r-o}px`)}}}function ed(e){e&&e.style("opacity",0)}function Og(e,t){let n=e.mainValues.length>1?Zx(ls()):ls();return n=n.decorate(r=>{Ho().settings(e)(r),r.style("fill",i=>t(i.key))}),Gs(I7(n)).crossValue(r=>r.crossValue).mainValue(r=>r.mainValue?r.mainValue:0).baseValue(r=>r.baseValue)}var I7=e=>{let t=n=>e(n);return ze(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(Math.max(n[0],1)),t):e.bandwidth(),t};function Yo(e){return e.split("|").slice(0,-1).join("|")}function Lg(e,t){return e.data.map(n=>Object.entries(n).filter(([r,i])=>r.split("|").at(-1)===t&&!!i).map(([r,i])=>i)).flat()}function ca(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return Rn().settings(e).domain(n)()}function P7(e,t){let n=Lg(e,t),r=[...new Set(n)].sort();return Rn().settings(e).domain(r)()}function go(e,t){let n=[...new Set(t)];return Rn().settings(e).domain(n)()}function F7(e){let t=e.data[0]??{},n=Object.keys(t).filter(i=>i!=="__ROW_PATH__").map(i=>Yo(i)),r=[...new Set(n)];return Rn().settings(e).domain(r)()}function Rn(){let e=null,t=null,n={},r=a=>Xo(a,n.colorStyles&&n.colorStyles.opacity),i=()=>{let a=n.colorStyles,o=t||[a.series];if(o||e.length>1){let l=e.length>1?a.scheme:o;return ta(l.map(r)).domain(e)}return null};return i.domain=(...a)=>a.length===0?e:(e=a[0],i),i.defaultColors=(...a)=>a.length?(t=a[0],i):t,i.mapFunction=(...a)=>a.length?(r=a[0],i):r,i.settings=(...a)=>a.length?(n=a[0],i):n,i}function ua(e){return Ki(1)(e)}function Xo(e,t=.5){return Ki(t)(e)}function Ki(e){return t=>{let n=on(t);return n!=null&&(n.opacity=e),n+""}}var U7={none:mg,ordinal:Ag,time:Mg,linear:xg},Pr=e=>{let t=pc(e),n="__ROW_PATH__",r=U7[t()],i=(a,o)=>r(n,e)(a);return ze(i,t),i.valueName=(...a)=>a.length?(n=a[0],i):n,i};function Go(e,t,{stack:n=!1,excludeEmpty:r=!1}={}){let i=t||e.data;return e.splitValues.length>0?j7(e,i,{stack:n,excludeEmpty:r}):[i]}function j7(e,t,{stack:n=!1,excludeEmpty:r=!1}){let i={};return t.forEach(a=>{let o={},l={};Object.keys(a).filter(s=>s!=="__ROW_PATH__").filter(s=>!r||a[s]!=null&&a[s]!=null).forEach(s=>{let c=s.split("|"),u=c[c.length-1],d=a[s]||0,f=`${u}${d>=0?"+ve":"-ve"}`,h=c.slice(0,c.length-1).join("|"),_=l[h]=l[h]||{__ROW_PATH__:a.__ROW_PATH__},p=o[f]||0;_.__KEY__=h,n?(_[u]=p+d,_[`__BASE_VALUE__${u}`]=p,o[f]=_[u]):_[u]=d,_.row=a}),Object.keys(l).forEach(s=>{(i[s]=i[s]||[]).push(l[s])})}),Object.keys(i).map(a=>{let o=i[a];return o.key=a,o})}function W7(e,t){let n={stack:!1},r=Go(e,t,n).map(i=>Rg(e,i,n));return e.mainValues.length>1?r.reduce((i,a)=>i.concat(a)):r}function zg(e,t){let n={stack:!0};return Go(e,t,n).map(r=>Rg(e,r,n))}function q7(e,t,{stack:n=!1}){let r=Pr(e);return i=>{let a=l=>n&&l[`__BASE_VALUE__${i.name}`]||0,o=t.map((l,s)=>({crossValue:r(l,s),mainValue:l[i.name]?l[i.name]:null,baseValue:a(l),key:l.__KEY__?`${l.__KEY__}|${i.name}`:i.name,row:l.row||l}));return o.key=o[0].key,o}}function Rg(e,t,{stack:n=!1}){let r=q7(e,t,{stack:n});return e.mainValues.length>1?e.mainValues.map(r):r(e.mainValues[0])}var B7=`<span id="up-arrow">&#9650;</span>
<span id="page-text"></span>
<span id="down-arrow">&#9660;</span>
`;function H7(e){let t=e.select("g.legendCells"),n=e.node().getBoundingClientRect();if(!Gn(n,t.node().getBoundingClientRect()))return;let r=e.select(".legend");t.selectAll(".label").text((i,a,o)=>{let l=o[a];if(Gn(n,l.getBoundingClientRect())){let s=Y7(l,r,n);return`${i.substring(0,s-3)}...`}else return i})}function Y7(e,t,n){let r=e.getBoundingClientRect(),i=t.node().createSVGPoint(),a=3;return i.x=n.right-r.left-a,i.y=0,e.getCharNumAtPosition(i)}var _r=10;function gr(e,t,n){let r=ue(mc(e).getContainer()).node().getBoundingClientRect(),i=e.getBoundingClientRect(),a={top:i.top+n-_r,right:i.right+t+_r,bottom:i.bottom+n+_r,left:i.left+t-_r},o={x:t,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach(l=>{if(Gn(r,a,l.edge)){let s=a[l.edge]-r[l.edge];o[l.dimension]=o[l.dimension]-s}}),o}var vc="resize.for-dragging";function X7(){let e=!0,t=null,n=r=>{let i=r.node(),a=i.getRootNode().host.closest("perspective-viewer");i.style.cursor="move",t.legend&&(i.style.left=t.legend.left,i.style.top=t.legend.top);let o=us().on("drag",function(l){let s=gr(this,l.dx,l.dy);this.style.left=`${this.offsetLeft+s.x}px`,this.style.top=`${this.offsetTop+s.y}px`;let c={left:this.style.left,top:this.style.top};t.legend={...t.legend,...c},e=K7(i)?Q7(i):G7(i,e)});o.on("end",function(l){ue(window).on(vc,null),a==null||a.dispatchEvent(new Event("perspective-config-update"))}),r.call(o)};return n.settings=(...r)=>r.length?(t=r[0],n):t,n}function G7(e,t){return t!==!1&&ue(window).on(vc,function(){let n=gr(e,0,0);e.style.left=`${e.offsetLeft+n.x}px`,e.style.top=`${e.offsetTop+n.y}px`}),!1}function Q7(e){return ue(window).on(vc,null),e.style.left="auto",!0}function K7(e){let t=e.getBoundingClientRect(),n=ue(qo(e)).node().getBoundingClientRect(),r=5;return t.right+_r+r>=n.right&&t.top-_r-r<=n.top}var td="horizontal-drag-handle",nd="vertical-drag-handle",J7="corner-drag-handle",Vg="dragHandles",rd=0,Mn="resize";function Z7(){let e=9,t=3,n=null,r={height:100,width:100},i={height:null,width:null},a=[],o=(u,d)=>a.filter(f=>f.event===u).forEach(f=>f.execute(d)),l=u=>{if(t9(u))return;let d={left:j=>o(Mn,{horizontal:H(j),vertical:!1}),top:j=>o(Mn,{horizontal:!1,vertical:Q(j)}),right:j=>o(Mn,{horizontal:z(j),vertical:!1}),bottom:j=>o(Mn,{horizontal:!1,vertical:V(j)}),topleft:j=>o(Mn,{horizontal:H(j),vertical:Q(j)}),topright:j=>o(Mn,{horizontal:z(j),vertical:Q(j)}),bottomright:j=>o(Mn,{horizontal:z(j),vertical:V(j)}),bottomleft:j=>o(Mn,{horizontal:H(j),vertical:V(j)})},f=u.node();n.legend&&(f.style.height=n.legend.height,f.style.width=n.legend.width);let h=f.getBoundingClientRect(),_=u.append("svg").attr("id",Vg).attr("width",h.width).attr("height",h.height),p=_.append("g"),x=j=>j==="left"||j==="right",b={left:0,top:e,right:h.width-e,bottom:e},A={left:e,top:0,right:e,bottom:h.height-e},$=["left","top","right","bottom"],[S,w,k,I]=$.map(j=>p.append("rect").attr("id",`drag${j}`).attr("class",x(j)?nd:td).attr("y",A[j]).attr("x",b[j]).attr("height",x(j)?h.height-e*2:e).attr("width",x(j)?e:h.width-e*2).attr("fill",x(j)?"lightgreen":"lightblue").attr("fill-opacity",rd).style("z-index",t).attr("cursor",x(j)?"ew-resize":"ns-resize").call(us().on("drag",d[j]))),L=j=>`${j[0]}${j[1]}`,G={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},F=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]],[D,Z,W,O]=F.map(j=>p.append("rect").attr("id",`drag${L(j)}`).attr("class",`${J7} ${j[0]} ${j[1]}`).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",rd).style("z-index",t).attr("cursor",`${G[L(j)]}-resize`).call(us().on("drag",d[L(j)])));fe("height","y",I),fe("width","x",k),ae(_);function H(j){let K=c(gr(S.node(),j.x,0).x,_,"width",(ce,ke)=>ce-ke);return f.style.left=`${f.offsetLeft+K}px`,f.style.width=`${f.offsetWidth-K}px`,q(),U(k,K,"width","x")}function z(j){let K=-c(gr(k.node(),j.dx,0).x,_,"width",(ce,ke)=>ce+ke);return s(K,"x",k,j)?!1:(f.style.width=`${f.offsetWidth-K}px`,q(),U(k,K,"width","x"))}function Q(j){let K=c(gr(w.node(),0,j.y).y,_,"height",(ce,ke)=>ce-ke);return f.style.top=`${f.offsetTop+K}px`,f.style.height=`${f.offsetHeight-K}px`,q(),U(I,K,"height","y")}function V(j){let K=-c(gr(I.node(),0,j.dy).y,_,"height",(ce,ke)=>ce+ke);return s(K,"y",I,j)?!1:(f.style.height=`${f.offsetHeight-K}px`,q(),U(I,K,"height","y"))}function q(){let j={top:f.style.top,left:f.style.left,height:f.style.height,width:f.style.width};n.legend={...n.legend,...j}}function U(j,K,ce,ke){return r9(_,ce,K),n9(j,ke,K),e9(_,K,ce,ce==="height"?nd:td),ae(_),K!=0}function ae(j){D.attr("y",0),Z.attr("y",0).attr("x",j.attr("width")-e),W.attr("y",j.attr("height")-e).attr("x",j.attr("width")-e),O.attr("y",j.attr("height")-e).attr("x",0)}function fe(j,K,ce){i[j]&&i[j]<h[j]&&(f.style[j]=`${i[j]}px`,U(ce,h[j]-i[j],j,K))}};l.on=(u,d)=>(a.push({event:u,execute:d}),l),l.zIndex=u=>(t=u,l),l.settings=(...u)=>u.length?(n=u[0],l):n,l.minWidth=u=>(r.width=u,i.width&&(i.width=Math.max(r.width,i.width)),l),l.minHeight=u=>(r.height=u,i.height&&(i.height=Math.max(r.height,i.height)),l),l.handleWidth=u=>(e=u,l),l.maxWidth=u=>(i.width=u,r.width=Math.min(r.width,i.width),l),l.maxHeight=u=>(i.height=u,r.height=Math.min(r.height,i.height),l);function s(u,d,f,h){let _=(x,b,A,$)=>x<0&&$[b]<Number(A.attr(b)),p=(x,b,A,$)=>x>0&&$[b]>Number(A.attr(b));return _(u,d,f,h)||p(u,d,f,h)}function c(u,d,f,h){let _=h(Number(d.attr(f)),u);if(_<r[f]){let p=r[f]-_;return h(u,p)}if(i[f]&&_>i[f]){let p=i[f]-_;return h(u,p)}return u}return l}var e9=(e,t,n,r)=>{e.selectAll(`.${r}`).each((i,a,o)=>{let l=o[a];ue(l).attr(n,l.getBoundingClientRect()[n]-t)})},t9=e=>e.select(`#${Vg}`).size()>0,n9=(e,t,n)=>e.attr(t,Number(e.attr(t))-n),r9=(e,t,n)=>e.attr(t,e.node().getBoundingClientRect()[t]-n),id=16,ad=20,Dg=(e,t)=>{let n=e||gg(),r=[],i=1,a,o=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,l=()=>{},s=X7().settings(t),c,u=S=>{r=n.scale().domain(),c=Z7().settings(t).maxHeight(r.length*id+ad).on("resize",()=>d(S)),c(S),s(S),d(S)},d=S=>{x(S),f(S),h(S),H7(S)},f=S=>{let w=A(S);w.style("display",i<=1?"none":"block"),w.select("#page-text").text(`${o+1}/${i}`),w.select("#up-arrow").attr("class",o===0?"disabled":"").on("click",()=>{o>0&&(_(o-1),d(S))}),w.select("#down-arrow").attr("class",o>=i-1?"disabled":"").on("click",()=>{o<i-1&&(_(o+1),d(S))})},h=S=>{i>1&&n.cellFilter(p()),S.select("g.legendCells").remove();let w=$(S);w.call(n);let k=S.select("g.legendCells").node().getBBox();w.attr("height",k.height+ad),l(S)},_=S=>{o=S,t.legend={...t.legend,pageIndex:o}},p=()=>(S,w)=>w>=a*o&&w<a*o+a,x=S=>{let w=S.node().getBoundingClientRect(),k=Math.floor(w.height/id)-1;a=k<r.length?k-1:k,i=b(k),o=Math.min(o,i-1)},b=S=>Math.ceil(r.length/S),A=S=>Pt(S,".legend-controls",()=>S.append("g").attr("class","legend-controls").html(B7)),$=S=>Pt(S,".legend",()=>S.append("svg").attr("class","legend"));return u.decorate=(...S)=>S.length?(l=S[0],u):l,ze(u,n),u},Ig=e=>Dg(gg().shape("circle").shapeRadius(6),e),i9=e=>Dg(i7().shapePadding(1).labelOffset(3),e),Fn=()=>xc(Ig),bs=()=>xc(i9,Pg),a9=()=>xc(Ig,Pg);function Pg(e){if(!e)return null;let t=e.domain(),n=e.range().map(r=>Hs().type(r)());return ta().domain(t).range(n)}function xc(e,t=void 0){let n={},r=null,i=null,a=o=>{if(r&&r.range().length>1){let l=e(n);l.scale(r).orient("vertical").on("cellclick",function(c){let u=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(u)?n.hideKeys=n.hideKeys.filter(d=>d!==u):n.hideKeys.push(u),mc(this)._draw()}),l.labels(c=>{let u=String(c.domain[c.i]).split("|");return n.mainValues.length<=1&&u.length>1?u.slice(0,u.length-1).join("|"):c.domain[c.i]});let s=Pt(o,"div.legend-container",()=>o.append("div"));l.decorate(c=>{let u=f=>n.hideKeys&&n.hideKeys.includes(f),d=c.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");d.classed("hidden",u),d.append("title").html(f=>f),i&&d.select("circle, path").style("fill",f=>u(f)?null:i(f)).style("stroke",f=>u(f)?null:ua(i(f)))}),s.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(l)}};return a.settings=(...o)=>o.length===0?n:(n=o[0],a),a.scale=(...o)=>o.length?(r=t?t(o[0]):o[0],a):r,a.color=(...o)=>o.length?(i=o[0],a):i,a}function Fr(e,t=void 0){var r;let n=t||e.data;return(((r=e.hideKeys)==null?void 0:r.length)??0)>0?n.map(i=>{let a={...i};return e.hideKeys.forEach(o=>{delete a[o]}),a}):n}function kc(e){var i;let t=e.data,n=((i=e.hideKeys)==null?void 0:i.length)??0,r=e.splitValues.length;return n>0?r===0?t.filter(a=>Object.values(a).reduce((o,l)=>o&&!e.hideKeys.includes(l),!0)):t.map(a=>{let o=Object.entries(a).filter(([l,s])=>!e.hideKeys.includes(Yo(l)));return Object.fromEntries(o)}):t}var o9=e=>(t,n)=>t.style("stroke-width",r=>"1.0").style("stroke",r=>Sc(r,e));function Sc(e,t){return e===0?t?t.textStyles.color:"#666":t?t.colorStyles.grid.gridLineColor:"#bbb"}var l9=e=>(t,n)=>{t.strokeStyle=Sc(n,e),t.lineWidth=1},s9=(e,t)=>e.style("display","none"),c9=e=>(t,n)=>{t.lineWidth=1,t.strokeStyle=Sc(n,e)},yn=(e,t)=>{let n="both",r=!1,i=null,a=null,o=null,l=Vr(),s=i3(),c=o9(t),u=s9,d=function(...f){r&&(l=To().context(o),s=a3(),c=l9(t),u=c9(t));let h=l.xScale(i).yScale(a),_=n==="vertical"?u:c,p=n==="horizontal"?u:c,x=s.xDecorate(_).yDecorate(p);return h.series([x,e])(...f)};return d.orient=(...f)=>f.length?(n=f[0],d):n,d.canvas=(...f)=>f.length?(r=f[0],d):r,d.xScale=(...f)=>f.length?(i=f[0],d):i,d.yScale=(...f)=>f.length?(a=f[0],d):a,d.context=(...f)=>f.length?(o=f[0],d):o,d},Un=()=>{let e=wg(),t=n=>{let r=e.pad(),i=e.padUnit(),a=1;switch(i){case"domain":break;case"percent":{a=n[1]-n[0];break}default:throw new Error("Unknown padUnit: "+i)}let o=n[0]-r[0]*a,l=n[1]+r[1]*a;return n[0]=n[0]>=0&&o<0?0:o,n[1]=n[1]<=0&&l>0?0:l,n};return t.pad=function(...n){return e.pad()},t.padUnit=function(...n){return e.padUnit()},ze(t,e),t},u9=`<button id="zoom-reset">Reset zoom</button>
<button id="one-year">1 Year</button>
<button id="six-months">6 Months</button>
<button id="one-month">1 Month</button>
`,vn=()=>{let e=null,t=null,n=null,r=null,i=null,a=null,o=!1,l=!1,s=()=>{};function c(h){let _=`d3fc-${l?"canvas":"svg"}.plot-area`;if(n||i){let p=r&&r.domain()[0]instanceof Date,x=J8().on("zoom",A=>{let{transform:$}=A;t.zoom={k:$.k,x:$.x,y:$.y},u($),h.call(e);let S=$.k===1&&$.x===0&&$.y===0,w=d(h).style("display",S?"none":"");w.select("#zoom-reset").on("click",()=>h.select(_).call(x.transform,Oi));let k=w.select("#one-year").style("display",p?"":"none"),I=w.select("#six-months").style("display",p?"":"none"),L=w.select("#one-month").style("display",p?"":"none");if(p){let G=F=>()=>{let D=new Date(n.domain()[0]),Z=new Date(D);F(D,Z);let W=r.range(),O=(W[1]-W[0])/(r(Z)-r(D)),H=-r(D)*O,z=0;if(i){let Q=i.domain().reduce((V,q)=>V+q)/2;z=-a(Q)*O+i(Q)}h.select(_).call(x.transform,Oi.translate(H,z).scale(O))};k.on("click",G((F,D)=>D.setYear(F.getFullYear()+1))),I.on("click",G((F,D)=>D.setMonth(F.getMonth()+6))),L.on("click",G((F,D)=>D.setMonth(F.getMonth()+1)))}}),b=e.decorate();e.decorate((A,$)=>{if(b(A,$),!o){o=!0;let S=A.select(_),w=l?window.devicePixelRatio:1;S.on("measure.zoom-range",k=>{if(r&&r.range([0,k.detail.width/w]),a&&a.range([0,k.detail.height/w]),t.zoom){let I=Oi.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);S.call(x.transform,I)}}).call(x)}})}h.call(e)}c.chart=(...h)=>h.length?(e=h[0],c):e,c.settings=(...h)=>h.length?(t=h[0],c):t,c.xScale=(...h)=>h.length?(n=f(h[0]),r=n?n.copy():null,c):n,c.yScale=(...h)=>{if(!h.length)return i;if(i=f(h[0]),a=i?i.copy():null,a){let _=a.domain();a.domain([_[1],_[0]])}return c},c.canvas=(...h)=>h.length?(l=h[0],c):l,c.onChange=(...h)=>h.length?(s=h[0],c):s;let u=h=>{let _={...h};if(n&&(n.domain(h.rescaleX(r).domain()),_.xDomain=n.domain()),i){let p=h.rescaleY(a).domain();i.domain([p[1],p[0]]),_.yDomain=i.domain()}s(_)},d=h=>Pt(h,".zoom-controls",()=>h.append("div").attr("class","zoom-controls").style("display","none").html(u9)),f=h=>h&&h.nice?h:null;return c};function Fg(e,t){let n=zg(t,Fr(t)),r=ca(t),i=Fn().settings(t).scale(r),a=Og(t,r).orient("horizontal"),o=Vr().mapping((d,f)=>d[f]).series(n.map(()=>a)),l=gt(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[0]).excludeType(lt.ordinal).include([0]).paddingStrategy(Un())(n),s=gt(t).excludeType(lt.linear).settingName("crossValues").valueName("crossValue").orient("vertical")(n),c=Ir(l,s).plotArea(yn(o,t).orient("horizontal"));c.yPaddingInner&&(c.yPaddingInner(.5),c.yPaddingOuter(.25),a.align("left")),c.xNice&&c.xNice();let u=vn().chart(c).settings(t).yScale(s.scale);e.datum(n).call(u),e.call(i)}Fg.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["X Axis"]}};var f9=Fg,d9=(e,t)=>{if(!od(e)||!od(t))return;let n=ld(e),r=ld(t);n>r?t[0]=sd(t,n):e[0]=sd(e,r)},od=e=>e.length===2&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1],ld=e=>(0-e[0])/(e[1]-e[0]),sd=(e,t)=>t*e[1]/(t-1),h9=e=>{let t=[],n=!1,r,i=o=>{o.text("");let l=Qe("span","splitter-label").key(u=>u),s=!n&&t.length===1,c=r&&e.splitValues.length===0;l(o,t).classed("disabled",s).text(u=>u.name).style("color",u=>c?ua(r(u.name)):void 0).on("click",(u,d)=>{var f;s||(n?e.splitMainValues=e.splitMainValues.filter(h=>h!=d.name):e.splitMainValues=[d.name].concat(e.splitMainValues||[]),(f=u.target.getRootNode().host.closest("perspective-viewer"))==null||f.dispatchEvent(new Event("perspective-config-update")),a(o))})},a=o=>{let l=mc(o.node());l._container.innerHTML="",l._draw()};return i.labels=(...o)=>o.length?(t=o[0],i):t,i.alt=(...o)=>o.length?(n=o[0],i):n,i.color=(...o)=>o.length?(r=o[0],i):r,i},Qo=(e,t,n=_9)=>{let r,i,a,o=e.splitMainValues||[],l=u=>{let d=u.split("|");return o.includes(d[d.length-1])},s=e.mainValues.some(u=>l(u.name));i=s?n(t,u=>!l(u)):t,a=s?n(t,l):null;let c=u=>{if(e.mainValues.length===1)return;let d=e.mainValues.map((p,x)=>({index:x,name:p.name})),f=d.filter(p=>!l(p.name)),h=d.filter(p=>l(p.name)),_=()=>h9(e).color(r);u.select(".y-label.left-label").call(_().labels(f)),u.select(".y-label.right-label").call(_().labels(h).alt(!0))};return c.color=(...u)=>u.length?(r=u[0],c):r,c.haveSplit=()=>s,c.data=(...u)=>u.length?(i=u[0],c):i,c.altData=(...u)=>u.length?(a=u[0],c):a,c},_9=(e,t)=>e.map(n=>n.filter(r=>t(r.key))),Ug=(e,t)=>e.map(n=>t(n.key)?n:n.map(r=>Object.assign({},r,{mainValue:null}))),g9=(e,t)=>e.map(n=>Ug(n,t));function jg(e,t){let n=zg(t,Fr(t)),r=ca(t),i=Fn().settings(t).scale(r),a=Og(t,r).orient("vertical"),o=Vr().mapping((p,x)=>p[x]).series(n.map(()=>a)),l=gt(t).excludeType(lt.linear).settingName("crossValues").valueName("crossValue")(n),s=gt(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(lt.ordinal).orient("vertical").include([0]).paddingStrategy(Un()),c=t.mainValues.length>1?g9:Ug,u=Qo(t,n,c).color(r),d=s(u.data()),f=u.haveSplit()?o:yn(o,t).orient("vertical"),h=Ir(l,d).axisSplitter(u).plotArea(f);h.xPaddingInner&&(h.xPaddingInner(.5),h.xPaddingOuter(.25),a.align("left")),h.yNice&&h.yNice();let _=vn().chart(h).settings(t).xScale(l.scale);if(u.haveSplit()){let p=s(u.altData());d9(d.domain,p.domain),h.yDomain(d.domain).altAxis(p)}e.datum(u.data()).call(_),e.call(i)}jg.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var p9=jg;function Mc(e,t){var a,o;let n=p_(),r=e.data.length*(((a=e.data)==null?void 0:a.length)>0?Object.keys(e.data[0]).length-(((o=e.crossValues)==null?void 0:o.length)>0?1:0):0),i=Math.max(1,Math.min(3,Math.floor(e.size.width/r/2)));return n=n.decorate(l=>{l.style("stroke",s=>ua(t(s[0]&&s[0].key))).style("stroke-width",i)}),n.crossValue(l=>l.crossValue).mainValue(l=>l.mainValue)}function b9(e,t){let n=Pr(e);return t.map((r,i)=>Object.keys(r).filter(a=>a!=="__ROW_PATH__").map(a=>({key:a,crossValue:n(r,i),mainValue:r[a],row:r})))}var Wg=function(e){let t=[];for(let n of e)for(let r=0;r<n.length;r++)n[r].mainValue!==null&&(t[r]=t[r]||[],t[r].push(n[r]));return t},cd=(e,t,n=Math.min)=>{let r=o=>o.reduce((l,s)=>{let c=i(s);return c&&(!l||n(l.value,c.value)===c.value)?c:l},null),i=o=>{if(Array.isArray(o))return r(o);let l=t(o);return l!==null?{item:o,value:l}:null},a=r(e);return a?a.item:null},sr=()=>{let e=Ho().alwaysShow(!0),t=null,n=null,r=null,i=null,a=!1,o=null,l="crossValue",s="mainValue",c=null,u=1,d=_=>{let p=`d3fc-${a?"canvas":"svg"}.plot-area`;if(t||n){let x=null,b=A3().on("point",A=>{let $=A.length?h(A[0]):null;x=$?[$.data]:[];let S=$?$.scale:n;f(_,x,S)});_.select(p).on("measure.nearbyTip",()=>f(_,[])).on("click",()=>{x.length&&yc(_.node(),x[0],e.settings())}).call(b)}},f=(_,p,x=n)=>{let b=_.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(p);b.exit().remove(),b.enter().append("circle").attr("class","nearbyTip").merge(b).attr("r",A=>i?u*Math.sqrt(i(A.size)):10).attr("transform",A=>`translate(${t(A[l])},${x(A[s])})`).style("stroke","none").style("fill",A=>r&&A.key&&Xo(r(A.key))),e(b)},h=_=>{let p=A=>$=>$[s]===void 0||$[s]===null||$[l]===void 0||$[l]===null?null:Math.sqrt(Math.pow(t($[l])-_.x,2)+Math.pow(A($[s])-_.y,2)),x=p(n),b=cd(o,x,Math.min);if(c){let A=p(c.yScale),$=cd(c.data,A,Math.min);return x(b)<=A($)?{data:b,scale:n}:{data:$,scale:c.yScale}}return{data:b,scale:n}};return d.scaleFactor=(..._)=>_.length?(u=_[0],d):u,d.xScale=(..._)=>_.length?(t=_[0],d):t,d.yScale=(..._)=>_.length?(n=_[0],d):n,d.color=(..._)=>_.length?(r=_[0],d):r,d.size=(..._)=>_.length?(i=_[0]?_[0].copy().range([40,4e3]):null,d):i,d.canvas=(..._)=>_.length?(a=_[0],d):a,d.data=(..._)=>_.length?(o=_[0],d):o,d.xValueName=(..._)=>_.length?(l=_[0],d):l,d.yValueName=(..._)=>_.length?(s=_[0],d):s,d.altDataWithScale=(..._)=>_.length?(c=_[0],d):c,d.settings=(..._)=>_.length?(e.settings(_[0]),d):e.settings(),ze(d,e),d};function qg(e,t){let n=b9(t,Fr(t)),r=ca(t),i=Fn().settings(t).scale(r),a=ro().series(Mc(t,r)).orient("horizontal"),o=Un().pad([.1,.1]).padUnit("percent"),l=Qo(t,Wg(n)).color(r),s=gt(t).excludeType(lt.linear).settingName("crossValues").valueName("crossValue")(n),c=gt(t).settingName("mainValues").valueName("mainValue").memoValue(l.haveSplit()?null:t.axisMemo[0]).orient("vertical").paddingStrategy(o),u=c(l.data()),d=l.haveSplit()?a:yn(a,t).orient("vertical"),f=Ir(s,u).axisSplitter(l).plotArea(d);f.yNice&&f.yNice();let h=vn().chart(f).settings(t).xScale(s.scale),_=sr().settings(t).xScale(s.scale).yScale(u.scale).color(r).data(n);if(l.haveSplit()){let x=c(l.altData());f.altAxis(x),_.data(l.data()).altDataWithScale({yScale:x.scale,data:l.altData()})}let p=l.data();e.datum(p).call(h),e.call(_),e.call(i)}qg.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var m9=qg,Vl=Math.sqrt(3),w9={draw:function(e,t){let n=Math.sqrt(t/(Vl*3));e.moveTo(0,n*2),e.lineTo(-Vl*n,-n),e.lineTo(Vl*n,-n),e.closePath()}},y9=[$o,s_,u_,f_,h_,__,g_],Bg={circle:$o,square:f_,cross:s_,diamond:u_,star:h_,triangle:__,wye:g_,nabla:w9};function Ec(e){return e.length>1?ta().domain(e).range(y9):null}var v9=8,x9=1;function k9(e,t,n,r,i,a,o=1){let l=Hx().crossValue(s=>s.x).mainValue(s=>s.y);return a&&l.type(s=>a(s.row[t])),n&&l.size(s=>Math.round(o*n(s.size))),l.decorate((s,c)=>{var f;let u=r(c.colorValue),d=(f=e.colorStyles)==null?void 0:f.opacity;if(i){let{type:h}=e.mainValues.find(p=>p.name===i),_=tr(h,c.row[i]);if(_!==null){s.fillStyle=e.textStyles.color,s.font=e.textStyles.font;let p=0;n&&(p=Math.sqrt(o*n(c.size)/Math.PI)*x9);let x=p+v9;s.fillText(_,x,4)}}s.strokeStyle=ua(u),s.fillStyle=Xo(u,d)}),l}function S9(e,t){let n=[...new Set(Lg(e,t))];return Ec(n)}function M9(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach(r=>{if(r!=="__ROW_PATH__"){let i=Yo(r);n.includes(i)||n.push(i)}}),Ec(n)}function E9(e,t){let n=e.mainValues.length;return t.map(r=>{let i=Object.keys(r).filter(o=>o!=="__ROW_PATH__"),a=new Array(i.length/n);for(let o=0;o<i.length/n;o++)a[o]={key:Yo(i[o*n]),crossValue:r[i[o*n]],mainValue:r[i[o*n+1]],row:r};return a})}function Hg(e,t){let n=Wg(E9(t,kc(t))),r=F7(t),i=M9(t),a=null;r.domain().length>=2&&(a=a9().settings(t).scale(i).color(r));let o=ro().series(Mc(t,r)).orient("horizontal"),l=Un().pad([.1,.1]).padUnit("percent"),s=gt(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").memoValue(t.axisMemo[0]).paddingStrategy(l),c=gt(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(l)(n),u=s(n),d=yn(o,t).orient("vertical"),f=Ir(u,c).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(d);f.xNice&&f.xNice(),f.yNice&&f.yNice();let h=vn().chart(f).settings(t).xScale(u.scale).yScale(c.scale),_=sr().settings(t).xScale(u.scale).yScale(c.scale).color(r).data(n);e.datum(n).call(h),e.call(_),a&&e.call(a)}Hg.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var A9=Hg;function $9(e,t){let n=Yx();return n=n.decorate(r=>{r.style("fill",i=>t(i[0].key)).style("opacity",.5)}),n.crossValue(r=>r.crossValue).mainValue(r=>r.mainValue).baseValue(r=>r.baseValue)}function T9(e,t){let n=Pr(e);return t.map((r,i)=>{let a={};return Object.keys(r).filter(o=>o!=="__ROW_PATH__").map(o=>{let l=o.split("|"),s=l[l.length-1],c=a[s]||0,u=c+r[o];return a[s]=u,{key:o,crossValue:n(r,i),mainValue:u,baseValue:c,row:r}})})}function Yg(e,t){let n=T9(t,Fr(t)),r=ca(t),i=Fn().settings(t).scale(r),a=ro().series($9(t,r).orient("vertical")),o=ro().series(Mc(t,r)).orient("vertical"),l=Vr().series([a,o]),s=gt(t).excludeType(lt.linear).settingName("crossValues").valueName("crossValue")(n),c=gt(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(lt.ordinal).orient("vertical").include([0]).paddingStrategy(Un()),u=Qo(t,n).color(r),d=c(u.data()),f=u.haveSplit()?l:yn(l,t).orient("vertical"),h=Ir(s,d).axisSplitter(u).plotArea(f);h.yNice&&h.yNice();let _=vn().chart(h).settings(t).xScale(s.scale),p=sr().settings(t).xScale(s.scale).yScale(d.scale).color(r).data(n);if(u.haveSplit()){let x=c(u.altData());h.altAxis(x),p.data(u.data()).altDataWithScale({yScale:x.scale,data:u.altData()})}e.datum(u.data()).call(_),e.call(p),e.call(i)}Yg.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var C9=Yg;function N9(e,t,n,r){let i=b_().size(100),a=e.colorStyles&&e.colorStyles.opacity;return r&&i.type(r(t)),i.decorate(o=>{o.style("stroke",l=>ua(n(l.colorValue||t))).style("fill",l=>Xo(n(l.colorValue||t),a))}),i.crossValue(o=>o.crossValue).mainValue(o=>o.mainValue)}function O9(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return Ec(n)}function Xg(e,t){let n=W7(t,Fr(t)),r=O9(t),i=ca(t),a=bs().settings(t).scale(r).color(i),o=Vr().mapping((x,b)=>x[b]).series(n.map(x=>N9(t,x.key,i,r))),l=Un().pad([.05,.05]).padUnit("percent"),s=gt(t).excludeType(lt.linear).settingName("crossValues").valueName("crossValue")(n),c=gt(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(l),u=Qo(t,n).color(i),d=c(u.data()),f=u.haveSplit()?o:yn(o,t).orient("vertical"),h=Ir(s,d).axisSplitter(u).plotArea(f);h.yNice&&h.yNice();let _=vn().chart(h).settings(t).xScale(s.scale),p=sr().settings(t).xScale(s.scale).yScale(d.scale).color(i).data(n);if(u.haveSplit()){let x=c(u.altData());h.altAxis(x),p.data(u.data()).altDataWithScale({yScale:x.scale,data:u.altData()})}e.datum(u.data()).call(_),e.call(p),a&&e.call(a)}Xg.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var L9=Xg;function z9(e,t){return Go(e,t,{excludeEmpty:!0}).map(n=>R9(e,n))}function R9(e,t){let n=Pr(e),r=t.map((i,a)=>({crossValue:n(i,a),mainValues:e.mainValues.map(o=>i[o.name]),x:i[e.mainValues[0].name],y:i[e.mainValues[1].name],colorValue:e.realValues[2]?i[e.realValues[2]]:void 0,size:e.realValues[3]?i[e.realValues[3]]:void 0,key:t.key,row:i}));return r.key=t.key,r}function V9(e,t,n,r){return Ln().domain(Gg(t,n,r))}function Ko(e,t,n,r=null){let i=Gg(t,n,r),a=e.colorStyles.gradient.full;if(i[0]>=0)a=e.colorStyles.gradient.positive;else if(i[1]<=0)a=e.colorStyles.gradient.negative;else{let l=Math.max(-i[0],i[1]);i=[-l,l]}let o=D9(a);return Fh(o).domain(i)}var Gg=(e,t,n)=>n||vg().valueName(t).pad([0,0])(e),D9=e=>{let t=e.slice(1).map((n,r)=>In(e[r][1],n[1]));return n=>{let r=e.findIndex((l,s)=>s<e.length-1&&n<=e[s+1][0]&&n>l[0]);if(r===-1)return n<=e[0][0]?e[0][1]:e[e.length-1][1];let i=t[r],[a]=e[r],[o]=e[r+1];return i((n-a)/(o-a))}};function Jo(){let e=null;function t(n){let r=Pt(n,"div.legend-container",()=>n.append("div").attr("class","legend-container legend-color").style("z-index","2")),{width:i,height:a}=r.node().getBoundingClientRect(),o=na().domain([0,1]).range([0,i]),l=e.copy().nice().domain(),s=Uh().pad([.1,.1]).padUnit("percent")(l),[c,u]=s,d=Os(c,u,(u-c)/a),f=Ln().domain(s).range([a,0]),h=Gs(ls()).xScale(o).yScale(f).crossValue(0).baseValue((w,k)=>d[Math.max(0,k-1)]).mainValue(w=>w).decorate(w=>{w.selectAll("path").style("fill",k=>e(k))}),_=l[0]<0&&l[1]>0?0:Math.round((l[1]+l[0])/2),p=[...l,_],x=yg(c,u),b=Lo(f).tickValues(p).tickSizeOuter(0).tickFormat(w=>x(w)),A=Pt(r,"svg",()=>r.append("svg")).style("width",i).style("height",a),$=Pt(A,"g",()=>A.append("g")).datum(d).call(h),S=Math.abs($.node().getBBox().x);Pt(A,"#legend-axis",()=>A.append("g").attr("id","legend-axis")).attr("transform",`translate(${S})`).datum(d).call(b).select(".domain").attr("visibility","hidden")}return t.scale=(...n)=>n.length?(e=n[0],t):e,t}function Ac(){let e="element-prefix-unset",t=null,n=null,r=null,i=null,a=null,o=!0,l=null,s=c=>{let u=Pt(c,"div.outer-container",()=>c.append("div").attr("class","outer-container").style("width",`calc(100% - ${l??0})`).style("height",`calc(100% - ${l??0})`).style("padding-left",l??0)),d=Pt(u,"div.inner-container",()=>u.append("div").attr("class","inner-container")),f=u.node().getBoundingClientRect(),h=f.height,_=f.width-0,p=300,x=c.datum(),b=Math.max(1,Math.min(x.length,Math.floor(_/p))),A=Math.ceil(x.length/b);a={width:_/Math.max(b,1),height:Math.min(h,Math.max(h/A,_/Math.max(b,1)))},h/A>a.height*.75&&(a.height=h/A),x.length>1?(d.style("grid-template-columns",`repeat(${b}, ${100/b}%)`),d.style("grid-template-rows",`repeat(${A}, ${a.height}px)`)):(d.style("grid-template-columns","repeat(1, 100%)"),d.style("grid-template-rows","repeat(1, 100%)")),r=d.selectAll(`div.${e}-container`).data(x,$=>$.split),r.exit().remove(),n=r.enter().append("div").attr("class",`${e}-container`),i=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),o?t=n.append("svg").append("g").attr("class",e):t=n.append("div").attr("class",e)};return s.padding=(...c)=>c.length?(l=c[0],s):l,s.svg=(...c)=>c.length?(o=c[0],s):o,s.elementsPrefix=(...c)=>c.length?(e=c[0],s):e,s.chartContainer=()=>t,s.chartEnter=()=>n,s.chartDiv=()=>r,s.chartTitle=()=>i,s.containerSize=()=>a,s}function I9([e,t],[n,r]){let i=(r-t)/(n-e),a=r-i*n;return function(o){let l=o.node(),s=Math.min(l.clientWidth,l.clientHeight);return Math.min(r,Math.max(t,i*s+a))}}function ud(){let e=null,t=null,n=null,r=null,i=a=>{let o=!!e.realValues[2],l=e.realValues[4],s=e.realValues[3]?V9(e,t,"size").range([10,1e4]):null,c=e.realValues[5],u=I9([600,.1],[1600,1])(a),d=To().mapping((S,w)=>S[w]).series(t.map(()=>k9(e,l,s,n,c,r,u))),f=()=>gt(e).settingName("mainValues").paddingStrategy(Un()).pad([.1,.1]),h=f().settingValue(e.mainValues[0].name).memoValue(e.axisMemo[0]).valueName("x")(t),_=f().orient("vertical").settingValue(e.mainValues[1].name).memoValue(e.axisMemo[1]).valueName("y")(t),[p,x]=e.splitValues.length===0?[e.mainValues[0].name,e.mainValues[1].name]:["",""],b=wc(h,_).xLabel(p).yLabel(x).plotArea(yn(d,e).canvas(!0));b.xNice&&b.xNice(),b.yNice&&b.yNice();let A=vn().chart(b).settings(e).xScale(h.scale).yScale(_.scale).canvas(!0),$=sr().scaleFactor(u).settings(e).canvas(!0).xScale(h.scale).xValueName("x").yValueName("y").yScale(_.scale).color(!o&&n).size(s).data(t);a.datum(t).call(A),a.call($)};return i.settings=(...a)=>a.length?(e=a[0],i):e,i.data=(...a)=>a.length?(t=a[0],i):t,i.color=(...a)=>a.length?(n=a[0],i):n,i.symbols=(...a)=>a.length?(r=a[0],i):r,i}function P9(e,t){var s,c,u;if(!t)return;let n=e.realValues[4],r=(s=e.mainValues.find(d=>d.name===n))==null?void 0:s.type,i=t.domain(),a=t.range(),o=a.length;for(let[d,f]of i.entries())a[d]=a[d%o];let l=((u=(c=e.columns_config)==null?void 0:c[n])==null?void 0:u.symbols)??{};return Object.entries(l).forEach(([d,f])=>{let h=Bg[f]??$o,_=i.findIndex(p=>{switch(r){case"date":case"datetime":return new Date(p).valueOf()===new Date(d).valueOf();default:return String(p)===String(d)}});a[_]=h}),t.range(a),t}function Zo(e,t){var d;let n=t.realValues[2],r=!!n,i=((d=t.mainValues.find(f=>f.name===n))==null?void 0:d.type)==="string",a=null,o=null,l=t.realValues[4],s=S9(t,l),c=P9(t,s),u=z9(t,kc(t));if(r&&i?l?(t.splitValues.length>0?a=go(t,u):a=go(t,u[0]),o=bs().settings(t).scale(c)):(a=P7(t,n),o=Fn().settings(t).scale(a)):r?(a=Ko(t,u,"colorValue"),o=Jo().scale(a)):(a=Rn().settings(t).domain([""])(),o=bs().settings(t).scale(c)),t.splitValues.length!==0){let f=Ac().svg(!1).elementsPrefix("xy-scatter");f=f.padding("2.5em"),e.append("div").attr("class","multi-xlabel").append("p").text(t.mainValues[0].name),e.append("div").attr("class","multi-ylabel").append("p").text(t.mainValues[1].name).style("transform","rotate(-90deg)").style("text-wrap","nowrap"),e=e.datum(u),e.call(f),f.chartContainer();let h=f.chartEnter(),_=f.chartDiv(),p=f.chartTitle(),x=f.containerSize();p.each((b,A,$)=>ue($[A]).text(b.key)),h.merge(_).attr("transform",`translate(${x.width/2}, ${x.height/2})`).each(function(b){let A=ue(this);ud().settings(t).data([b]).color(a).symbols(c)(A)})}else ud().settings(t).data(u).color(a).symbols(c)(e);o&&e.call(o)}Zo.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Symbol","Label","Tooltip"]},selectMode:"toggle"};Zo.can_render_column_styles=(e,t)=>e==="string"&&t==="Symbol";Zo.column_style_controls=(e,t)=>e==="string"&&t==="Symbol"?{symbols:{keys:"row",values:Object.keys(Bg)}}:null;var F9=Zo;function U9(e,t){let n=r3();return n.decorate((r,i)=>{r.fillStyle=t(i.colorValue)}),Gs(n).xValue(r=>r.crossValue).yValue(r=>r.mainValue).colorValue(r=>r.colorValue).colorInterpolate(t.interpolator()).widthFraction(1)}function j9(e,t){let n=Pr(e),r=pc(e).excludeType(lt.linear).settingName("splitValues")(),i=[];return t.forEach((a,o)=>{let l=n(a,o);Object.keys(a).filter(s=>s!=="__ROW_PATH__").forEach(s=>{let c=W9(s);i.push({crossValue:l,mainValue:r===lt.time?new Date(c):c,colorValue:a[s],row:a})})}),i}function W9(e){let t=e.split("|");return t.pop(),t.join("|")}function Qg(e,t){let n=j9(t,Fr(t)),r=Ko(t,n,"colorValue"),i=U9(t,r),a=Jo().scale(r),o=gt(t).excludeType(lt.linear).settingName("crossValues").valueName("crossValue")(n),l=gt(t).excludeType(lt.linear).settingName("splitValues").valueName("mainValue").modifyDomain(d=>isNaN(d[0])?d:d.reverse()).orient("vertical")(n),s=wc(o,l).plotArea(yn(i,t).canvas(!0));s.xPaddingInner&&(s.xPaddingInner(0),s.xPaddingOuter(0),i.xAlign("right")),s.yPaddingInner&&(s.yPaddingInner(0),s.yPaddingOuter(0),i.yAlign("top"));let c=vn().chart(s).settings(t).xScale(o.scale).yScale(l.scale).canvas(!0),u=sr().settings(t).canvas(!0).xScale(o.scale).yScale(l.scale).color(r).data(n);e.datum(n).call(c),e.call(a),e.call(u)}Qg.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0,initial:{names:["Color"]}};var q9=Qg;function B9(e,t){return Go(e,t,{excludeEmpty:!0}).map(n=>H9(e,n))}function H9(e,t){let n=Pr(e),r=a=>t[a<t.length-1?a+1:a][e.realValues[0]],i=t.map((a,o)=>{let l=e.realValues[0]?a[e.realValues[0]]:void 0,s=e.realValues[1]?a[e.realValues[1]]:r(o);return{crossValue:n(a,o),mainValues:e.mainValues.map(c=>a[c.name]),openValue:l,closeValue:s,highValue:e.realValues[2]?a[e.realValues[2]]:Math.max(l,s),lowValue:e.realValues[3]?a[e.realValues[3]]:Math.min(l,s),key:t.key,row:a}});return i.key=t.key,i}var Y9=e=>e.closeValue>=e.openValue;function X9(e,t,n){let r=n.domain(),i=Rn().domain(r).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(Ki(.5))(),a=Rn().settings(e).domain(r)(),o=t().crossValue(c=>c.crossValue).openValue(c=>c.openValue).highValue(c=>c.highValue).lowValue(c=>c.lowValue).closeValue(c=>c.closeValue).decorate((c,u)=>{let d=Y9(u)?n(u.key):i(u.key);c.fillStyle=d,c.strokeStyle=d}),l=Bx().mainValue(c=>c.bollinger.average).crossValue(c=>c.crossValue).decorate((c,u)=>{c.strokeStyle=a(u[0].key)}),s=Xx().mainValue(c=>c.bollinger.upper).baseValue(c=>c.bollinger.lower).crossValue(c=>c.crossValue).decorate((c,u)=>{c.fillStyle=Ki(.25)(a(u[0].key))});return To().series([s,o,l])}function G9(e){return function(t,n){let r=B9(n,kc(n)),i=w1().value(b=>b.openValue),a=r.map(b=>{let A=i(b);return b.map(($,S)=>Object.assign({bollinger:A[S]},$))}),o=r.map(b=>b.key).concat(n.hideKeys?n.hideKeys:[]).sort(),l=Rn().domain(o).settings(n).mapFunction(Ki(1))(),s=Fn().settings(n).scale(o.length>1?l:null),c=X9(n,e,l),u=To().mapping((b,A)=>b[A]).series(a.map(()=>c)),d=Un().pad([.1,.1]).padUnit("percent"),f=gt(n).settingName("crossValues").valueName("crossValue")(a),h=gt(n).settingName("mainValues").valueNames(["lowValue","highValue"]).memoValue(n.axisMemo[1]).orient("vertical").paddingStrategy(d)(a),_=wc(f,h).plotArea(yn(u,n).orient("vertical").canvas(!0));_.yNice&&_.yNice();let p=vn().chart(_).settings(n).xScale(f.scale).onChange(b=>{let A=a.map($=>$.filter(S=>S.crossValue>=b.xDomain[0]&&S.crossValue<=b.xDomain[1]));_.yDomain(h.domainFunction(A))}).canvas(!0),x=sr().settings(n).xScale(f.scale).yScale(h.scale).yValueName("closeValue").color(l).data(a).canvas(!0);t.datum(a).call(p),t.call(x),t.call(s)}}var Kg=G9,Jg=Kg(Kx);Jg.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var Q9=Jg,Zg=Kg(Qx);Zg.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var K9=Zg;function J9(e,t){var n;if(e.realValues.length>1&&e.realValues[1]!==null){let r=e.realValues[1];if(((n=e.mainValues.find(i=>i.name===r))==null?void 0:n.type)==="string"){let i=t.map(a=>a.data).filter(a=>a.height>0).map(a=>e0(a)).reduce((a,o)=>a.concat(o));return go(e,i)}else return Ko(e,null,null,s7(t.map(i=>i.extents)))}}function e0(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(e0(n,t))):e.data.color&&t.push(e.data.color),t}function t0(e){let t={},n=e.realValues.map(r=>r===null?null:e.mainValues.find(i=>i.name===r));return e.data.forEach((r,i)=>{let a=Array.isArray(r.__ROW_PATH__)?r.__ROW_PATH__:[];ek(r).forEach(o=>{let l;t[o]||(t[o]=[]),l=t[o],a.forEach((s,c)=>{let u=l.find(d=>d.name===s);if(u||(u={name:s,children:[]},l.push(u)),e.realValues.length>1&&e.realValues[1]!==null){let d=c===a.length-1,f=ki(d?r:e.agg_paths[i][c+1]||r,e.mainValues[1],o);f!==void 0&&(u.color=f)}if(e.realValues.length>2&&e.realValues[2]!==null){u.tooltip=[];for(let d=2;d<e.realValues.length;++d)u.tooltip.push(ki(r,n[d],o))}if(c===a.length-1){if(u.name=a.slice(-1)[0],e.crossValues.length===0)u.size=ki(r,e.mainValues[0],"");else if(a.length===e.crossValues.length){let d=ki(r,e.mainValues[0],o);u.size=d>0?d:0}}l=u.children})})}),Object.entries(t).map(r=>{let i={name:"root",children:r[1]},a=Do(i).sum(l=>l.size),o=y5().size([2*Math.PI,a.height+1])(a);return o.each(l=>{var s;l.current=l,l.mainValues=e.realValues.length===1||e.realValues[1]===null&&e.realValues[2]===null?l.value:[l.value,l.data.color].concat(l.data.tooltip||[]).filter(c=>c!==void 0),l.crossValue=l.ancestors().slice(0,-1).reverse().map(c=>c.data.name),l.key=r[0],l.label=tr(((s=e.crossValues[l.depth-1<0?0:l.depth-1])==null?void 0:s.type)||e.mainValues[0].type,l.data.name)}),{split:r[0],data:o,extents:Z9(e,r)}})}var ki=(e,t,n)=>n.length?e[`${n}|${t.name}`]:e[t.name];function Z9(e,[t,n]){if(e.realValues.length>1&&e.realValues[1]!==null){let r=Math.min(...e.data.map(a=>ki(a,e.mainValues[1],t))),i=Math.max(...n.map(a=>a.color));return[r,i]}}function ek(e){let t=[];return Object.keys(e).forEach(n=>{if(n!=="__ROW_PATH__"){let r=n.split("|").slice(0,-1).join("|");t.includes(r)||t.push(r)}}),t}var n0=e=>zx().startAngle(t=>t.x0).endAngle(t=>t.x1).padAngle(t=>Math.min((t.x1-t.x0)/2,.005)).padRadius(e).innerRadius(t=>Math.max(1,(t.y0-1)*e)).outerRadius(t=>Math.max((t.y0-1)*e,(t.y1-1)*e-1)),Qn=e=>e.y0>=1&&e.x1>e.x0,ms=e=>e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06;function r0(e,t){let n=(e.x0+e.x1)/2*180/Math.PI,r=(e.y0-1+(e.y1-1))/2*t;return`rotate(${n-90}) translate(${r},0) rotate(${n<180?0:180})`}function tk(e,t){let n=this.getBBox().width;if(n>t){let r=e.label,i=ue(this);for(;n>t;)r=r.substring(0,r.length-1),i.text(()=>r),n=this.getBBox().width;i.text(()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`)}}var nk=(e,t,n,r,i,a,o,l,s)=>(c,u)=>{s.sunburstLevel[l]=c.data.name,c.parent?(n.datum(c.parent),n.style("cursor","pointer"),r.html(`&#8682; ${c.label}`)):(n.datum(e),n.style("cursor","default"),r.html("")),e.each(f=>f.target={x0:Math.max(0,Math.min(1,(f.x0-c.x0)/(c.x1-c.x0)))*2*Math.PI,x1:Math.max(0,Math.min(1,(f.x1-c.x0)/(c.x1-c.x0)))*2*Math.PI,y0:Math.max(0,f.y0-c.depth),y1:Math.max(0,f.y1-c.depth)});let d=t.transition().duration(u?0:750);i.transition(d).tween("data",f=>{let h=In(f.current,f.target);return _=>f.current=h(_)}).filter(function(f){return+this.getAttribute("fill-opacity")||Qn(f.target)}).attr("fill-opacity",f=>Qn(f.target)?1:0).attr("user-select",f=>Qn(f.target)?"initial":"none").style("pointer-events",f=>Qn(f.target)?"initial":"none").attrTween("d",f=>()=>n0(o)(f.current)),a.filter(function(f){return+this.getAttribute("fill-opacity")||ms(f.target)}).transition(d).attr("fill-opacity",f=>+ms(f.target)).attrTween("transform",f=>()=>r0(f.current,o))};function rk(){let e=null,t=null,n=null,r=null,i=null,a=o=>{let l=o.selectAll("g.segment").data(n.descendants().slice(1)),s=l.enter().append("g").attr("class","segment");s.append("path"),s.append("text").attr("class","segment").attr("dy","0.35em");let c=s.merge(l),u=c.select("path").attr("fill-opacity",p=>Qn(p.current)?1:0).attr("user-select",p=>Qn(p.current)?"initial":"none").style("pointer-events",p=>Qn(p.current)?"initial":"none").attr("d",p=>n0(i)(p.current));r&&u.style("fill",p=>r(p.data.color));let d=c.select("text").attr("fill-opacity",p=>+ms(p.current)).attr("transform",p=>r0(p.current,i)).text(p=>p.label).each(function(p){tk.call(this,p,i)}),f=o.select("text.parent"),h=o.select("circle").attr("r",i).datum(n),_=nk(n,o,h,f,u,d,i,t,e);if(e.sunburstLevel){let p=n.descendants().find(x=>x.data.name===e.sunburstLevel[t]);p&&_(p,!0)}else e.sunburstLevel={};h.on("click",p=>_(p,!1)),u.filter(p=>p.children).style("cursor","pointer").on("click",p=>_(p,!1))};return a.settings=(...o)=>o.length?(e=o[0],a):e,a.split=(...o)=>o.length?(t=o[0],a):t,a.data=(...o)=>o.length?(n=o[0],a):n,a.color=(...o)=>o.length?(r=o[0],a):r,a.radius=(...o)=>o.length?(i=o[0],a):i,a}function i0(e,t){var u;let n=t0(t),r=J9(t,n),i=Ac().elementsPrefix("sunburst");if(e.datum(n).call(i),r){let d=t.realValues[1];if(((u=t.mainValues.find(f=>f.name===d))==null?void 0:u.type)==="string"){let f=Fn().settings(t).scale(r);e.call(f)}else{let f=Jo().scale(r);e.call(f)}}let a=i.chartContainer(),o=i.chartEnter(),l=i.chartDiv(),s=i.chartTitle(),c=i.containerSize();s.each((d,f,h)=>ue(h[f]).text(d.split)),a.append("circle").attr("fill","none").style("pointer-events","all"),a.append("text").attr("class","parent"),o.merge(l).select("svg").select("g.sunburst").attr("transform",`translate(${c.width/2}, ${c.height/2})`).each(function({split:d,data:f}){let h=ue(this),_=this.parentNode,{width:p,height:x}=_.getBoundingClientRect(),b=(Math.min(p,x)-24)/Math.max(2,t.crossValues.length*2);rk().settings(t).split(d).data(f).color(r).radius(b)(h),Ho().settings(t)(h.selectAll("g.segment"))})}i0.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var ik=i0;function ak(e,t){var i;if(e.realValues.length<1||e.realValues[1]===null||e.realValues[1]===void 0)return;let n=e.realValues[1],r=t.filter(a=>a.height>0).map(a=>a0(a)).reduce((a,o)=>a.concat(o));if(((i=e.mainValues.find(a=>a.name===n))==null?void 0:i.type)==="string")return go(e,r);{let a=Math.min(...r),o=Math.max(...r);return Ko(e,null,null,[a,o])}}function a0(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(a0(n,t))):e.data.color&&t.push(e.data.color),t}var fd=7,Dl=e=>!!(e.target&&e.target.textAttributes),o0=(e,t,n)=>{e.selectAll("text").each(function(i,a){let o=dk(i,t,n);this.style=o});let r=Tc(e);ck(r),l0(r)},ok=e=>{e.each((t,n,r)=>{ue(r[n]).selectAll("text").attr("dx",t.target.textAttributes.dx).attr("dy",t.target.textAttributes.dy).attr("style",t.target.textAttributes.style)})},l0=e=>{let t=r=>r.getBoundingClientRect(),n=[];e.selectAll("text").filter((r,i,a)=>ue(a[i]).attr("style")===Kn.high).each((r,i,a)=>n.push(a[i])),e.selectAll("text").filter((r,i,a)=>ue(a[i]).attr("style")===Kn.low).each((r,i,a)=>{let o=a[i];n.filter(l=>Jf("x",t(l),t(o))&&Jf("y",t(l),t(o),-2)).forEach(()=>ue(o).attr("dy",Number(ue(o).attr("dy"))+14))})},lk=e=>ue(e).style("opacity",$c[ue(e).attr("class")]),sk=e=>ue(e).style("opacity",null),$c={top:1,mid:.7,lower:0},Tc=e=>e.filter((t,n,r)=>ue(r[n]).selectAll("text").attr("style")!==Kn.zero),s0=e=>e.selectAll("text").each((t,n,r)=>uk(r[n])),ck=e=>e.selectAll("text").each((t,n,r)=>c0(r[n])),c0=e=>{let t=ue(e),n=e.getBoundingClientRect();t.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},uk=e=>{let t=e.parentNode.childNodes[0],n=e.getBBox(),r=t.getBBox();fk(e,r,n)||ue(e).attr("style",ue(e).attr("style"))},fk=(e,t,n)=>{let r=Math.min(t.height/n.height,t.width/n.width);if(r<1){let i=parseInt(ue(e).style("font-size")),a=Math.floor(i*r);return i>fd&&a>fd?(ue(e).style("font-size",`${a}px`),c0(e)):(ue(e).style("font-size",null),ue(e).style("opacity","0")),!0}return!1},dk=(e,t,n)=>{if(!n.filter(r=>r!=="").every(r=>e.crossValue.includes(r)))return Kn.zero;switch(e.depth){case t+1:return Kn.high;case t+2:return Kn.low;default:return Kn.zero}},Kn={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"},u0=(e,t)=>{let n=M5().size([e,t]).paddingInner(r=>1+2*(r.height-1));return n.tile(E5),n},hk=(e,t)=>t.every(n=>e.crossValue.includes(n));function f0(e,t,n,r,i,a){gk(e,t,n,r,i),e.mapLevel[r].levelRoot=!0,pk(e,a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height,r),h0(n,r)}function _k(e,t){e.each(n=>{n.mapLevel=[],n.mapLevel[0]={x0:n.x0,x1:Ji(n)+n.x0,y0:n.y0,y1:Zi(n)+n.y0,visible:!0,opacity:1}}),t.mapLevel[0].levelRoot=!0,h0(e,0)}var d0=(e,t)=>{e.each((n,r,i)=>{let a=ue(i[r]).selectAll("text");n.mapLevel[t].textAttributes={dx:a.attr("dx"),dy:a.attr("dy"),class:a.attr("class"),"font-size":a.style("font-size")}})};function gk(e,t,n,r,i){let a={x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0},o={width:i.x1-i.x0,height:i.y1-i.y0},l={width:o.width/a.width,height:o.height/a.height};n.each(s=>{let c=(s.x0-a.x)*l.width,u=(s.y0-a.y)*l.height,d=Ji(s)*l.width,f=Zi(s)*l.height,h=hk(s,t)&&s.data.name!==t[r-1];s.mapLevel[r]={x0:c,x1:d+c,y0:u,y1:f+u,visible:h,opacity:h?1:0}}),e.mapLevel[r].levelRoot=!0}function pk(e,t,n,r){let i=u0(t,n)(Do(e.data).sum(o=>o.size)).descendants(),a=e.descendants();i.forEach((o,l)=>{a[l].mapLevel[r].x0=i[l].x0,a[l].mapLevel[r].x1=i[l].x1,a[l].mapLevel[r].y0=i[l].y0,a[l].mapLevel[r].y1=i[l].y1})}function h0(e,t){e.selectAll("text").each((n,r,i)=>{let a=ue(i[r]),o=ue(i[r]).datum(),l=a.attr("class");o.mapLevel[t].textLockedAt={opacity:$c[l]}})}function bk(e,t,n,r,i,a,o,l,s){if(r.treemapLevel>0){let c=o.crossValue;ws(o,e,t,n,r,i,a,o,0,c,l,s,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach(u=>{let d=t.filter(h=>h.crossValue===u).datum(),f=d.crossValue;f0(d,f,t,d.depth,o,i),ws(d,e,t,n,r,i,a,o,d.depth,f,l,s,1,!1)})}}function _0(e,t,n,r,i,a,o,l,s,c){if(!e.children)return;i.treemapLevel<e.depth?i.treemapRoute.push(e.crossValue):i.treemapRoute.pop(),i.treemapLevel=e.depth;let u=e.crossValue;(!e.mapLevel[i.treemapLevel]||!e.mapLevel[i.treemapLevel].levelRoot)&&f0(e,u,n,i.treemapLevel,l,a),ws(e,t,n,r,i,a,o,l,i.treemapLevel,u,s,c)}function ws(e,t,n,r,i,a,o,l,s,c,u,d,f=500,h=!0){let _=e.parent,p=o.transition("main transition").duration(f).ease(P_);n.each(b=>b.target=b.mapLevel[s]),Dl(e)||vk(n,u),n.transition(p).tween("data",b=>{let A=In(b.current,b.target);return $=>b.current=A($)}).styleTween("opacity",b=>()=>b.current.opacity).attrTween("pointer-events",b=>()=>b.target.visible?"all":"none"),t.transition(p).filter(b=>b.target.visible).styleTween("x",b=>()=>`${b.current.x0}px`).styleTween("y",b=>()=>`${b.current.y0}px`).styleTween("width",b=>()=>`${b.current.x1-b.current.x0}px`).styleTween("height",b=>()=>`${b.current.y1-b.current.y0}px`),r.transition(p).filter(b=>b.target.visible).attrTween("x",b=>()=>b.current.x0+Ji(b.current)/2).attrTween("y",b=>()=>b.current.y0+Zi(b.current)/2).end().catch(()=>Il(n)).then(()=>{Dl(e)||(l0(x),s0(x),mk(r,o,f),h&&d0(n,s),Il(n,u))}).catch(b=>{console.error("Exception completing promises after main transition",b),Il(n,u)}),Dl(e)?ok(n):(r.each((b,A,$)=>lk($[A])),o0(n,s,c));let x=Tc(n);_?u.hide(!1).text(e.label).onClick(()=>{_0(_,t,n,r,i,a,o,l,u,d);let b=a.node().getRootNode().host.parentElement;yc(b,_,d)})():u.hide(!0)()}async function mk(e,t,n=400){let r=t.transition("text fade transition").duration(n).ease(P_);await e.transition(r).filter(i=>i.target.visible).tween("data",(i,a,o)=>{let l=o[a],s=In(wk(i),yk(l));return c=>i.current.opacity=s(c)}).styleTween("opacity",i=>()=>i.current.opacity).end().catch(i=>console.error("Exception in text fade transition",i)).then(()=>e.each((i,a,o)=>sk(o[a])))}var wk=e=>e.target.textLockedAt.opacity,yk=e=>$c[ue(e).attr("class")],vk=(e,t)=>{t.deactivate(!0),e.each((n,r,i)=>{ue(i[r]).selectAll("rect").style("pointer-events","none")})},Il=(e,t=void 0)=>{t&&t.deactivate(!1),e.each((n,r,i)=>{ue(i[r]).selectAll("rect").style("pointer-events",null)})},xk=`<button id="goto-parent">Goto parent</button>
`;function kk(e){let t=null,n=null,r=!0,i=!1,a=Pt(e,".parent-controls",()=>e.append("div").attr("class","parent-controls").style("display",r?"none":"").html(xk)),o=()=>{a.style("display",r?"none":"").select("#goto-parent").style("pointer-events",i?"none":null).html(`â‡ª ${n}`).on("click",()=>t())};return o.deactivate=(...l)=>{if(!l.length)return i;i=l[0];let s=a.select("#goto-parent");return i?s.style("pointer-events","none"):s.style("pointer-events",null),o},o.hide=(...l)=>l.length?(r=l[0],o):r,o.text=(...l)=>l.length?(n=l[0],o):n,o.onClick=(...l)=>l.length?(t=l[0],o):t,o}var Ua={leaf:"leafnode",branch:"branchnode",root:"rootnode"},Ji=e=>e.x1-e.x0,Zi=e=>e.y1-e.y0,Sk=(e,t)=>t.depth===e,dd=(e,t)=>t.depth===0?Ua.root:Sk(e,t)?Ua.leaf:Ua.branch;function Mk(){let e=null,t=null,n=null,r=null,i=null,a=null,o=l=>{a=kk(i),a();let s=n.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),u0(i.node().getBoundingClientRect().width,i.node().getBoundingClientRect().height)(n);let c=l.selectAll("g").data(n.descendants()),u=c.enter().append("g");u.append("rect"),u.append("text");let d=u.merge(c).sort((p,x)=>x.depth-p.depth),f=d.select("rect").attr("class",p=>`treerect ${dd(s,p)}`).style("x",p=>`${p.x0}px`).style("y",p=>`${p.y0}px`).style("width",p=>`${Ji(p)}px`).style("height",p=>`${Zi(p)}px`);f.style("fill",p=>dd(s,p)===Ua.leaf?p.data.color?r(p.data.color):t.colorStyles.series:"transparent");let h=d.filter(p=>p.value!==0).select("text").attr("x",p=>p.x0+Ji(p)/2).attr("y",p=>p.y0+Zi(p)/2).text(p=>p.label),_=f.filter(p=>p.crossValue.length===0).datum();_k(d,_),o0(d,0,[]),s0(Tc(d)),d0(d,0),e.treemapRoute.length===0&&e.treemapRoute.push(_.crossValue),f.filter(p=>p.children).on("click",(p,x)=>_0(x,f,d,h,e,i,l,_,a,t)),bk(f,d,h,e,i,l,_,a,t)};return o.settings=(...l)=>l.length?(e=l[0],t=l[1],o):e,o.data=(...l)=>l.length?(n=l[0],o):n,o.color=(...l)=>l.length?(r=l[0],o):r,o.container=(...l)=>l.length?(i=l[0],o):i,o}function g0(e,t){var l;t.treemaps||(t.treemaps={});let n=t0(t),r=ak(t,n.map(s=>s.data));r&&this._container.classList.add("has-legend");let i=Ac().elementsPrefix("treemap");if(e.datum(n).call(i),r){let s=t.realValues[1];if(((l=t.mainValues.find(c=>c.name===s))==null?void 0:l.type)==="string"){let c=Fn().settings(t).scale(r);e.call(c)}else{let c=Jo().scale(r);e.call(c)}}let a=i.chartEnter(),o=i.chartDiv();i.chartTitle().each((s,c,u)=>ue(u[c]).text(s.split)),a.merge(o).select("svg").select("g.treemap").each(function({split:s,data:c}){let u=ue(this);t.treemaps[s]||(t.treemaps[s]={}),Mk().settings(t.treemaps[s],t).data(c).container(ue(ue(this.parentNode).node().parentNode)).color(r)(u),Ho().settings(t).centered(!0)(u.selectAll("g"))})}g0.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:3e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var Ek=g0,Ak=[f9,p9,m9,A9,C9,L9,F9,Q9,K9,Ek,ik,q9],hd=Ak,_d=(e,t)=>{if(!t.colorStyles){let n={scheme:[],gradient:{},interpolator:{},grid:{}},r=Ck(e);n.series=r("--d3fc-local-series");for(let i=1;;i++){let a=`series-${i}`,o=r(`--d3fc-local-${a}`);if(!o)break;n[a]=o,n.scheme.push(o)}n.opacity=$k(n.series),n.grid.gridLineColor=r`--d3fc-gridline--color`,["full","positive","negative"].forEach(i=>{let a=r(`--d3fc-local-${i}--gradient`);n.gradient[i]=Nk(a,n.opacity)}),t.colorStyles=n}if(!t.textStyles){let n=window.getComputedStyle(e),r=n.getPropertyValue("color"),i=`12px ${n.getPropertyValue("font-family")}`;t.textStyles={color:r,font:i}}},$k=e=>on(e).opacity,Tk=(e,t)=>{let n=on(`#${e}`);return n.opacity=t,n+""},Ck=e=>{let t=getComputedStyle(e);return n=>t==null?void 0:t.getPropertyValue(n)},Nk=(e,t)=>{let n=o7.parse(e)[0].colorStops;return n.map((r,i)=>[r.length?r.length.value/100:i/(n.length-1),Tk(r.value,t)]).sort((r,i)=>r[0]-i[0])},Ok=':host .chart{--d3fc-local-full--gradient:var(--d3fc-full--gradient,linear-gradient(#4d342f 0%,#e4521b 22.5%,#feeb65 42.5%,#f0f0f0 50%,#dcedc8 57.5%,#42b3d5 67.5%,#1a237e 100%));--d3fc-local-positive--gradient:var(--d3fc-positive--gradient,linear-gradient(#dcedc8 0%,#42b3d5 35%,#1a237e 100%));--d3fc-local-negative--gradient:var(--d3fc-negative--gradient,linear-gradient(#feeb65 100%,#e4521b 70%,#4d342f 0%));--d3fc-local-series:var(--d3fc-series,rgba(31,119,180,0.5));--d3fc-local-series-1:var(--d3fc-series-1,#0366d6);--d3fc-local-series-2:var(--d3fc-series-2,#ff7f0e);--d3fc-local-series-3:var(--d3fc-series-3,#2ca02c);--d3fc-local-series-4:var(--d3fc-series-4,#d62728);--d3fc-local-series-5:var(--d3fc-series-5,#9467bd);--d3fc-local-series-6:var(--d3fc-series-6,#8c564b);--d3fc-local-series-7:var(--d3fc-series-7,#e377c2);--d3fc-local-series-8:var(--d3fc-series-8,#7f7f7f);--d3fc-local-series-9:var(--d3fc-series-9,#bcbd22);--d3fc-local-series-10:var(--d3fc-series-10,#17becf);}:host .chart .series{fill:var(--d3fc-local-series);}:host .chart .series-1{fill:var(--d3fc-local-series-1);}:host .chart .series-2{fill:var(--d3fc-local-series-2);}:host .chart .series-3{fill:var(--d3fc-local-series-3);}:host .chart .series-4{fill:var(--d3fc-local-series-4);}:host .chart .series-5{fill:var(--d3fc-local-series-5);}:host .chart .series-6{fill:var(--d3fc-local-series-6);}:host .chart .series-7{fill:var(--d3fc-local-series-7);}:host .chart .series-8{fill:var(--d3fc-local-series-8);}:host .chart .series-9{fill:var(--d3fc-local-series-9);}:host .chart .series-10{fill:var(--d3fc-local-series-10);}:host{user-select:none;}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:12px;overflow:hidden;}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);}:host .chart .chart-label{display:none;}:host .chart.heatmap{padding-right:120px;}:host .chart.xyscatter{padding:0;font-size:14px;}:host .chart.xyscatter d3fc-group:first-child{padding:16px;padding-top:0px;width:calc(100% - 32px);height:calc(100% - 16px);}:host .chart.xyscatter .multi-xlabel{position:absolute;bottom:0;height:2.5em;width:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .multi-ylabel{position:absolute;top:0;width:2.5em;height:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .outer-container{height:100%;}:host .chart.xyscatter .inner-container{display:inline-grid;overflow-y:auto;width:calc(100% - 16px);height:100%;padding:0;margin:0;}:host .chart.xyscatter .inner-container div{overflow:hidden;}:host .chart.xyscatter .inner-container text.segment,:host .chart.xyscatter .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.xyscatter .inner-container div.xy-scatter-container{margin:5px 0;}:host .chart.sunburst{padding:0;font-size:14px;}:host .chart.sunburst .outer-container{height:100%;}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.sunburst .inner-container div{overflow:hidden;}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translate(0,-27px);}:host .chart.sunburst .inner-container svg{width:100%;height:100%;}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.sunburst .inner-container div.title-container{margin-top:5px;}:host .chart.has-legend{padding-right:120px;}:host .chart.treemap .treemap-container{position:relative;}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px);}:host .chart.treemap .outer-container{height:100%;}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.treemap .inner-container div{overflow:hidden;}:host .chart.treemap .inner-container svg{width:100%;height:100%;}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines,var(--d3fc-axis--lines,white));fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight,black);stroke-opacity:1;}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .branchnode{opacity:0;}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:0.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight,black);}:host .chart.treemap .inner-container .leafnode{fill-opacity:0.8;}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:0.5;}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none;}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:0.7;z-index:4;}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4;}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging;}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:12px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s;}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px#000;transition:box-shadow 0.2s;}:host .chart .x-label{height:1.2em!important;line-height:1em!important;}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color,inherit);font-size:14px;}:host .chart d3fc-canvas.plot-area{display:none;}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block;}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color,rgb(80,80,80));font-size:11px;}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer;}:host .chart .splitter-label::after{margin-left:5px;color:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label:hover::after{color:var(--d3fc-axis-ticks--color,rgb(80,80,80));}:host .chart .splitter-label.disabled::after{color:rgba(80,80,80,0.3);}:host .chart .splitter-label.disabled{cursor:default;}:host .chart .y-label.left-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}:host .chart .y-label.right-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden;}:host .chart .y-label{white-space:nowrap;}:host .chart .nearbyTip{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none;}:host #dragHandles rect{pointer-events:all;}:host .label rect{fill:none;}:host .legend-container{position:absolute;top:12px;right:12px;left:auto;width:150px;height:280px;}:host .legend-container.legend-color{width:90px;height:150px;}:host .legend-container[borderbox-on-hover="true"]{transition:box-shadow 1s;}:host .legend-container[borderbox-on-hover="true"]:hover{background-color:var(--d3fc-legend--background,#ffffff);transition:box-shadow 0.2s,background-color 0.2s;}:host .legend-container .legend{font-size:8pt;width:100%;}:host .legend-container .legend .cell{cursor:pointer;}:host .legend-container .legend .cell path{fill:var(--d3fc-series,rgba(31,119,180,0.5));stroke:var(--d3fc-series,rgb(31,119,180));}:host .legend-container .legend .cell.hidden path{fill:rgba(204,204,204,0.5);stroke:rgb(204,204,204);}:host .legend-container .legend .cell.hidden circle{fill:rgb(204,204,204)!important;}:host .legend-container text{fill:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .label:hover{fill:rgb(34,160,206);}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .legend-controls{margin-left:12px;}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:rgb(31,119,180);}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:rgb(51,51,51);}:host .heatmap .legend-container.legend-color{height:200px;}:host .treemap .legend-container.legend-color{height:200px;}:host .treemap .legend-container:not(.legend-color){width:100px;}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center;}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background,rgb(247,247,247));border:1px solid var(--inactive--color,rgb(204,204,204));color:var(--d3fc-label--color,inherit);font-size:12px;padding:8px;opacity:0.5;cursor:pointer;}:host .zoom-controls button:hover{opacity:1;}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right;}:host .parent-controls button{-webkit-appearance:none;background:rgb(247,247,247);border:1px solid rgb(204,204,204);padding:10px;opacity:0.5;cursor:pointer;}:host .parent-controls button:hover{background:rgb(230,230,230);}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:0.5em;background:var(--d3fc-tooltip--background,#ffffff);color:var(--d3fc-tooltip--color,black);border:1px solid var(--d3fc-tooltip--border-color,#777777);box-shadow:var(--d3fc-tooltip--box-shadow,none);pointer-events:none;}:host div.tooltip ul{margin:0;padding:0;list-style-type:none;}',gd={initial:{count:1,names:[]}},Lk=`${Ok}${zk()}`,Pl=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","textStyles","agg_paths","treemaps","axisMemo","columns_config"];function zk(){let e=document.querySelector("head").querySelectorAll("style"),t=[];return e.forEach(n=>{n.innerText.indexOf("d3fc-")!==-1&&t.push(n.innerText)}),t.join("")}async function Rk(e){await customElements.get("perspective-viewer").registerPlugin(e)}function Vk(...e){let t=new Set(e.length>0?e:hd.map(n=>n.plugin.name));hd.forEach(n=>{if(t.has(n.plugin.name)){let r=n.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),i=`perspective-viewer-d3fc-${r}`;customElements.define(i,class extends HTMLElement{constructor(){super();Sn(this,"_chart");Sn(this,"_settings");Sn(this,"render_warning");Sn(this,"_initialized");Sn(this,"_container");Sn(this,"_staged_view");Sn(this,"config");this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${Lk}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return n.plugin.name}get category(){return n.plugin.category}get select_mode(){return n.plugin.selectMode||"select"}get min_config_columns(){var o;return((o=n.plugin.initial)==null?void 0:o.count)||gd.initial.count}get config_column_names(){var o;return((o=n.plugin.initial)==null?void 0:o.names)||gd.initial.names}get max_cells(){return n.plugin.max_cells||4e3}set max_cells(o){n.plugin.max_cells=o}get max_columns(){return n.plugin.max_columns||50}set max_columns(o){n.plugin.max_columns=o}can_render_column_styles(o,l){var s;return(s=n.can_render_column_styles)==null?void 0:s.call(this,o,l)}column_style_controls(o,l){var s;return(s=n.column_style_controls)==null?void 0:s.call(this,o,l)}async render(){var o=document.createElement("canvas"),l=this.shadowRoot.querySelector("#container");o.width=l.offsetWidth,o.height=l.offsetHeight;let s=o.getContext("2d");s.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",s.fillRect(0,0,o.width,o.height);let c=window.getComputedStyle(this).getPropertyValue("color"),u=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let _ of u.reverse()){var d=document.createElement("img");let p=0;d.width=_.parentElement?_.parentElement.offsetWidth:p,d.height=_.parentElement?_.parentElement.offsetHeight:p;let x=_.cloneNode(!0);x.hasAttribute("viewBox")||x.setAttribute("viewBox",`0 0 ${d.width} ${d.height}`),x.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let A of x.querySelectorAll("text"))A.setAttribute("fill",c);var f=new XMLSerializer().serializeToString(x);f=f.replace(/[^\x00-\x7F]/g,"");let b=new Promise((A,$)=>{d.onload=A,d.onerror=$});try{d.src=`data:image/svg+xml;base64,${btoa(f)}`,await b}catch{let A=new Promise(($,S)=>{d.onload=$,d.onerror=S});d.src=`data:image/svg+xml;utf8,${f}`,await A}s.drawImage(d,_.parentNode.offsetLeft,_.parentNode.offsetTop,d.width,d.height)}let h=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let _ of h.reverse())s.drawImage(_,_.parentNode.offsetLeft,_.parentNode.offsetTop,_.width/window.devicePixelRatio,_.height/window.devicePixelRatio);return await new Promise(_=>o.toBlob(p=>_(p)),"image/png")}async draw(o,l,s){if(this.offsetParent===null){this._staged_view=[o,l,s];return}this._staged_view=void 0,this._settings&&(this._settings.axisMemo=[[1/0,-1/0],[1/0,-1/0]]),await this.update(o,l,s,!0)}async update(o,l,s,c=!1){if(this.offsetParent===null)return;let u=this.parentElement,d,f,h=n.plugin.name!=="Sunburst";l&&s?d=o.to_columns_string({end_row:s,end_col:l,leaves_only:h}):l?d=o.to_columns_string({end_col:l,leaves_only:h}):s?d=o.to_columns_string({end_row:s,leaves_only:h}):d=o.to_columns_string({leaves_only:h}),f=await Promise.all([u.save(),u.getTable().then(U=>U.schema()),o.expression_schema(!1),o.schema(!1),d,o.get_config()]);let[_,p,x,b,A,$]=f,S=JSON.parse(A),w=Object.keys(S),k={row(U){let ae={};for(let fe of w)ae[fe]=S[fe][U];return ae}};this.config=_;let I=this.config.columns,L=function(U){let ae=p[U];return ae||(ae=x[U]),ae},{columns:G,group_by:F,split_by:D,filter:Z}=$,W=S[Object.keys(S)[0]]||[],O=F.length>0?W.reduce((U,ae,fe)=>{let j=k.row(fe);if(j.__ROW_PATH__&&j.__ROW_PATH__.length==F.length)U.agg_paths.push(U.aggs.slice()),U.rows.push(j);else{let K=j.__ROW_PATH__.filter(ce=>ce!==void 0).length;U.aggs[K]=j,U.aggs=U.aggs.slice(0,K+1)}return U},{rows:[],aggs:[],agg_paths:[]}):{rows:W.map((U,ae)=>k.row(ae))},H=(U,ae)=>F.length?U:{...U,__ROW_PATH__:[ae]},z=O.rows.map(H),Q={realValues:I,crossValues:F.map(U=>({name:U,type:L(U)})),mainValues:G.map(U=>({name:U,type:b[U]})),splitValues:D.map(U=>({name:U,type:L(U)})),filter:Z,data:z,agg_paths:O.agg_paths,...this.config.plugin_config};this._chart=n;let V={set:(U,ae,fe)=>(Pl.includes(ae)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),U[ae]=fe,!0)},q=[[1/0,-1/0],[1/0,-1/0]];this._settings=new Proxy({axisMemo:q,...this._settings,...Q},V),this._settings.splitMainValues&&this._settings.splitMainValues.length>=G.length&&(this._settings.splitMainValues=[]),_d(this._container,this._settings),c&&(this._container.innerHTML=""),this._draw(),await new Promise(U=>requestAnimationFrame(U))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(this.offsetParent!==null){let o=ue(this._container),l=`chart ${r}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(o.attr("class",l),this._settings):o.attr("class",`${l} disabled`)}}async resize(o){var l;if(this.offsetParent!==null)if(((l=this._settings)==null?void 0:l.data)!==void 0)this._draw();else{let[s,c,u]=this._staged_view;this._staged_view=void 0,this.draw(s,c,u)}}async restyle(o,l,s){let c=this._settings;c&&(delete c.colorStyles,delete c.textStyles,this.isConnected&&(_d(this._container,this._settings),this.resize(o)))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let o={...this._settings};return Pl.forEach(l=>{delete o[l]}),o}restore(o,l){var c,u;let s={};for(let d of Pl)((c=this._settings)==null?void 0:c[d])!==void 0&&(s[d]=(u=this._settings)==null?void 0:u[d]);this._settings={...s,...o,columns_config:l}}}),customElements.whenDefined("perspective-viewer").then(()=>Rk(i))}})}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);Vk();var Dk=yt("<perspective-viewer></perspective-viewer>",2);function Ik(e,t){Vn(t,!0);let n=Jt(null),r=Jt(null);xs(async()=>{ve(n)===null&&ct(n,await Hl.worker())}),Ed(()=>{ve(n)&&ve(n).terminate()});async function i(l){ve(n)||ct(n,await Hl.worker());const s=await ve(n).table(l);ct(r,document.getElementById(t.id)),await ve(r).load(s),t.perspectiveConfig?await ve(r).restore(t.perspectiveConfig):await ve(r).restore({columns:[],plugin:"datagrid"})}async function a(){return ve(r)?await ve(r).save():{columns:[],plugin:"datagrid"}}var o=Dk();return pn(()=>lp(o,"id",t.id)),Ss(o,1,"resultviewer svelte-25cc6r"),Ze(e,o),Dn({loadData:i,saveViewerConfig:a})}var Pk=(e,t,n)=>t(ve(n).id),Fk=(e,t,n)=>{e.stopPropagation(),t(ve(n).id)},Uk=yt('<button class="close-btn svelte-hrml3b">Ã—</button>'),jk=yt('<div><input type="text" class="tab-name-input svelte-hrml3b"> <!></div>'),Wk=yt('<div class="tab-container svelte-hrml3b"><div class="tab-bar svelte-hrml3b"><!> <button class="add-tab-btn svelte-hrml3b">+</button></div> <div class="tab-content svelte-hrml3b"><!></div></div>');function qk(e,t){Vn(t,!0);let n=Ge(t,"tabs",31,()=>pi([])),r=Ge(t,"activeTabId",15,0);function i(){const h=Math.max(...n().map(p=>p.id),0)+1,_={id:h,name:`Query ${h}`,query:"",queryName:"",limit:1e5,perspectiveConfig:{columns:[],plugin:"datagrid"},error:"",lastQueryTime:0,executing:!1};n([...n(),_]),r(h)}function a(h){n().length!==1&&(n(n().filter(_=>_.id!==h)),r()===h&&n().length>0&&r(n()[0].id))}function o(h,_){n(n().map(p=>p.id===h?{...p,name:_}:p))}n().length===0&&i();var l=Wk(),s=et(l),c=et(s);mo(c,17,n,h=>h.id,(h,_,p)=>{var x=jk();x.__click=[Pk,r,_];var b=et(x);Li(b);var A=at(b,2);{var $=S=>{var w=Uk();w.__click=[Fk,a,_],Ze(S,w)};Sr(A,S=>{n().length>1&&S($)})}Ke(x),pn(()=>Ss(x,1,`tab ${(r()===ve(_).id?"active":"")??""}`,"svelte-hrml3b")),nn("blur",b,S=>o(ve(_).id,S.target.value)),zi(b,()=>ve(_).name,S=>ve(_).name=S),Ze(h,x)});var u=at(c,2);u.__click=i,Ke(s);var d=at(s,2),f=et(d);Q0(f,()=>t.children),Ke(d),Ke(l),Ze(e,l),Dn()}X0(["click"]);const Bk=""+new URL("../assets/perspective-server.UEcA6ZPP.wasm",import.meta.url).href,Hk=""+new URL("../assets/perspective-viewer.DuNKur-R.wasm",import.meta.url).href;async function Yk(){console.log("Loading WASM"),await Hl.init_server(fetch(Bk)),await km.init_client(fetch(Hk)),console.log("Done loading WASM")}class Xk{constructor(t="http://localhost:8888"){this.baseUrl=t}async executeQuery(t,n,r,i,a="local"){const o=t.trim().toUpperCase(),l=o.startsWith("SHOW "),s=o.startsWith("DESCRIBE "),c=l||s?t:`SELECT * FROM (
${t}
) LIMIT ${n}`,u=await fetch(`${this.baseUrl}/trino`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:c,user:r,password:i,environment:a})});return u.ok?{success:!0,data:await u.arrayBuffer()}:{success:!1,error:(await u.json()).error}}}class Gk{saveQuery(t){localStorage.setItem("query",t)}getQuery(){return localStorage.getItem("query")||""}saveUsername(t){localStorage.setItem("username",t)}getUsername(){return localStorage.getItem("username")||""}saveEnvironment(t){localStorage.setItem("environment",t)}getEnvironment(){return localStorage.getItem("environment")||null}saveSavedQueries(t){localStorage.setItem("savedQueries",JSON.stringify(t))}getSavedQueries(){const t=localStorage.getItem("savedQueries");return t?JSON.parse(t):[]}}var Qk=yt('<div><div class="editors svelte-mlylp5"><!></div> <!> <!> <!></div>'),Kk=yt('<div class="container svelte-mlylp5"><!> <div id="content" class="svelte-mlylp5"><!></div></div>');function CS(e,t){Vn(t,!0);const n=(F,D=Jc,Z=Jc)=>{var W=Na(),O=Oa(W);{var H=z=>{var Q=Qk();let V;var q=et(Q),U=et(q);lb(U,{get query(){return D().query},set query(ce){D().query=ce}}),Ke(q);var ae=at(q,2);gb(ae,{get executing(){return D().executing},get lastQueryTime(){return D().lastQueryTime},onSave:A,onReset:$,onExecute:w,onEnvironmentChange:S,get queryName(){return D().queryName},set queryName(ce){D().queryName=ce},get limit(){return D().limit},set limit(ce){D().limit=ce},get selectedEnvironment(){return ve(c)},set selectedEnvironment(ce){ct(c,ce,!0)}});var fe=at(ae,2);bb(fe,{get error(){return D().error}});var j=at(fe,2);const K=Ul(()=>"result"+D().id);Md(Ik(j,{get perspectiveConfig(){return D().perspectiveConfig},get id(){return ve(K)}}),ce=>D().resultViewerComponent=ce,()=>{var ce;return(ce=D())==null?void 0:ce.resultViewerComponent}),Ke(Q),pn(()=>V=ip(Q,"",V,{display:Z()?"contents":"none"})),Ze(z,Q)};Sr(O,z=>{D()&&z(H)})}Ze(F,W)},r=new Gk,i=new Xk;let a=Jt(pi(r.getUsername())),o=Jt(""),l=Jt(!1),s=Jt(pi(r.getSavedQueries())),c=Jt(pi(r.getEnvironment()||cb()));const d=new URLSearchParams(window.location.search).get("query");let f=Jt(pi([{id:1,name:"Query 1",query:d??r.getQuery()??"",queryName:"",limit:1e5,perspectiveConfig:{columns:[],plugin:"datagrid"},error:"",lastQueryTime:0,executing:!1,resultViewerComponent:null}])),h=Jt(1);function _(){return ve(f).find(F=>F.id===ve(h))}xs(async()=>{await Yk()});function p(F){F.ctrlKey&&F.key==="Enter"&&ve(l)&&(F.preventDefault(),w())}function x(F,D){ct(a,F,!0),ct(o,D,!0),ct(l,!0),r.saveUsername(ve(a))}function b(F){const D=_();D&&(D.queryName=F.name,D.query=F.query,D.perspectiveConfig=F.perspectiveConfig??{columns:[],plugin:"datagrid"},ct(f,[...ve(f)],!0))}async function A(){const F=_();if(!F||!F.resultViewerComponent)return;const D=await F.resultViewerComponent.saveViewerConfig(),Z={name:F.queryName,query:F.query,perspectiveConfig:D};ct(s,ve(s).filter(W=>W.name!==F.queryName).concat(Z).sort((W,O)=>W.name.localeCompare(O.name)),!0),r.saveSavedQueries(ve(s))}function $(){const F=_();F&&(F.query="",F.queryName="",F.perspectiveConfig={columns:[],plugin:"datagrid"},ct(f,[...ve(f)],!0))}function S(F){ct(c,F,!0),r.saveEnvironment(ve(c))}async function w(){const F=_();if(!F){console.warn("No active tab",ve(h));return}console.log("Executing query",F.query),r.saveQuery(F.query),F.error="",F.executing=!0,F.lastQueryTime=0;const D=performance.now(),Z=setInterval(()=>{F.lastQueryTime=performance.now()-D,ct(f,[...ve(f)],!0)},100),W=await i.executeQuery(F.query,F.limit,ve(a),ve(o),ve(c));F.executing=!1,clearInterval(Z),F.lastQueryTime=performance.now()-D,W.success&&F.resultViewerComponent?await F.resultViewerComponent.loadData(W.data):(console.log("Error",W.success,F.resultViewerComponent),F.error=W.error),ct(f,[...ve(f)],!0)}var k=Na();nn("keydown",H0,p);var I=Oa(k);{var L=F=>{var D=Kk(),Z=et(D);const W=Ul(()=>{var z;return((z=_())==null?void 0:z.queryName)||""});pp(Z,{get savedQueries(){return ve(s)},get currentQueryName(){return ve(W)},onQuerySelected:b});var O=at(Z,2),H=et(O);qk(H,{get tabs(){return ve(f)},set tabs(z){ct(f,z,!0)},get activeTabId(){return ve(h)},set activeTabId(z){ct(h,z,!0)},children:(z,Q)=>{var V=Na(),q=Oa(V);mo(q,17,()=>ve(f),ks,(U,ae)=>{n(U,()=>ve(ae),()=>ve(ae).id===ve(h))}),Ze(z,V)},$$slots:{default:!0}}),Ke(O),Ke(D),Ze(F,D)},G=F=>{hp(F,{onLogin:x,get username(){return ve(a)},set username(D){ct(a,D,!0)},get password(){return ve(o)},set password(D){ct(o,D,!0)}})};Sr(I,F=>{ve(l)?F(L):F(G,!1)})}Ze(e,k),Dn()}export{CS as component};
