var c0=Object.defineProperty;var u0=(e,t,n)=>t in e?c0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kn=(e,t,n)=>u0(e,typeof t!="symbol"?t+"":t,n);import{t as jt,a as bt,d as Dc,c as ld}from"../chunks/Ci8nbf_Y.js";import{G as il,o as Mt,A as f0,z as d0,F as h0,j as _0,g as Le,W as sd,I as g0,J as Pc,K as xi,p as ii,ae as p0,L as cd,k as ud,M as b0,ai as fd,i as m0,$ as w0,ao as Ic,ap as al,C as Vl,aq as y0,ar as v0,as as x0,ah as k0,at as S0,m as M0,au as E0,av as A0,ac as $0,aw as T0,a6 as Fc,a7 as Uc,a8 as C0,ax as N0,ay as O0,az as L0,aA as z0,aB as R0,b as V0,O as D0,Q as P0,a9 as I0,N as dd,aC as F0,s as nr,w as ft,y as pt,x as at,v as rr,t as kr,al as $t,a as _a,an as U0,_ as Ge,aD as j0,q as hd,Z as ga,aE as W0}from"../chunks/Dgu6Pu32.js";import{a as B0,l as _d,e as gn,s as go}from"../chunks/CEYJiJEi.js";import{p as Ke,_ as ve,b as gd,i as Pa}from"../chunks/DMDh7aRs.js";import{c as q0,o as gs,a as pd}from"../chunks/CQAtN1f5.js";import{i as Ki}from"../chunks/CLLTEf_6.js";function bd(e,t){return t}function H0(e,t,n,r){for(var i=[],a=t.length,o=0;o<a;o++)x0(t[o].e,i,!0);var l=a>0&&i.length===0&&n!==null;if(l){var s=n.parentNode;k0(s),s.append(n),r.clear(),En(e,t[0].prev,t[a-1].next)}S0(i,()=>{for(var c=0;c<a;c++){var u=t[c];l||(r.delete(u.k),En(e,u.prev,u.next)),M0(u.e,!l)}})}function md(e,t,n,r,i,a=null){var o=e,l={flags:t,items:new Map,first:null};{var s=e;o=Mt?il(f0(s)):s.appendChild(d0())}Mt&&h0();var c=null,u=!1,d=sd(()=>{var f=n();return m0(f)?f:f==null?[]:fd(f)});_0(()=>{var f=Le(d),h=f.length;if(u&&h===0)return;u=h===0;let g=!1;if(Mt){var p=o.data===g0;p!==(h===0)&&(o=Pc(),il(o),xi(!1),g=!0)}if(Mt){for(var x=null,b,A=0;A<h;A++){if(ii.nodeType===8&&ii.data===p0){o=ii,g=!0,xi(!1);break}var $=f[A],E=r($,A);b=wd(ii,l,x,null,$,E,A,i,t,n),l.items.set(E,b),x=b}h>0&&il(Pc())}Mt||Y0(f,l,o,i,t,r,n),a!==null&&(h===0?c?cd(c):c=ud(()=>a(o)):c!==null&&b0(c,()=>{c=null})),g&&xi(!0),Le(d)}),Mt&&(o=ii)}function Y0(e,t,n,r,i,a,o){var l=e.length,s=t.items,c=t.first,u=c,d,f=null,h=[],g=[],p,x,b,A;for(A=0;A<l;A+=1){if(p=e[A],x=a(p,A),b=s.get(x),b===void 0){var $=u?u.e.nodes_start:n;f=wd($,t,f,f===null?t.first:f.next,p,x,A,r,i,o),s.set(x,f),h=[],g=[],u=f.next;continue}if(X0(b,p,A),(b.e.f&al)!==0&&cd(b.e),b!==u){if(d!==void 0&&d.has(b)){if(h.length<g.length){var E=g[0],y;f=E.prev;var k=h[0],D=h[h.length-1];for(y=0;y<h.length;y+=1)jc(h[y],E,n);for(y=0;y<g.length;y+=1)d.delete(g[y]);En(t,k.prev,D.next),En(t,f,k),En(t,D,E),u=E,f=D,A-=1,h=[],g=[]}else d.delete(b),jc(b,u,n),En(t,b.prev,b.next),En(t,b,f===null?t.first:f.next),En(t,f,b),f=b;continue}for(h=[],g=[];u!==null&&u.k!==x;)(u.e.f&al)===0&&(d??(d=new Set)).add(u),g.push(u),u=u.next;if(u===null)continue;b=u}h.push(b),f=b,u=b.next}if(u!==null||d!==void 0){for(var L=d===void 0?[]:fd(d);u!==null;)(u.e.f&al)===0&&L.push(u),u=u.next;var G=L.length;if(G>0){var Y=l===0?n:null;H0(t,L,Y,s)}}Vl.first=t.first&&t.first.e,Vl.last=f&&f.e}function X0(e,t,n,r){v0(e.v,t),e.i=n}function wd(e,t,n,r,i,a,o,l,s,c){var u=(s&E0)!==0,d=(s&A0)===0,f=u?d?w0(i):Ic(i):i,h=(s&y0)===0?o:Ic(o),g={i:h,v:f,k:a,a:null,e:null,prev:n,next:r};try{return g.e=ud(()=>l(e,f,h,c),Mt),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?t.first=g:(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function jc(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==r;){var o=$0(a);i.before(a),a=o}}function En(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function yd(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=yd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function G0(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=yd(e))&&(r&&(r+=" "),r+=t);return r}function K0(e){return typeof e=="object"?G0(e):e??""}function Q0(e,t,n){var r=e==null?"":""+e;return t&&(r=r?r+" "+t:t),r===""?null:r}function vd(e,t,n,r,i,a){var o=e.__className;if(Mt||o!==n||o===void 0){var l=Q0(n,r);(!Mt||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=n}return a}const J0=Symbol("is custom element"),Z0=Symbol("is html");function Ia(e){if(Mt){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Dl(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;Dl(e,"checked",null),e.checked=i}}};e.__on_r=n,T0(n),B0()}}function Dl(e,t,n,r){var i=tp(e);Mt&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="loading"&&(e[O0]=n),n==null?e.removeAttribute(t):typeof n!="string"&&xd(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ep(e,t,n){var r=C0,i=Vl;let a=Mt;Mt&&xi(!1),Fc(null),Uc(null);try{t!=="style"&&(Pl.has(e.nodeName)||!customElements||customElements.get(e.tagName.toLowerCase())?xd(e).includes(t):n&&typeof n=="object")?e[t]=n:Dl(e,t,n==null?n:String(n))}finally{Fc(r),Uc(i),a&&xi(!0)}}function tp(e){return e.__attributes??(e.__attributes={[J0]:e.nodeName.includes("-"),[Z0]:e.namespaceURI===L0})}var Pl=new Map;function xd(e){var t=Pl.get(e.nodeName);if(t)return t;Pl.set(e.nodeName,t=[]);for(var n,r=e,i=Element.prototype;i!==r;){n=z0(r);for(var a in n)n[a].set&&t.push(a);r=N0(r)}return t}function Fa(e,t,n=t){var r=R0();_d(e,"input",i=>{var a=i?e.defaultValue:e.value;if(a=ol(e)?ll(a):a,n(a),r&&a!==(a=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),(Mt&&e.defaultValue!==e.value||V0(t)==null&&e.value)&&n(ol(e)?ll(e.value):e.value),D0(()=>{var i=t();ol(e)&&i===ll(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function ol(e){var t=e.type;return t==="number"||t==="range"}function ll(e){return e===""?null:+e}function Wc(e,t,n){var r=P0(e,t);r&&r.set&&(e[t]=n,I0(()=>{e[t]=null}))}function kd(e,t,n){if(e.multiple)return ip(e,t);for(var r of e.options){var i=ki(r);if(F0(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function np(e,t){dd(()=>{var n=new MutationObserver(()=>{var r=e.__value;kd(e,r)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function rp(e,t,n=t){var r=!0;_d(e,"change",i=>{var a=i?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(a),ki);else{var l=e.querySelector(a)??e.querySelector("option:not([disabled])");o=l&&ki(l)}n(o)}),dd(()=>{var i=t();if(kd(e,i,r),r&&i===void 0){var a=e.querySelector(":checked");a!==null&&(i=ki(a),n(i))}e.__value=i,r=!1}),np(e)}function ip(e,t){for(var n of e.options)n.selected=~t.indexOf(ki(n))}function ki(e){return"__value"in e?e.__value:e.value}var ap=jt('<div id="login" class="svelte-1ke8rxq"><div><div class="logintitle svelte-1ke8rxq"><span class="loginh1 svelte-1ke8rxq">Login</span> <span>&nbsp;&nbsp;(Windows)</span></div> <input type="text" placeholder="username"> <input type="password" placeholder="password"> <button>Login</button></div></div>');function op(e,t){nr(t,!1);let n=Ke(t,"username",12,""),r=Ke(t,"password",12,""),i=Ke(t,"onLogin",8);function a(f){f.key==="Enter"&&o()}function o(){i()(n(),r())}Ki();var l=ap(),s=ft(l),c=pt(ft(s),2);Ia(c);var u=pt(c,2);Ia(u);var d=pt(u,2);at(s),at(l),Fa(c,n),gn("keydown",c,a),Fa(u,r),gn("keydown",u,a),gn("click",d,o),bt(e,l),rr()}var lp=jt('<li class="svelte-ea1f7n"><a class="svelte-ea1f7n"><span> </span></a></li>'),sp=jt('<div class="sidebar svelte-ea1f7n" id="sidebar"><h2 class="svelte-ea1f7n"><span class="icon svelte-ea1f7n">ðŸ“š</span><span class="label svelte-ea1f7n">Saved Queries</span></h2> <ul class="svelte-ea1f7n"></ul></div>');function cp(e,t){nr(t,!1);let n=Ke(t,"savedQueries",24,()=>[]),r=Ke(t,"currentQueryName",8,""),i=Ke(t,"onQuerySelected",8);Ki();var a=sp(),o=pt(ft(a),2);md(o,5,n,bd,(l,s)=>{var c=lp(),u=ft(c),d=ft(u),f=ft(d,!0);at(d),at(u),at(c),kr(()=>{vd(d,1,K0(Le(s).name===r()?"label selected":"label"),"svelte-ea1f7n"),go(f,Le(s).name)}),gn("click",u,()=>i()(Le(s))),bt(l,c)}),at(o),at(a),bt(e,a),rr()}function up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bc(Object(n),!0).forEach(function(r){up(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fp(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function dp(e,t){if(e==null)return{};var n=fp(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hp(e,t){return _p(e)||gp(e,t)||pp(e,t)||bp()}function _p(e){if(Array.isArray(e))return e}function gp(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(s){i=!0,a=s}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function pp(e,t){if(e){if(typeof e=="string")return Hc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hc(e,t)}}function Hc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yc(Object(n),!0).forEach(function(r){mp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,a){return a(i)},r)}}function gi(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return t.apply(n,[].concat(i,l))}}}function Ua(e){return{}.toString.call(e).includes("Object")}function yp(e){return!Object.keys(e).length}function Ni(e){return typeof e=="function"}function vp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xp(e,t){return Ua(t)||Cn("changeType"),Object.keys(t).some(function(n){return!vp(e,n)})&&Cn("changeField"),t}function kp(e){Ni(e)||Cn("selectorType")}function Sp(e){Ni(e)||Ua(e)||Cn("handlerType"),Ua(e)&&Object.values(e).some(function(t){return!Ni(t)})&&Cn("handlersType")}function Mp(e){e||Cn("initialIsRequired"),Ua(e)||Cn("initialType"),yp(e)&&Cn("initialContent")}function Ep(e,t){throw new Error(e[t]||e.default)}var Ap={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Cn=gi(Ep)(Ap),pa={changes:xp,selector:kp,handler:Sp,initial:Mp};function $p(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pa.initial(e),pa.handler(t);var n={current:e},r=gi(Np)(n,t),i=gi(Cp)(n),a=gi(pa.changes)(e),o=gi(Tp)(n);function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return pa.selector(c),c(n.current)}function s(c){wp(r,i,a,o)(c)}return[l,s]}function Tp(e,t){return Ni(t)?t(e.current):t}function Cp(e,t){return e.current=Xc(Xc({},e.current),t),t}function Np(e,t,n){return Ni(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var Op={create:$p},Lp={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function zp(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return t.apply(n,[].concat(i,l))}}}function Rp(e){return{}.toString.call(e).includes("Object")}function Vp(e){return e||Gc("configIsRequired"),Rp(e)||Gc("configType"),e.urls?(Dp(),{paths:{vs:e.urls.monacoBase}}):e}function Dp(){console.warn(Sd.deprecation)}function Pp(e,t){throw new Error(e[t]||e.default)}var Sd={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Gc=zp(Pp)(Sd),Ip={config:Vp},Fp=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(a,o){return o(a)},i)}};function Md(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Md(e[n],t[n]))}),qc(qc({},e),t)}var Up={type:"cancelation",msg:"operation is manually canceled"};function sl(e){var t=!1,n=new Promise(function(r,i){e.then(function(a){return t?i(Up):r(a)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var jp=Op.create({config:Lp,isInitialized:!1,resolve:null,reject:null,monaco:null}),Ed=hp(jp,2),Qi=Ed[0],po=Ed[1];function Wp(e){var t=Ip.config(e),n=t.monaco,r=dp(t,["monaco"]);po(function(i){return{config:Md(i.config,r),monaco:n}})}function Bp(){var e=Qi(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(po({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),sl(cl);if(window.monaco&&window.monaco.editor)return Ad(window.monaco),e.resolve(window.monaco),sl(cl);Fp(qp,Yp)(Xp)}return sl(cl)}function qp(e){return document.body.appendChild(e)}function Hp(e){var t=document.createElement("script");return e&&(t.src=e),t}function Yp(e){var t=Qi(function(r){var i=r.config,a=r.reject;return{config:i,reject:a}}),n=Hp("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Xp(){var e=Qi(function(n){var r=n.config,i=n.resolve,a=n.reject;return{config:r,resolve:i,reject:a}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){Ad(n),e.resolve(n)},function(n){e.reject(n)})}function Ad(e){Qi().monaco||po({monaco:e})}function Gp(){return Qi(function(e){var t=e.monaco;return t})}var cl=new Promise(function(e,t){return po({resolve:e,reject:t})}),Kp={config:Wp,init:Bp,__getMonacoInstance:Gp};const Il=Object.fromEntries(Object.entries(Object.assign({"/node_modules/monaco-themes/themes/Active4D.json":()=>ve(()=>import("../chunks/DCMaBw04.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/All Hallows Eve.json":()=>ve(()=>import("../chunks/7vaAaitg.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Amy.json":()=>ve(()=>import("../chunks/Dh5QREKo.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Birds of Paradise.json":()=>ve(()=>import("../chunks/oCXBP02r.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Blackboard.json":()=>ve(()=>import("../chunks/CFXNeI-o.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Brilliance Black.json":()=>ve(()=>import("../chunks/CB4Vh9Nj.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Brilliance Dull.json":()=>ve(()=>import("../chunks/CoXJ9oE7.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Chrome DevTools.json":()=>ve(()=>import("../chunks/CGWZGI7O.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Clouds Midnight.json":()=>ve(()=>import("../chunks/2ths_mE7.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Clouds.json":()=>ve(()=>import("../chunks/Bibh36ez.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Cobalt.json":()=>ve(()=>import("../chunks/DNAqQlSJ.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Cobalt2.json":()=>ve(()=>import("../chunks/B4DyEI1J.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Dawn.json":()=>ve(()=>import("../chunks/EKPPaCMI.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Dominion Day.json":()=>ve(()=>import("../chunks/C9A9NfeL.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Dracula.json":()=>ve(()=>import("../chunks/C3rd88UQ.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Dreamweaver.json":()=>ve(()=>import("../chunks/CJxjPY1p.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Eiffel.json":()=>ve(()=>import("../chunks/DxR6xVtZ.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Espresso Libre.json":()=>ve(()=>import("../chunks/C4Twn5kD.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/GitHub Dark.json":()=>ve(()=>import("../chunks/sp1UhCqD.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/GitHub Light.json":()=>ve(()=>import("../chunks/Vgw1L57b.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/GitHub.json":()=>ve(()=>import("../chunks/CnB5fA5j.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/IDLE.json":()=>ve(()=>import("../chunks/DPjUkObu.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Katzenmilch.json":()=>ve(()=>import("../chunks/Cq-Qfo4h.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Kuroir Theme.json":()=>ve(()=>import("../chunks/D52Gtouo.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/LAZY.json":()=>ve(()=>import("../chunks/C9qbDqdv.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/MagicWB (Amiga).json":()=>ve(()=>import("../chunks/Cx9JqgkA.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Merbivore Soft.json":()=>ve(()=>import("../chunks/CdjjCMk3.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Merbivore.json":()=>ve(()=>import("../chunks/Bmek2Fil.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Monokai Bright.json":()=>ve(()=>import("../chunks/yk4Ykd6D.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Monokai.json":()=>ve(()=>import("../chunks/Ci587x6O.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Night Owl.json":()=>ve(()=>import("../chunks/BdmhJRfO.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Nord.json":()=>ve(()=>import("../chunks/Bj50XztE.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Oceanic Next.json":()=>ve(()=>import("../chunks/BUu7Pa-n.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Pastels on Dark.json":()=>ve(()=>import("../chunks/uBz5MCvn.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Slush and Poppies.json":()=>ve(()=>import("../chunks/YSW8CL5m.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Solarized-dark.json":()=>ve(()=>import("../chunks/CYWqIfaP.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Solarized-light.json":()=>ve(()=>import("../chunks/BvLRi89Y.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/SpaceCadet.json":()=>ve(()=>import("../chunks/DD1mkU1q.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Sunburst.json":()=>ve(()=>import("../chunks/BVWzxNUV.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Textmate (Mac Classic).json":()=>ve(()=>import("../chunks/KgIAXcFy.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Tomorrow-Night-Blue.json":()=>ve(()=>import("../chunks/Rs0JKAWH.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Tomorrow-Night-Bright.json":()=>ve(()=>import("../chunks/C8ujZbWN.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Tomorrow-Night-Eighties.json":()=>ve(()=>import("../chunks/BpK0hqlP.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Tomorrow-Night.json":()=>ve(()=>import("../chunks/_pJfbC1f.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Tomorrow.json":()=>ve(()=>import("../chunks/BRJ0LMx5.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Twilight.json":()=>ve(()=>import("../chunks/D14EW1Tv.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Upstream Sunburst.json":()=>ve(()=>import("../chunks/DCp8CPcP.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Vibrant Ink.json":()=>ve(()=>import("../chunks/BxaY3Ba1.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Xcode_default.json":()=>ve(()=>import("../chunks/1YyPzZGu.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/Zenburnesque.json":()=>ve(()=>import("../chunks/VD2wTOvW.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/iPlastic.json":()=>ve(()=>import("../chunks/Ch4VfpOd.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/idleFingers.json":()=>ve(()=>import("../chunks/5ndTPyr4.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/krTheme.json":()=>ve(()=>import("../chunks/CUmmZeAm.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/monoindustrial.json":()=>ve(()=>import("../chunks/BS0iMKKa.js"),[],import.meta.url),"/node_modules/monaco-themes/themes/themelist.json":()=>ve(()=>import("../chunks/VWg_pfli.js"),[],import.meta.url)})).map(([e,t])=>[e.toLowerCase().split("/").reverse()[0].slice(0,-5).replaceAll(" ","-"),t])),$d=["vs","vs-dark","hc-black"];[...Object.keys(Il),...$d].sort((e,t)=>e.localeCompare(t));var Qp=jt('<div class="monaco-container svelte-1hkxewt"></div>');function Jp(e,t){nr(t,!0);const n=q0();let r=$t(void 0),i=Ke(t,"editor",15,void 0),a=Ke(t,"value",15),o=Ke(t,"theme",3,void 0),l=Ke(t,"options",19,()=>({value:a(),automaticLayout:!0})),s=Ke(t,"monaco",15);function c(){var f;if(o())if(Il[o()]){const h=o();Il[o()]().then(g=>{var p,x;(p=s())==null||p.editor.defineTheme(h,g),(x=s())==null||x.editor.setTheme(h)})}else $d.includes(o())&&((f=s())==null||f.editor.setTheme(o()))}_a(()=>{o()&&c()}),_a(()=>{var f;(f=i())==null||f.updateOptions(l())});let u=U0(()=>{var f;return(f=i())==null?void 0:f.getModel()});_a(()=>{Le(u)&&l().language&&s().editor.setModelLanguage(Le(u),l().language)}),_a(()=>{if(i()&&i().getValue()!=a()){const f=i().getPosition();i().setValue(a()),f&&i().setPosition(f)}}),gs(async()=>{s(await Kp.init()),i(s().editor.create(Le(r),l())),n("ready",i()),c(),i().getModel().onDidChangeContent(()=>{i()&&a(i().getValue())})}),pd(()=>{var f;return(f=i())==null?void 0:f.dispose()});var d=Qp();gd(d,f=>Ge(r,f),()=>Le(r)),bt(e,d),rr()}var Zp=jt('<div id="sqleditor" class="svelte-2t8cnv"><!></div>');function eb(e,t){let n=Ke(t,"query",12,"");const r={language:"sql",theme:"vs",automaticLayout:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",wordWrap:"on",folding:!0,fontSize:12};var i=Zp(),a=ft(i);Jp(a,{options:r,height:"100%",get value(){return n()},set value(o){n(o)},$$legacy:!0}),at(i),bt(e,i)}const tb=[{id:"local",name:"Local",cluster:"local"},{id:"uat",name:"UAT",cluster:"uat"},{id:"prod",name:"Prod",cluster:"prod"}];function nb(){return"uat"}var rb=jt("<option> </option>"),ib=jt('<label class="env-selector svelte-1hsm2xj"><span>Environment</span> <select class="svelte-1hsm2xj"></select></label>');function ab(e,t){nr(t,!1);let n=Ke(t,"selectedEnvironment",12),r=Ke(t,"onChange",8,()=>{});function i(l){n(l.target.value),r()(n())}Ki();var a=ib(),o=pt(ft(a),2);kr(()=>{n(),j0(()=>{})}),md(o,5,()=>tb,bd,(l,s)=>{var c=rb(),u={},d=ft(c,!0);at(c),kr(()=>{u!==(u=Le(s).id)&&(c.value=(c.__value=Le(s).id)==null?"":Le(s).id),go(d,Le(s).name)}),bt(l,c)}),at(o),at(a),rp(o,n),gn("change",o,i),bt(e,a),rr()}var ob=jt('<span id="lastQueryTime"> </span>'),lb=jt('<div><input type="text" placeholder="Query Name"> <button>Save Query</button> &nbsp; <button>Reset</button> &nbsp; <label class="limit-control svelte-1u88fti"><span>Limit</span> <input type="number" class="limit-input svelte-1u88fti" size="8"></label> &nbsp; <!> &nbsp; <button id="run" class="svelte-1u88fti"><!></button> &nbsp; <!></div>');function sb(e,t){nr(t,!1);let n=Ke(t,"queryName",12,""),r=Ke(t,"limit",12,1e5),i=Ke(t,"executing",8,!1),a=Ke(t,"lastQueryTime",8,0),o=Ke(t,"selectedEnvironment",12),l=Ke(t,"onEnvironmentChange",8),s=Ke(t,"onSave",8),c=Ke(t,"onReset",8),u=Ke(t,"onExecute",8);Ki();var d=lb(),f=ft(d);Ia(f);var h=pt(f,2),g=pt(h,2),p=pt(g,2),x=pt(ft(p),2);Ia(x),at(p);var b=pt(p,2);ab(b,{get onChange(){return l()},get selectedEnvironment(){return o()},set selectedEnvironment(L){o(L)},$$legacy:!0});var A=pt(b,2),$=ft(A);{var E=L=>{var G=Dc("Running...");bt(L,G)},y=L=>{var G=Dc("Run");bt(L,G)};Pa($,L=>{i()?L(E):L(y,!1)})}at(A);var k=pt(A,2);{var D=L=>{var G=ob(),Y=ft(G);at(G),kr(U=>go(Y,`${U??""} ms`),[()=>new Intl.NumberFormat().format(Math.round(a()))],sd),bt(L,G)};Pa(k,L=>{a()>0&&L(D)})}at(d),kr(()=>A.disabled=i()),Fa(f,n),gn("click",h,function(...L){var G;(G=s())==null||G.apply(this,L)}),gn("click",g,function(...L){var G;(G=c())==null||G.apply(this,L)}),Fa(x,r),gn("click",A,function(...L){var G;(G=u())==null||G.apply(this,L)}),bt(e,d),rr()}var cb=jt('<div id="error" class="svelte-1q4vsnm"> </div>');function ub(e,t){let n=Ke(t,"error",8,"");var r=ld(),i=hd(r);{var a=o=>{var l=cb(),s=ft(l,!0);at(l),kr(()=>go(s,n())),bt(o,l)};Pa(i,o=>{n()&&o(a)})}bt(e,r)}var fb=Object.defineProperty,db=(e,t)=>{for(var n in t)fb(e,n,{get:t[n],enumerable:!0})},Td={};db(Td,{Client:()=>bo,ProxySession:()=>ps,Table:()=>bs,View:()=>gr,default:()=>Dd,init:()=>Ld,initSync:()=>xb});var Kc=class extends Error{},J,Vt=new Array(128).fill(void 0);Vt.push(void 0,null,!0,!1);function B(e){return Vt[e]}var fn=0,pi=null;function Ta(){return(pi===null||pi.byteLength===0)&&(pi=new Uint8Array(J.memory.buffer)),pi}var Cd=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},hb=function(e,t){return Cd.encodeInto(e,t)};function Wn(e,t,n){if(n===void 0){let l=Cd.encode(e),s=t(l.length,1)>>>0;return Ta().subarray(s,s+l.length).set(l),fn=l.length,s}let r=e.length,i=t(r,1)>>>0,a=Ta(),o=0;for(;o<r;o++){let l=e.charCodeAt(o);if(l>127)break;a[i+o]=l}if(o!==r){o!==0&&(e=e.slice(o)),i=n(i,r,r=o+e.length*3,1)>>>0;let l=Ta().subarray(i+o,i+r);o+=hb(e,l).written,i=n(i,r,o,1)>>>0}return fn=o,i}var Fn=null;function nt(){return(Fn===null||Fn.buffer.detached===!0||Fn.buffer.detached===void 0&&Fn.buffer!==J.memory.buffer)&&(Fn=new DataView(J.memory.buffer)),Fn}var Si=Vt.length;function ie(e){Si===Vt.length&&Vt.push(Vt.length+1);let t=Si;return Si=Vt[t],Vt[t]=e,t}function ut(e,t){try{return e.apply(this,t)}catch(n){J.__wbindgen_export_2(ie(n))}}var Nd=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Nd.decode();function kt(e,t){return e=e>>>0,Nd.decode(Ta().subarray(e,e+t))}function Je(e){return e==null}function _b(e){e<132||(Vt[e]=Si,Si=e)}function pe(e){let t=B(e);return _b(e),t}var ja=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{J.__wbindgen_export_4.get(e.dtor)(e.a,e.b)});function gb(e,t,n,r){let i={a:e,b:t,cnt:1,dtor:n},a=(...o)=>{i.cnt++;let l=i.a;i.a=0;try{return r(l,i.b,...o)}finally{--i.cnt===0?(J.__wbindgen_export_4.get(i.dtor)(l,i.b),ja.unregister(i)):i.a=l}};return a.original=i,ja.register(a,i,i),a}function pb(e,t,n,r){let i={a:e,b:t,cnt:1,dtor:n},a=(...o)=>{i.cnt++;try{return r(i.a,i.b,...o)}finally{--i.cnt===0&&(J.__wbindgen_export_4.get(i.dtor)(i.a,i.b),i.a=0,ja.unregister(i))}};return a.original=i,ja.register(a,i,i),a}function Fl(e){let t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){let i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){let i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){let i=e.length,a="[";i>0&&(a+=Fl(e[0]));for(let o=1;o<i;o++)a+=", "+Fl(e[o]);return a+="]",a}let n=/\[object ([^\]]+)\]/.exec(toString.call(e)),r;if(n&&n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function bb(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}var Mi=128;function Od(e){if(Mi==1)throw new Error("out of js stack");return Vt[--Mi]=e,Mi}function Ld(){J.init()}function mb(e,t){let n=J.__wbindgen_export_5(e,t);return pe(n)}function wb(e,t,n){J.__wbindgen_export_6(e,t,ie(n))}function yb(e,t,n,r){J.__wbindgen_export_7(e,t,ie(n),ie(r))}var ul=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>J.__wbg_client_free(e>>>0,1)),bo=class{static __wrap(t){t=t>>>0;let n=Object.create(bo.prototype);return n.__wbg_ptr=t,ul.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,ul.unregister(this),t}free(){let t=this.__destroy_into_raw();J.__wbg_client_free(t,0)}__getClassname(){let t,n;try{let a=J.__wbindgen_add_to_stack_pointer(-16);J.client___getClassname(a,this.__wbg_ptr);var r=nt().getInt32(a+4*0,!0),i=nt().getInt32(a+4*1,!0);return t=r,n=i,kt(r,i)}finally{J.__wbindgen_add_to_stack_pointer(16),J.__wbindgen_export_3(t,n,1)}}constructor(t,n){let r=J.client_new(ie(t),Je(n)?0:ie(n));return this.__wbg_ptr=r>>>0,ul.register(this,this.__wbg_ptr,this),this}new_proxy_session(t){try{let n=J.client_new_proxy_session(this.__wbg_ptr,Od(t));return ps.__wrap(n)}finally{Vt[Mi++]=void 0}}init(){let t=J.client_init(this.__wbg_ptr);return pe(t)}handle_response(t){let n=J.client_handle_response(this.__wbg_ptr,ie(t));return pe(n)}handle_error(t,n){var r=Je(t)?0:Wn(t,J.__wbindgen_export_0,J.__wbindgen_export_1),i=fn;let a=J.client_handle_error(this.__wbg_ptr,r,i,Je(n)?0:ie(n));return pe(a)}on_error(t){let n=J.client_on_error(this.__wbg_ptr,ie(t));return pe(n)}table(t,n){let r=J.client_table(this.__wbg_ptr,ie(t),Je(n)?0:ie(n));return pe(r)}terminate(){try{let i=J.__wbindgen_add_to_stack_pointer(-16);J.client_terminate(i,this.__wbg_ptr);var t=nt().getInt32(i+4*0,!0),n=nt().getInt32(i+4*1,!0),r=nt().getInt32(i+4*2,!0);if(r)throw pe(n);return pe(t)}finally{J.__wbindgen_add_to_stack_pointer(16)}}open_table(t){let n=Wn(t,J.__wbindgen_export_0,J.__wbindgen_export_1),r=fn,i=J.client_open_table(this.__wbg_ptr,n,r);return pe(i)}get_hosted_table_names(){let t=J.client_get_hosted_table_names(this.__wbg_ptr);return pe(t)}on_hosted_tables_update(t){let n=J.client_on_hosted_tables_update(this.__wbg_ptr,ie(t));return pe(n)}remove_hosted_tables_update(t){let n=J.client_remove_hosted_tables_update(this.__wbg_ptr,t);return pe(n)}system_info(){let t=J.client_system_info(this.__wbg_ptr);return pe(t)}},fl=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>J.__wbg_proxysession_free(e>>>0,1)),ps=class{static __wrap(t){t=t>>>0;let n=Object.create(ps.prototype);return n.__wbg_ptr=t,fl.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,fl.unregister(this),t}free(){let t=this.__destroy_into_raw();J.__wbg_proxysession_free(t,0)}constructor(t,n){try{bb(t,bo);let r=J.client_new_proxy_session(t.__wbg_ptr,Od(n));return this.__wbg_ptr=r>>>0,fl.register(this,this.__wbg_ptr,this),this}finally{Vt[Mi++]=void 0}}handle_request(t){let n=J.proxysession_handle_request(this.__wbg_ptr,ie(t));return pe(n)}poll(){let t=J.proxysession_poll(this.__wbg_ptr);return pe(t)}close(){let t=this.__destroy_into_raw(),n=J.proxysession_close(t);return pe(n)}},Qc=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>J.__wbg_table_free(e>>>0,1)),bs=class{static __wrap(t){t=t>>>0;let n=Object.create(bs.prototype);return n.__wbg_ptr=t,Qc.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,Qc.unregister(this),t}free(){let t=this.__destroy_into_raw();J.__wbg_table_free(t,0)}__getClassname(){let t,n;try{let a=J.__wbindgen_add_to_stack_pointer(-16);J.table___getClassname(a,this.__wbg_ptr);var r=nt().getInt32(a+4*0,!0),i=nt().getInt32(a+4*1,!0);return t=r,n=i,kt(r,i)}finally{J.__wbindgen_add_to_stack_pointer(16),J.__wbindgen_export_3(t,n,1)}}get_index(){let t=J.table_get_index(this.__wbg_ptr);return pe(t)}get_client(){let t=J.table_get_client(this.__wbg_ptr);return pe(t)}get_name(){let t=J.table_get_name(this.__wbg_ptr);return pe(t)}get_limit(){let t=J.table_get_limit(this.__wbg_ptr);return pe(t)}clear(){let t=J.table_clear(this.__wbg_ptr);return pe(t)}delete(){let t=J.table_delete(this.__wbg_ptr);return pe(t)}size(){let t=J.table_size(this.__wbg_ptr);return pe(t)}schema(){let t=J.table_schema(this.__wbg_ptr);return pe(t)}columns(){let t=J.table_columns(this.__wbg_ptr);return pe(t)}make_port(){let t=J.table_make_port(this.__wbg_ptr);return pe(t)}on_delete(t){let n=J.table_on_delete(this.__wbg_ptr,ie(t));return pe(n)}remove_delete(t){let n=J.table_remove_delete(this.__wbg_ptr,t);return pe(n)}remove(t,n){let r=J.table_remove(this.__wbg_ptr,ie(t),Je(n)?0:ie(n));return pe(r)}replace(t,n){let r=J.table_replace(this.__wbg_ptr,ie(t),Je(n)?0:ie(n));return pe(r)}update(t,n){let r=J.table_update(this.__wbg_ptr,ie(t),Je(n)?0:ie(n));return pe(r)}view(t){let n=J.table_view(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}validate_expressions(t){let n=J.table_validate_expressions(this.__wbg_ptr,ie(t));return pe(n)}},Jc=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>J.__wbg_view_free(e>>>0,1)),gr=class{static __wrap(t){t=t>>>0;let n=Object.create(gr.prototype);return n.__wbg_ptr=t,Jc.register(n,n.__wbg_ptr,n),n}static __unwrap(t){return t instanceof gr?t.__destroy_into_raw():0}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,Jc.unregister(this),t}free(){let t=this.__destroy_into_raw();J.__wbg_view_free(t,0)}__get_model(){let t=J.view___get_model(this.__wbg_ptr);return gr.__wrap(t)}column_paths(){let t=J.view_column_paths(this.__wbg_ptr);return pe(t)}delete(){let t=J.view_delete(this.__wbg_ptr);return pe(t)}dimensions(){let t=J.view_dimensions(this.__wbg_ptr);return pe(t)}expression_schema(){let t=J.view_expression_schema(this.__wbg_ptr);return pe(t)}get_config(){let t=J.view_get_config(this.__wbg_ptr);return pe(t)}get_min_max(t){let n=Wn(t,J.__wbindgen_export_0,J.__wbindgen_export_1),r=fn,i=J.view_get_min_max(this.__wbg_ptr,n,r);return pe(i)}num_rows(){let t=J.view_num_rows(this.__wbg_ptr);return pe(t)}schema(){let t=J.view_schema(this.__wbg_ptr);return pe(t)}to_arrow(t){let n=J.view_to_arrow(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_columns_string(t){let n=J.view_to_columns_string(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_columns(t){let n=J.view_to_columns(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_json_string(t){let n=J.view_to_json_string(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_json(t){let n=J.view_to_json(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_ndjson(t){let n=J.view_to_ndjson(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}to_csv(t){let n=J.view_to_csv(this.__wbg_ptr,Je(t)?0:ie(t));return pe(n)}on_update(t,n){let r=J.view_on_update(this.__wbg_ptr,ie(t),Je(n)?0:ie(n));return pe(r)}remove_update(t){let n=J.view_remove_update(this.__wbg_ptr,t);return pe(n)}on_delete(t){let n=J.view_on_delete(this.__wbg_ptr,ie(t));return pe(n)}num_columns(){let t=J.view_num_columns(this.__wbg_ptr);return pe(t)}remove_delete(t){let n=J.view_remove_delete(this.__wbg_ptr,t);return pe(n)}collapse(t){let n=J.view_collapse(this.__wbg_ptr,t);return pe(n)}expand(t){let n=J.view_expand(this.__wbg_ptr,t);return pe(n)}set_depth(t){let n=J.view_set_depth(this.__wbg_ptr,t);return pe(n)}};async function vb(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function zd(){let e={};return e.wbg={},e.wbg.__wbg_String_8f0eb39a4a4c2f66=function(t,n){let r=String(B(n)),i=Wn(r,J.__wbindgen_export_0,J.__wbindgen_export_1),a=fn;nt().setInt32(t+4*1,a,!0),nt().setInt32(t+4*0,i,!0)},e.wbg.__wbg_at_1abf0efc31a7fc6e=function(t,n){let r=B(t).at(n);return ie(r)},e.wbg.__wbg_buffer_bacd7706db793204=function(t){let n=B(t).buffer;return ie(n)},e.wbg.__wbg_buffer_ef9774282e5dab94=function(t){let n=B(t).buffer;return ie(n)},e.wbg.__wbg_call_0ad083564791763a=function(){return ut(function(t,n){let r=B(t).call(B(n));return ie(r)},arguments)},e.wbg.__wbg_call_a34b6b4765f27be0=function(){return ut(function(t,n,r){let i=B(t).call(B(n),B(r));return ie(i)},arguments)},e.wbg.__wbg_call_efe5a4db7065d1a2=function(){return ut(function(t,n,r,i){let a=B(t).call(B(n),B(r),B(i));return ie(a)},arguments)},e.wbg.__wbg_client_new=function(t){let n=bo.__wrap(t);return ie(n)},e.wbg.__wbg_crypto_ed58b8e10a292839=function(t){let n=B(t).crypto;return ie(n)},e.wbg.__wbg_debug_338493c12960e4a7=function(t){console.debug(B(t))},e.wbg.__wbg_debug_f201c091a5d2019b=function(t,n,r,i){console.debug(B(t),B(n),B(r),B(i))},e.wbg.__wbg_done_f4c254830a095eaf=function(t){return B(t).done},e.wbg.__wbg_entries_83beb641792ccb9c=function(t){let n=Object.entries(B(t));return ie(n)},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(t,n){let r,i;try{r=t,i=n,console.error(kt(t,n))}finally{J.__wbindgen_export_3(r,i,1)}},e.wbg.__wbg_error_852b114509bed301=function(t){console.error(B(t))},e.wbg.__wbg_error_94252a8e90b35b8e=function(t,n,r,i){console.error(B(t),B(n),B(r),B(i))},e.wbg.__wbg_error_afd05d3fc1f414ce=function(t,n){console.error(B(t),B(n))},e.wbg.__wbg_from_3aa0fcaa8eef0104=function(t){let n=Array.from(B(t));return ie(n)},e.wbg.__wbg_getEntriesByName_6fb8ccc67553373f=function(t,n,r,i,a){let o=B(t).getEntriesByName(kt(n,r),kt(i,a));return ie(o)},e.wbg.__wbg_getRandomValues_bcb4912f16000dc4=function(){return ut(function(t,n){B(t).getRandomValues(B(n))},arguments)},e.wbg.__wbg_get_0c3cc364764a0b98=function(t,n){let r=B(t)[n>>>0];return ie(r)},e.wbg.__wbg_get_977cbaa63dc20090=function(t,n,r){let i=B(t)[kt(n,r)];return Je(i)?0:ie(i)},e.wbg.__wbg_get_b996a12be035ef4f=function(){return ut(function(t,n){let r=Reflect.get(B(t),B(n));return ie(r)},arguments)},e.wbg.__wbg_getwithrefkey_1dc361bd10053bfe=function(t,n){let r=B(t)[B(n)];return ie(r)},e.wbg.__wbg_globalThis_6b4d52a0b6aaeaea=function(){return ut(function(){let t=globalThis.globalThis;return ie(t)},arguments)},e.wbg.__wbg_global_49324ce12193de77=function(){return ut(function(){let t=global.global;return ie(t)},arguments)},e.wbg.__wbg_has_bdec43a5ed4cb454=function(){return ut(function(t,n){return Reflect.has(B(t),B(n))},arguments)},e.wbg.__wbg_info_493696cc38ae1ad0=function(t,n,r,i){console.info(B(t),B(n),B(r),B(i))},e.wbg.__wbg_info_6c1abe3d4e1ae962=function(t){console.info(B(t))},e.wbg.__wbg_instanceof_ArrayBuffer_ff40e55b5978e215=function(t){let n;try{n=B(t)instanceof ArrayBuffer}catch{n=!1}return n},e.wbg.__wbg_instanceof_Array_23bc22ecdd4608e6=function(t){let n;try{n=B(t)instanceof Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_Map_0f3f3653f757ced1=function(t){let n;try{n=B(t)instanceof Map}catch{n=!1}return n},e.wbg.__wbg_instanceof_Object_9108547bac1f91b1=function(t){let n;try{n=B(t)instanceof Object}catch{n=!1}return n},e.wbg.__wbg_instanceof_PerspectiveViewNotFoundError_b4d9eb94ce63f22c=function(t){let n;try{n=B(t)instanceof Kc}catch{n=!1}return n},e.wbg.__wbg_instanceof_Uint8Array_db97368f94b1373f=function(t){let n;try{n=B(t)instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_Window_311934805c10047c=function(t){let n;try{n=B(t)instanceof Window}catch{n=!1}return n},e.wbg.__wbg_isArray_8738f1062fa88586=function(t){return Array.isArray(B(t))},e.wbg.__wbg_isSafeInteger_a1b3e0811faecf2f=function(t){return Number.isSafeInteger(B(t))},e.wbg.__wbg_iterator_c0c688f37fa815e6=function(){return ie(Symbol.iterator)},e.wbg.__wbg_keys_45b15edb4089351e=function(t){let n=Object.keys(B(t));return ie(n)},e.wbg.__wbg_length_12246a78d2f65d3a=function(t){return B(t).length},e.wbg.__wbg_length_c24da17096edfe57=function(t){return B(t).length},e.wbg.__wbg_mark_2e459508e2ea726f=function(){return ut(function(t,n,r){B(t).mark(kt(n,r))},arguments)},e.wbg.__wbg_measure_590e79f6f28bcf70=function(){return ut(function(t,n,r,i,a){B(t).measure(kt(n,r),kt(i,a))},arguments)},e.wbg.__wbg_msCrypto_0a36e2ec3a343d26=function(t){let n=B(t).msCrypto;return ie(n)},e.wbg.__wbg_new_518e2184725aa711=function(){return ie(new Map)},e.wbg.__wbg_new_5479cd54aab193ea=function(){let t=new Kc;return ie(t)},e.wbg.__wbg_new_59845962d1127937=function(t){let n=new Uint8Array(B(t));return ie(n)},e.wbg.__wbg_new_67abf4a77618ee3e=function(){let t=new Object;return ie(t)},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){let t=new Error;return ie(t)},e.wbg.__wbg_new_ac7361beaf933ba6=function(t,n){try{var r={a:t,b:n},i=(o,l)=>{let s=r.a;r.a=0;try{return yb(s,r.b,o,l)}finally{r.a=s}};let a=new Promise(i);return ie(a)}finally{r.a=r.b=0}},e.wbg.__wbg_new_e2d07398d7689006=function(){let t=new Array;return ie(t)},e.wbg.__wbg_newnoargs_a136448eeb7d48ac=function(t,n){let r=new Function(kt(t,n));return ie(r)},e.wbg.__wbg_newwithbyteoffsetandlength_84908302a4c137cf=function(t,n,r){let i=new Uint8Array(B(t),n>>>0,r>>>0);return ie(i)},e.wbg.__wbg_newwithlength_4c216eaaf23f2f9a=function(t){let n=new Uint8Array(t>>>0);return ie(n)},e.wbg.__wbg_next_928df8c15fc0c9b0=function(t){let n=B(t).next;return ie(n)},e.wbg.__wbg_next_9dc0926f351c7090=function(){return ut(function(t){let n=B(t).next();return ie(n)},arguments)},e.wbg.__wbg_node_02999533c4ea02e3=function(t){let n=B(t).node;return ie(n)},e.wbg.__wbg_now_c893509b6d04fa0d=function(t){return B(t).now()},e.wbg.__wbg_parse_bd09af51fd7dd576=function(){return ut(function(t,n){let r=JSON.parse(kt(t,n));return ie(r)},arguments)},e.wbg.__wbg_performance_69882c3bda965f91=function(t){let n=B(t).performance;return Je(n)?0:ie(n)},e.wbg.__wbg_process_5c1d670bc53614b8=function(t){let n=B(t).process;return ie(n)},e.wbg.__wbg_push_e7d7247e69dad3ee=function(t,n){return B(t).push(B(n))},e.wbg.__wbg_queueMicrotask_6808622725a52272=function(t){let n=B(t).queueMicrotask;return ie(n)},e.wbg.__wbg_queueMicrotask_ef0e86b0263a71ee=function(t){queueMicrotask(B(t))},e.wbg.__wbg_randomFillSync_ab2cfe79ebbf2740=function(){return ut(function(t,n){B(t).randomFillSync(pe(n))},arguments)},e.wbg.__wbg_reject_fd3a67e45841ae99=function(t){let n=Promise.reject(B(t));return ie(n)},e.wbg.__wbg_require_79b1e9274cde3c87=function(){return ut(function(){let t=module.require;return ie(t)},arguments)},e.wbg.__wbg_resolve_267ff08e7e1d2ce4=function(t){let n=Promise.resolve(B(t));return ie(n)},e.wbg.__wbg_self_cca3ca60d61220f4=function(){return ut(function(){let t=self.self;return ie(t)},arguments)},e.wbg.__wbg_set_393f510a6b7e9da5=function(t,n,r){let i=B(t).set(B(n),B(r));return ie(i)},e.wbg.__wbg_set_3f1d0b984ed272ed=function(t,n,r){B(t)[pe(n)]=pe(r)},e.wbg.__wbg_set_5deee49b10b2b780=function(t,n,r){B(t).set(B(n),r>>>0)},e.wbg.__wbg_set_93ba9407b5476ec6=function(t,n,r){B(t)[n>>>0]=pe(r)},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(t,n){let r=B(n).stack,i=Wn(r,J.__wbindgen_export_0,J.__wbindgen_export_1),a=fn;nt().setInt32(t+4*1,a,!0),nt().setInt32(t+4*0,i,!0)},e.wbg.__wbg_startTime_06f7b6aebc293aff=function(t){return B(t).startTime},e.wbg.__wbg_stringify_841980d1bf485619=function(){return ut(function(t){let n=JSON.stringify(B(t));return ie(n)},arguments)},e.wbg.__wbg_subarray_2dc34705c0dc7cdb=function(t,n,r){let i=B(t).subarray(n>>>0,r>>>0);return ie(i)},e.wbg.__wbg_table_new=function(t){let n=bs.__wrap(t);return ie(n)},e.wbg.__wbg_then_84907e7a6730461e=function(t,n){let r=B(t).then(B(n));return ie(r)},e.wbg.__wbg_then_db12746ab6cec3f6=function(t,n,r){let i=B(t).then(B(n),B(r));return ie(i)},e.wbg.__wbg_toString_2a965b6fc5a7e89f=function(t){let n=B(t).toString();return ie(n)},e.wbg.__wbg_trace_04e683e452168e85=function(t,n,r,i){console.trace(B(t),B(n),B(r),B(i))},e.wbg.__wbg_trace_bf1357f2a705e4dd=function(t){console.trace(B(t))},e.wbg.__wbg_value_51f8a88d4a1805fb=function(t){let n=B(t).value;return ie(n)},e.wbg.__wbg_values_9b070f5059e8183e=function(t){let n=Object.values(B(t));return ie(n)},e.wbg.__wbg_versions_c71aa1626a93e0a1=function(t){let n=B(t).versions;return ie(n)},e.wbg.__wbg_view_new=function(t){let n=gr.__wrap(t);return ie(n)},e.wbg.__wbg_view_unwrap=function(t){return gr.__unwrap(pe(t))},e.wbg.__wbg_warn_4f29d3e20ba97cd0=function(t,n,r,i){console.warn(B(t),B(n),B(r),B(i))},e.wbg.__wbg_warn_fecc8e96c5e56fb2=function(t){console.warn(B(t))},e.wbg.__wbg_window_2aba046d3fc4ad7c=function(){return ut(function(){let t=window.window;return ie(t)},arguments)},e.wbg.__wbindgen_as_number=function(t){return+B(t)},e.wbg.__wbindgen_bigint_from_i64=function(t){return ie(t)},e.wbg.__wbindgen_bigint_from_u64=function(t){let n=BigInt.asUintN(64,t);return ie(n)},e.wbg.__wbindgen_bigint_get_as_i64=function(t,n){let r=B(n),i=typeof r=="bigint"?r:void 0;nt().setBigInt64(t+8*1,Je(i)?BigInt(0):i,!0),nt().setInt32(t+4*0,!Je(i),!0)},e.wbg.__wbindgen_boolean_get=function(t){let n=B(t);return typeof n=="boolean"?n?1:0:2},e.wbg.__wbindgen_cb_drop=function(t){let n=pe(t).original;return n.cnt--==1?(n.a=0,!0):!1},e.wbg.__wbindgen_closure_wrapper3145=function(t,n,r){let i=gb(t,n,469,wb);return ie(i)},e.wbg.__wbindgen_closure_wrapper372=function(t,n,r){let i=pb(t,n,4,mb);return ie(i)},e.wbg.__wbindgen_debug_string=function(t,n){let r=Fl(B(n)),i=Wn(r,J.__wbindgen_export_0,J.__wbindgen_export_1),a=fn;nt().setInt32(t+4*1,a,!0),nt().setInt32(t+4*0,i,!0)},e.wbg.__wbindgen_error_new=function(t,n){let r=new Error(kt(t,n));return ie(r)},e.wbg.__wbindgen_in=function(t,n){return B(t)in B(n)},e.wbg.__wbindgen_is_bigint=function(t){return typeof B(t)=="bigint"},e.wbg.__wbindgen_is_function=function(t){return typeof B(t)=="function"},e.wbg.__wbindgen_is_object=function(t){let n=B(t);return typeof n=="object"&&n!==null},e.wbg.__wbindgen_is_string=function(t){return typeof B(t)=="string"},e.wbg.__wbindgen_is_undefined=function(t){return B(t)===void 0},e.wbg.__wbindgen_jsval_eq=function(t,n){return B(t)===B(n)},e.wbg.__wbindgen_jsval_loose_eq=function(t,n){return B(t)==B(n)},e.wbg.__wbindgen_memory=function(){let t=J.memory;return ie(t)},e.wbg.__wbindgen_number_get=function(t,n){let r=B(n),i=typeof r=="number"?r:void 0;nt().setFloat64(t+8*1,Je(i)?0:i,!0),nt().setInt32(t+4*0,!Je(i),!0)},e.wbg.__wbindgen_number_new=function(t){return ie(t)},e.wbg.__wbindgen_object_clone_ref=function(t){let n=B(t);return ie(n)},e.wbg.__wbindgen_object_drop_ref=function(t){pe(t)},e.wbg.__wbindgen_string_get=function(t,n){let r=B(n),i=typeof r=="string"?r:void 0;var a=Je(i)?0:Wn(i,J.__wbindgen_export_0,J.__wbindgen_export_1),o=fn;nt().setInt32(t+4*1,o,!0),nt().setInt32(t+4*0,a,!0)},e.wbg.__wbindgen_string_new=function(t,n){let r=kt(t,n);return ie(r)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(kt(t,n))},e}function Rd(e,t){return J=e.exports,Vd.__wbindgen_wasm_module=t,Fn=null,pi=null,J}function xb(e){if(J!==void 0)return J;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));let t=zd();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));let n=new WebAssembly.Instance(e,t);return Rd(n,e)}async function Vd(e){if(J!==void 0)return J;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead"));let t=zd();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:r}=await vb(await e,t);return Rd(n,r)}var Dd=Vd;function kb(){let e,t,n=new Promise((r,i)=>{e=r,t=i});return[e,n,t]}async function Sb(e,t,n){let r,i;async function a(){if((i==null?void 0:i.readyState)===e.CONNECTING||(i==null?void 0:i.readyState)===e.OPEN){console.warn(`Already connected ${i.readyState}`);return}let[s,c,u]=kb();i=new e(n),i.onopen=s,i.binaryType="arraybuffer",i.onerror=d=>{r.handle_error("WebSocket error",a),u("WebSocket error")},i.onclose=d=>{let f=`WebSocket closed ${d.code}`;r.handle_error(f,a),u(f)},i.onmessage=d=>{r.handle_response(d.data)},await c}async function o(s){if(i.readyState===e.CLOSING||i.readyState===e.CLOSED){let c=`WebSocket transport error (${i.readyState})`;throw r.handle_error(c,a),new Error(c)}else if(i.readyState===e.CONNECTING){let c=`WebSocket message dropped (${i.readyState})`;throw new Error(c)}else{let c=s.slice().buffer;i.send(c)}}async function l(){console.debug("Closing WebSocket"),i.close()}return r=new t(o,l),await a(),await r.init(),r}function Mb(){let e,t,n=new Promise((r,i)=>{e=r,t=i});return[e,n,t]}async function Eb(e,t){let[n,r]=Mb();e.addEventListener("message",function i(a){e.removeEventListener("message",i),n(null)}),e.onmessage=function(i){e.onmessage=function(){},n(null)},e.onmessageerror=console.error,e.postMessage({cmd:"init",args:[t]},{transfer:t instanceof WebAssembly.Module?[]:[t]}),await r}async function Ab(e,t,n){let[r,i]=await Promise.all([t,n]),{Client:a}=await e,o;if(typeof SharedWorker<"u"&&i instanceof SharedWorker)o=i.port;else{i=i;let s=new MessageChannel;i.postMessage(null,[s.port2]),o=s.port1}let l=new a(async s=>{let c=s.slice().buffer;o.postMessage(c,{transfer:[c]})},async()=>{console.debug("Closing WebWorker"),o.close()});return await Eb(o,r),o.addEventListener("message",s=>{l.handle_response(s.data)}),await l.init(),l}async function $b(e,t){let{Client:n}=await e;return await Sb(WebSocket,n,t)}if(typeof WebAssembly>"u")throw new Error("WebAssembly not supported.");async function Tb(e){return e instanceof Response?(await WebAssembly.instantiateStreaming(e)).instance.exports:e instanceof WebAssembly.Module?(await WebAssembly.instantiate(e)).exports:e instanceof WebAssembly.Instance?e.exports:e instanceof ArrayBuffer?(await WebAssembly.instantiate(e)).instance.exports:e}async function Pd(e){e instanceof Function&&(e=await e());try{let t=await Tb(e),n=t.size(),r=t.offset();return new Uint8Array(t.memory.buffer).slice(r,r+n)}catch{return console.warn("Stage 0 wasm loading failed, skipping"),new Uint8Array(e)}}var Zc='"use strict";(()=>{var B=Object.defineProperty;var I=(n,t,r)=>t in n?B(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r;var d=(n,t,r)=>(I(n,typeof t!="symbol"?t+"":t,r),r);var g=class{constructor(t){d(this,"clients");d(this,"server");d(this,"module");this.clients=new Map,this.module=t,this.server=t._psp_new_server()}make_session(t){let r=this.module._psp_new_session(this.server);return this.clients.set(r,t),new h(this.module,this.server,r,this.clients)}delete(){this.module._psp_delete_server(this.server)}},h=class{constructor(t,r,a,i){this.mod=t;this.server=r;this.client_id=a;this.client_map=i}async handle_request(t){let r=await x(this.mod,t,async a=>this.mod._psp_handle_request(this.server,this.client_id,a,this.mod._psp_is_memory64()?BigInt(t.byteLength):t.byteLength));await A(this.mod,r,async a=>{await this.client_map.get(a.client_id)(a.data)})}poll(){let t=this.mod._psp_poll(this.server);A(this.mod,t,async r=>{await this.client_map.get(r.client_id)(r.data)})}close(){this.mod._psp_close_session(this.server,this.client_id)}};async function x(n,t,r){let a=n._psp_alloc(n._psp_is_memory64()?BigInt(t.byteLength):t.byteLength);n.HEAPU8.set(t,Number(a));let i=await r(a);return n._psp_free(a),i}async function A(n,t,r){let a=n._psp_is_memory64(),i=new DataView(n.HEAPU8.buffer,Number(t),a?12:8),c=i.getUint32(0,!0),l=a?i.getBigInt64(4,!0):i.getUint32(4,!0),e=new DataView(n.HEAPU8.buffer,Number(l),c*(a?16:12));try{for(let s=0;s<c;s++){let[o,p,f]=a?[e.getBigInt64(s*16,!0),e.getInt32(s*16+8,!0),e.getInt32(s*16+12,!0)]:[e.getInt32(s*12,!0),e.getInt32(s*12+4,!0),e.getInt32(s*12+8,!0)],_=new Uint8Array(n.HEAPU8.buffer,Number(o),p);await r({client_id:f,data:_})}}finally{for(let s=0;s<c;s++){let o=a?e.getBigInt64(s*16,!0):e.getInt32(s*12,!0);n._psp_free(o)}n._psp_free(a?BigInt(e.byteOffset):e.byteOffset),n._psp_free(a?BigInt(i.byteOffset):i.byteOffset)}}var H=console.log.bind(console),N=console.error.bind(console),L=new TextDecoder("utf8"),S=[null,[],[]];function j(n,t=0,r=NaN){for(var a=t+r,i=t;n[i]&&!(i>=a);)++i;return L.decode(n instanceof Uint8Array?n.subarray(t,i):new Uint8Array(n.slice(t,i)))}function P(n,t){var r=S[n];t===0||t===10?((n===1?H:N)(j(r,0)),r.length=0):r.push(t)}async function U(n){let t,r=!1,a,i={HaveOffsetConverter(){console.error("HaveOffsetConverter")},__syscall_ftruncate64(...e){console.error("__syscall_frtuncate64",e)},__syscall_getdents64(...e){console.error("__syscall_frtuncate64",e)},__syscall_unlinkat(...e){console.error("__syscall_frtuncate64",e)},__throw_exception_with_stack_trace(e){let s=new WebAssembly.Exception(t.__cpp_exception,[e],{traceStack:!0});throw s.message="Unexpected internal error",s},clock_time_get(e,s,o){if(r){if(o=o,o=Number(o),!(e==0||e==1||e==2||e==3))return 28;var p;e===0?p=Date.now():p=performance.now();let _=Math.round(p*1e3*1e3),u=new BigInt64Array(a.buffer);return u[o/8]=BigInt(_),0}else{if(o=o,o>>>=0,!(e==0||e==1||e==2||e==3))return 28;var p;e===0?p=Date.now():p=performance.now();var f=Math.round(p*1e6);let u=new BigInt64Array(a.buffer);return u[o>>>3]=BigInt(f),0}},emscripten_asm_const_int(...e){return 0},emscripten_notify_memory_growth(e){r?e=Number(e):(e=e,e>>>=0),e!=0&&console.error("abort")},environ_get(...e){return 0},environ_sizes_get(...e){return 0},fd_close(...e){return console.error("fd_close",e),0},fd_read(...e){return console.error("fd_read",e),0},fd_seek(...e){return console.error("fs_seek",e),0},fd_write(e,s,o,p){let f=new Uint8Array(a.buffer);if(r){s=Number(s),o=Number(o),p=Number(p);let _=0,u=new BigUint64Array(a.buffer);for(let y=0;y<o;y++){let v=Number(u[s/8]),b=Number(u[(s+8)/8]);s+=16;for(let m=0;m<b;m++)P(e,f[v+m]);_+=b}return u[p/8]=BigInt(_),0}else{s=s,o=o,p=p,s>>>=0,o>>>=0,p>>>=0;let _=0,u=new Uint32Array(a.buffer);for(let y=0;y<o;y++){let v=u[s>>>2>>>0],b=u[s+4>>>2>>>0];s+=8;for(let m=0;m<b;m++)P(e,f[v+m>>>0]);_+=b}return u[p>>>2>>>0]=_,0}},proc_exit(e){return console.error("proc_exit",e),0}},c=await n.instantiateWasm({env:i,wasi_snapshot_preview1:i},e=>{t=e.exports,r=!!t.psp_is_memory64(),a=e.exports.memory,t._initialize()}),l={};for(let[e,s]of Object.entries(c))l[`_${e}`]=s;return{...c,...l,get HEAPU8(){return new Uint8Array(a.buffer)}}}async function E(n){let t=await U({locateFile(r){return r},instantiateWasm:async(r,a)=>{r.env={...r.env,psp_stack_trace(){let c=Error().stack||"",e=new TextEncoder().encode(c),s=t._psp_alloc(t._psp_is_memory64()?BigInt(e.byteLength+1):e.byteLength+1);return t.HEAPU8.set(e,Number(s)),t.HEAPU8[Number(s)+e.byteLength]=0,s},psp_heap_size(){return t._psp_is_memory64()?BigInt(t.HEAPU8.buffer.byteLength):t.HEAPU8.buffer.byteLength}};let i=await WebAssembly.instantiate(n,r);return a(i.instance),i.instance.exports}});return t}var w;function M(n){let t=n.ports[0],r;t.addEventListener("message",async a=>{if(a.data.cmd==="init"){let i=a.data.id;if(!w){let c=await E(a.data.args[0]);w=new g(c)}r=w.make_session(async c=>{let l=c.slice().buffer;t.postMessage(l,{transfer:[l]})}),t.postMessage({id:i})}else r.handle_request(new Uint8Array(a.data)),setTimeout(()=>r.poll())}),t.start()}self.addEventListener("connect",M);self.addEventListener("message",M);})();\n';function eu(e,t){function n(a,o){a==="message"&&e.push(o)}function r(a){let o=e.indexOf(a);o>-1&&e.splice(o,1)}function i(a,o){for(let l of t)l({data:a,ports:o})}return{addEventListener:n,removeEventListener:r,postMessage:i,location:{href:""}}}function Cb(e){console.error("Running perspective in single-threaded mode");let t=Function("const self = arguments[0];"+e),n=[],r=[];return t(eu(n,r)),eu(r,n)}var Nb=async function(){try{if(window.location.protocol.startsWith("file"))return console.warn("file:// protocol does not support Web Workers"),Cb(Zc);{let e=new Blob([Zc],{type:"application/javascript"}),t=URL.createObjectURL(e);return new Worker(t,{type:"module"})}}catch(e){console.error("Error instantiating engine",e)}},Ob=Nb,An;function Lb(e,t=!1){e instanceof Uint8Array?An=Promise.resolve(e.buffer):e instanceof Response?An=e.arrayBuffer():e instanceof Promise?An=e.then(n=>n instanceof Response?n.arrayBuffer():n):An=Promise.resolve(e),t||(An=An.then(n=>Pd(n).then(r=>r.buffer)))}var $n;async function ai(e,t=!1){let n=t?e:await Pd(e);return await Dd({module_or_path:n}),await Ld(),Td}function zb(e,t=!1){e instanceof Uint8Array?$n=ai(e.buffer,t):e instanceof ArrayBuffer?$n=ai(e,t):e instanceof Response?$n=e.arrayBuffer().then(n=>ai(n,t)):e instanceof Promise?$n=e.then(n=>n instanceof ArrayBuffer?ai(n,t):n instanceof Response?n.arrayBuffer().then(r=>ai(r,t)):n):e instanceof Object&&($n=Promise.resolve(e))}function Id(){let e=customElements.get("perspective-viewer");if(e)$n=Promise.resolve(e.__wasm_module__);else if($n===void 0)throw new Error("Missing perspective-client.wasm");return $n}function Rb(){if(An===void 0)throw new Error("Missing perspective-server.wasm");return An.then(e=>e instanceof WebAssembly.Module?e:e.slice(0))}function Vb(){return Ob()}async function Db(e){return await $b(Id(),e)}async function Pb(e){return typeof e>"u"&&(e=Vb()),await Ab(Id(),Rb(),e)}var Ul={websocket:Db,worker:Pb,init_client:zb,init_server:Lb},Ib=Object.defineProperty,Fb=(e,t)=>{for(var n in t)Ib(e,n,{get:t[n],enumerable:!0})},Fd={};Fb(Fd,{Client:()=>mo,ColumnDropDownElement:()=>rm,CopyDropDownMenuElement:()=>im,ExportDropDownMenuElement:()=>am,FilterDropDownElement:()=>lm,FunctionDropDownElement:()=>cm,PerspectiveDebugPluginElement:()=>um,PerspectiveViewerElement:()=>Li,ProxySession:()=>ws,Table:()=>ys,View:()=>qt,default:()=>Yd,init:()=>Wd,initSync:()=>dm,registerPlugin:()=>Gb});var tu=class extends Error{},Ub=window.ClipboardItem,jb=window.IntersectionObserver,Wb=window.ResizeObserver;function Bb(e,t,n,r){let i=e[n],a=i.prototype;class o extends HTMLElement{constructor(){super(),this._instance=new i(this)}}let l=Object.getOwnPropertyNames(a);for(let s of l)"get"in Object.getOwnPropertyDescriptor(a,s)?Object.defineProperty(o.prototype,s,{get:function(){return this._instance[s]}}):Object.defineProperty(o.prototype,s,{value:function(...c){return this._instance[s].call(this._instance,...c)}});for(let s of r)Object.defineProperty(o,s,{value:function(...c){return e[s].call(e,...c)}});Object.defineProperty(o,"__wasm_module__",{get(){return e}}),customElements.define(t,o)}var T,Tt=new Array(128).fill(void 0);Tt.push(void 0,null,!0,!1);function v(e){return Tt[e]}var Ue=0,bi=null;function Ca(){return(bi===null||bi.byteLength===0)&&(bi=new Uint8Array(T.memory.buffer)),bi}var Ud=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},qb=function(e,t){return Ud.encodeInto(e,t)};function Xe(e,t,n){if(n===void 0){let l=Ud.encode(e),s=t(l.length,1)>>>0;return Ca().subarray(s,s+l.length).set(l),Ue=l.length,s}let r=e.length,i=t(r,1)>>>0,a=Ca(),o=0;for(;o<r;o++){let l=e.charCodeAt(o);if(l>127)break;a[i+o]=l}if(o!==r){o!==0&&(e=e.slice(o)),i=n(i,r,r=o+e.length*3,1)>>>0;let l=Ca().subarray(i+o,i+r);o+=qb(e,l).written,i=n(i,r,o,1)>>>0}return Ue=o,i}var Un=null;function de(){return(Un===null||Un.buffer.detached===!0||Un.buffer.detached===void 0&&Un.buffer!==T.memory.buffer)&&(Un=new DataView(T.memory.buffer)),Un}function _e(e){return e==null}var Ei=Tt.length;function P(e){Ei===Tt.length&&Tt.push(Tt.length+1);let t=Ei;return Ei=Tt[t],Tt[t]=e,t}var jd=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&jd.decode();function we(e,t){return e=e>>>0,jd.decode(Ca().subarray(e,e+t))}function fe(e,t){try{return e.apply(this,t)}catch(n){T.__wbindgen_export_2(P(n))}}function Hb(e){e<132||(Tt[e]=Ei,Ei=e)}function ee(e){let t=v(e);return Hb(e),t}function Yb(e,t){e=e>>>0;let n=de(),r=[];for(let i=e;i<e+4*t;i+=4)r.push(ee(n.getUint32(i,!0)));return r}var Wa=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{T.__wbindgen_export_4.get(e.dtor)(e.a,e.b)});function ba(e,t,n,r){let i={a:e,b:t,cnt:1,dtor:n},a=(...o)=>{i.cnt++;try{return r(i.a,i.b,...o)}finally{--i.cnt===0&&(T.__wbindgen_export_4.get(i.dtor)(i.a,i.b),i.a=0,Wa.unregister(i))}};return a.original=i,Wa.register(a,i,i),a}function oi(e,t,n,r){let i={a:e,b:t,cnt:1,dtor:n},a=(...o)=>{i.cnt++;let l=i.a;i.a=0;try{return r(l,i.b,...o)}finally{--i.cnt===0?(T.__wbindgen_export_4.get(i.dtor)(l,i.b),Wa.unregister(i)):i.a=l}};return a.original=i,Wa.register(a,i,i),a}function jl(e){let t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){let i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){let i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){let i=e.length,a="[";i>0&&(a+=jl(e[0]));for(let o=1;o<i;o++)a+=", "+jl(e[o]);return a+="]",a}let n=/\[object ([^\]]+)\]/.exec(toString.call(e)),r;if(n&&n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function Oi(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}function Xb(e,t){let n=t(e.length*4,4)>>>0,r=de();for(let i=0;i<e.length;i++)r.setUint32(n+4*i,P(e[i]),!0);return Ue=e.length,n}function Gb(e){let t=Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue;T.registerPlugin(t,n)}function Wd(){T.init()}var pr=128;function ms(e){if(pr==1)throw new Error("out of js stack");return Tt[--pr]=e,pr}function nu(e,t,n){T.__wbindgen_export_5(e,t,P(n))}function Kb(e,t){try{let i=T.__wbindgen_add_to_stack_pointer(-16);T.__wbindgen_export_6(i,e,t);var n=de().getInt32(i+4*0,!0),r=de().getInt32(i+4*1,!0);if(r)throw ee(n)}finally{T.__wbindgen_add_to_stack_pointer(16)}}function ru(e,t,n){T.__wbindgen_export_7(e,t,P(n))}function Qb(e,t){let n=T.__wbindgen_export_8(e,t);return ee(n)}function Jb(e,t,n){try{T.__wbindgen_export_9(e,t,ms(n))}finally{Tt[pr++]=void 0}}function Zb(e,t){T.__wbindgen_export_10(e,t)}function em(e,t,n){T.__wbindgen_export_11(e,t,P(n))}function tm(e,t,n,r){T.__wbindgen_export_12(e,t,P(n),P(r))}var dl=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_client_free(e>>>0,1)),mo=class{static __wrap(e){e=e>>>0;let t=Object.create(mo.prototype);return t.__wbg_ptr=e,dl.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,dl.unregister(this),e}free(){let e=this.__destroy_into_raw();T.__wbg_client_free(e,0)}__getClassname(){let e,t;try{let i=T.__wbindgen_add_to_stack_pointer(-16);T.client___getClassname(i,this.__wbg_ptr);var n=de().getInt32(i+4*0,!0),r=de().getInt32(i+4*1,!0);return e=n,t=r,we(n,r)}finally{T.__wbindgen_add_to_stack_pointer(16),T.__wbindgen_export_3(e,t,1)}}constructor(e,t){let n=T.client_new(P(e),_e(t)?0:P(t));return this.__wbg_ptr=n>>>0,dl.register(this,this.__wbg_ptr,this),this}new_proxy_session(e){try{let t=T.client_new_proxy_session(this.__wbg_ptr,ms(e));return ws.__wrap(t)}finally{Tt[pr++]=void 0}}init(){let e=T.client_init(this.__wbg_ptr);return ee(e)}handle_response(e){let t=T.client_handle_response(this.__wbg_ptr,P(e));return ee(t)}handle_error(e,t){var n=_e(e)?0:Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),r=Ue;let i=T.client_handle_error(this.__wbg_ptr,n,r,_e(t)?0:P(t));return ee(i)}on_error(e){let t=T.client_on_error(this.__wbg_ptr,P(e));return ee(t)}table(e,t){let n=T.client_table(this.__wbg_ptr,P(e),_e(t)?0:P(t));return ee(n)}terminate(){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.client_terminate(r,this.__wbg_ptr);var e=de().getInt32(r+4*0,!0),t=de().getInt32(r+4*1,!0),n=de().getInt32(r+4*2,!0);if(n)throw ee(t);return ee(e)}finally{T.__wbindgen_add_to_stack_pointer(16)}}open_table(e){let t=Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue,r=T.client_open_table(this.__wbg_ptr,t,n);return ee(r)}get_hosted_table_names(){let e=T.client_get_hosted_table_names(this.__wbg_ptr);return ee(e)}on_hosted_tables_update(e){let t=T.client_on_hosted_tables_update(this.__wbg_ptr,P(e));return ee(t)}remove_hosted_tables_update(e){let t=T.client_remove_hosted_tables_update(this.__wbg_ptr,e);return ee(t)}system_info(){let e=T.client_system_info(this.__wbg_ptr);return ee(e)}},nm=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_columndropdownelement_free(e>>>0,1)),rm=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,nm.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_columndropdownelement_free(t,0)}},iu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_copydropdownmenuelement_free(e>>>0,1)),im=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,iu.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_copydropdownmenuelement_free(t,0)}constructor(t){let n=T.copydropdownmenuelement_new(P(t));return this.__wbg_ptr=n>>>0,iu.register(this,this.__wbg_ptr,this),this}open(t){T.copydropdownmenuelement_open(this.__wbg_ptr,P(t))}hide(){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.copydropdownmenuelement_hide(r,this.__wbg_ptr);var t=de().getInt32(r+4*0,!0),n=de().getInt32(r+4*1,!0);if(n)throw ee(t)}finally{T.__wbindgen_add_to_stack_pointer(16)}}set_model(t){Oi(t,Li),T.copydropdownmenuelement_set_model(this.__wbg_ptr,t.__wbg_ptr)}connected_callback(){T.copydropdownmenuelement_connected_callback(this.__wbg_ptr)}},au=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_exportdropdownmenuelement_free(e>>>0,1)),am=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,au.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_exportdropdownmenuelement_free(t,0)}constructor(t){let n=T.copydropdownmenuelement_new(P(t));return this.__wbg_ptr=n>>>0,au.register(this,this.__wbg_ptr,this),this}open(t){T.exportdropdownmenuelement_open(this.__wbg_ptr,P(t))}hide(){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.exportdropdownmenuelement_hide(r,this.__wbg_ptr);var t=de().getInt32(r+4*0,!0),n=de().getInt32(r+4*1,!0);if(n)throw ee(t)}finally{T.__wbindgen_add_to_stack_pointer(16)}}set_model(t){Oi(t,Li),T.exportdropdownmenuelement_set_model(this.__wbg_ptr,t.__wbg_ptr)}connected_callback(){T.copydropdownmenuelement_connected_callback(this.__wbg_ptr)}},om=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_filterdropdownelement_free(e>>>0,1)),lm=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,om.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_filterdropdownelement_free(t,0)}},sm=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_functiondropdownelement_free(e>>>0,1)),cm=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,sm.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_functiondropdownelement_free(t,0)}},ou=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_perspectivedebugpluginelement_free(e>>>0,1)),um=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,ou.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_perspectivedebugpluginelement_free(t,0)}constructor(t){let n=T.perspectivedebugpluginelement_new(P(t));return this.__wbg_ptr=n>>>0,ou.register(this,this.__wbg_ptr,this),this}get name(){let t,n;try{let a=T.__wbindgen_add_to_stack_pointer(-16);T.perspectivedebugpluginelement_name(a,this.__wbg_ptr);var r=de().getInt32(a+4*0,!0),i=de().getInt32(a+4*1,!0);return t=r,n=i,we(r,i)}finally{T.__wbindgen_add_to_stack_pointer(16),T.__wbindgen_export_3(t,n,1)}}get select_mode(){let t,n;try{let a=T.__wbindgen_add_to_stack_pointer(-16);T.perspectivedebugpluginelement_select_mode(a,this.__wbg_ptr);var r=de().getInt32(a+4*0,!0),i=de().getInt32(a+4*1,!0);return t=r,n=i,we(r,i)}finally{T.__wbindgen_add_to_stack_pointer(16),T.__wbindgen_export_3(t,n,1)}}get min_config_columns(){let t=T.perspectivedebugpluginelement_config_column_names(this.__wbg_ptr);return ee(t)}get config_column_names(){let t=T.perspectivedebugpluginelement_config_column_names(this.__wbg_ptr);return ee(t)}update(t){Oi(t,qt);let n=T.perspectivedebugpluginelement_draw(this.__wbg_ptr,t.__wbg_ptr);return ee(n)}draw(t){Oi(t,qt);let n=T.perspectivedebugpluginelement_draw(this.__wbg_ptr,t.__wbg_ptr);return ee(n)}clear(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return ee(t)}resize(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return ee(t)}restyle(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return ee(t)}save(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return ee(t)}restore(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return ee(t)}delete(){let t=T.perspectivedebugpluginelement_clear(this.__wbg_ptr);return ee(t)}connectedCallback(){T.perspectivedebugpluginelement_connectedCallback(this.__wbg_ptr)}},hl=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_perspectiveviewerelement_free(e>>>0,1)),Li=class{static __wrap(e){e=e>>>0;let t=Object.create(Li.prototype);return t.__wbg_ptr=e,hl.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,hl.unregister(this),e}free(){let e=this.__destroy_into_raw();T.__wbg_perspectiveviewerelement_free(e,0)}constructor(e){let t=T.perspectiveviewerelement_new(P(e));return this.__wbg_ptr=t>>>0,hl.register(this,this.__wbg_ptr,this),this}connectedCallback(){T.perspectiveviewerelement_connectedCallback(this.__wbg_ptr)}load(e){let t=T.perspectiveviewerelement_load(this.__wbg_ptr,P(e));return ee(t)}delete(){let e=T.perspectiveviewerelement_delete(this.__wbg_ptr);return ee(e)}getView(){let e=T.perspectiveviewerelement_getView(this.__wbg_ptr);return ee(e)}getTable(e){let t=T.perspectiveviewerelement_getTable(this.__wbg_ptr,_e(e)?16777215:e?1:0);return ee(t)}getRenderStats(){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.perspectiveviewerelement_getRenderStats(r,this.__wbg_ptr);var e=de().getInt32(r+4*0,!0),t=de().getInt32(r+4*1,!0),n=de().getInt32(r+4*2,!0);if(n)throw ee(t);return ee(e)}finally{T.__wbindgen_add_to_stack_pointer(16)}}flush(){let e=T.perspectiveviewerelement_flush(this.__wbg_ptr);return ee(e)}restore(e){let t=T.perspectiveviewerelement_restore(this.__wbg_ptr,P(e));return ee(t)}resetError(){let e=T.perspectiveviewerelement_resetError(this.__wbg_ptr);return ee(e)}save(e){var t=_e(e)?0:Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue;let r=T.perspectiveviewerelement_save(this.__wbg_ptr,t,n);return ee(r)}download(e){let t=T.perspectiveviewerelement_download(this.__wbg_ptr,_e(e)?16777215:e?1:0);return ee(t)}copy(e){let t=T.perspectiveviewerelement_copy(this.__wbg_ptr,_e(e)?0:P(e));return ee(t)}reset(e){let t=T.perspectiveviewerelement_reset(this.__wbg_ptr,_e(e)?16777215:e?1:0);return ee(t)}resize(e){let t=T.perspectiveviewerelement_resize(this.__wbg_ptr,_e(e)?16777215:e?1:0);return ee(t)}setAutoSize(e){T.perspectiveviewerelement_setAutoSize(this.__wbg_ptr,e)}setAutoPause(e){T.perspectiveviewerelement_setAutoPause(this.__wbg_ptr,e)}getSelection(){let e=T.perspectiveviewerelement_getSelection(this.__wbg_ptr);return ee(e)}setSelection(e){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.perspectiveviewerelement_setSelection(r,this.__wbg_ptr,_e(e)?0:P(e));var t=de().getInt32(r+4*0,!0),n=de().getInt32(r+4*1,!0);if(n)throw ee(t)}finally{T.__wbindgen_add_to_stack_pointer(16)}}getEditPort(){try{let r=T.__wbindgen_add_to_stack_pointer(-16);T.perspectiveviewerelement_getEditPort(r,this.__wbg_ptr);var e=de().getFloat64(r+8*0,!0),t=de().getInt32(r+4*2,!0),n=de().getInt32(r+4*3,!0);if(n)throw ee(t);return e}finally{T.__wbindgen_add_to_stack_pointer(16)}}restyleElement(){let e=T.perspectiveviewerelement_restyleElement(this.__wbg_ptr);return ee(e)}resetThemes(e){var t=_e(e)?0:Xb(e,T.__wbindgen_export_0),n=Ue;let r=T.perspectiveviewerelement_resetThemes(this.__wbg_ptr,t,n);return ee(r)}setThrottle(e){T.perspectiveviewerelement_setThrottle(this.__wbg_ptr,!_e(e),_e(e)?0:e)}toggleConfig(e){let t=T.perspectiveviewerelement_toggleConfig(this.__wbg_ptr,_e(e)?16777215:e?1:0);return ee(t)}getAllPlugins(){let e=T.perspectiveviewerelement_getAllPlugins(this.__wbg_ptr);return ee(e)}getPlugin(e){try{let o=T.__wbindgen_add_to_stack_pointer(-16);var t=_e(e)?0:Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue;T.perspectiveviewerelement_getPlugin(o,this.__wbg_ptr,t,n);var r=de().getInt32(o+4*0,!0),i=de().getInt32(o+4*1,!0),a=de().getInt32(o+4*2,!0);if(a)throw ee(i);return ee(r)}finally{T.__wbindgen_add_to_stack_pointer(16)}}get_model(){let e=T.perspectiveviewerelement_get_model(this.__wbg_ptr);return Li.__wrap(e)}toggleColumnSettings(e){let t=Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue,r=T.perspectiveviewerelement_toggleColumnSettings(this.__wbg_ptr,t,n);return ee(r)}openColumnSettings(e,t){var n=_e(e)?0:Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),r=Ue;let i=T.perspectiveviewerelement_openColumnSettings(this.__wbg_ptr,n,r,_e(t)?16777215:t?1:0);return ee(i)}},_l=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_proxysession_free(e>>>0,1)),ws=class{static __wrap(t){t=t>>>0;let n=Object.create(ws.prototype);return n.__wbg_ptr=t,_l.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,_l.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_proxysession_free(t,0)}constructor(t,n){try{Oi(t,mo);let r=T.client_new_proxy_session(t.__wbg_ptr,ms(n));return this.__wbg_ptr=r>>>0,_l.register(this,this.__wbg_ptr,this),this}finally{Tt[pr++]=void 0}}handle_request(t){let n=T.proxysession_handle_request(this.__wbg_ptr,P(t));return ee(n)}poll(){let t=T.proxysession_poll(this.__wbg_ptr);return ee(t)}close(){let t=this.__destroy_into_raw(),n=T.proxysession_close(t);return ee(n)}},lu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_table_free(e>>>0,1)),ys=class{static __wrap(t){t=t>>>0;let n=Object.create(ys.prototype);return n.__wbg_ptr=t,lu.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,lu.unregister(this),t}free(){let t=this.__destroy_into_raw();T.__wbg_table_free(t,0)}__getClassname(){let t,n;try{let a=T.__wbindgen_add_to_stack_pointer(-16);T.table___getClassname(a,this.__wbg_ptr);var r=de().getInt32(a+4*0,!0),i=de().getInt32(a+4*1,!0);return t=r,n=i,we(r,i)}finally{T.__wbindgen_add_to_stack_pointer(16),T.__wbindgen_export_3(t,n,1)}}get_index(){let t=T.table_get_index(this.__wbg_ptr);return ee(t)}get_client(){let t=T.table_get_client(this.__wbg_ptr);return ee(t)}get_name(){let t=T.table_get_name(this.__wbg_ptr);return ee(t)}get_limit(){let t=T.table_get_limit(this.__wbg_ptr);return ee(t)}clear(){let t=T.table_clear(this.__wbg_ptr);return ee(t)}delete(){let t=T.table_delete(this.__wbg_ptr);return ee(t)}size(){let t=T.table_size(this.__wbg_ptr);return ee(t)}schema(){let t=T.table_schema(this.__wbg_ptr);return ee(t)}columns(){let t=T.table_columns(this.__wbg_ptr);return ee(t)}make_port(){let t=T.table_make_port(this.__wbg_ptr);return ee(t)}on_delete(t){let n=T.table_on_delete(this.__wbg_ptr,P(t));return ee(n)}remove_delete(t){let n=T.table_remove_delete(this.__wbg_ptr,t);return ee(n)}remove(t,n){let r=T.table_remove(this.__wbg_ptr,P(t),_e(n)?0:P(n));return ee(r)}replace(t,n){let r=T.table_replace(this.__wbg_ptr,P(t),_e(n)?0:P(n));return ee(r)}update(t,n){let r=T.table_update(this.__wbg_ptr,P(t),_e(n)?0:P(n));return ee(r)}view(t){let n=T.table_view(this.__wbg_ptr,_e(t)?0:P(t));return ee(n)}validate_expressions(t){let n=T.table_validate_expressions(this.__wbg_ptr,P(t));return ee(n)}},su=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>T.__wbg_view_free(e>>>0,1)),qt=class{static __wrap(e){e=e>>>0;let t=Object.create(qt.prototype);return t.__wbg_ptr=e,su.register(t,t.__wbg_ptr,t),t}static __unwrap(e){return e instanceof qt?e.__destroy_into_raw():0}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,su.unregister(this),e}free(){let e=this.__destroy_into_raw();T.__wbg_view_free(e,0)}__get_model(){let e=T.view___get_model(this.__wbg_ptr);return qt.__wrap(e)}column_paths(){let e=T.view_column_paths(this.__wbg_ptr);return ee(e)}delete(){let e=T.view_delete(this.__wbg_ptr);return ee(e)}dimensions(){let e=T.view_dimensions(this.__wbg_ptr);return ee(e)}expression_schema(){let e=T.view_expression_schema(this.__wbg_ptr);return ee(e)}get_config(){let e=T.view_get_config(this.__wbg_ptr);return ee(e)}get_min_max(e){let t=Xe(e,T.__wbindgen_export_0,T.__wbindgen_export_1),n=Ue,r=T.view_get_min_max(this.__wbg_ptr,t,n);return ee(r)}num_rows(){let e=T.view_num_rows(this.__wbg_ptr);return ee(e)}schema(){let e=T.view_schema(this.__wbg_ptr);return ee(e)}to_arrow(e){let t=T.view_to_arrow(this.__wbg_ptr,_e(e)?0:P(e));return ee(t)}to_columns_string(e){let t=T.view_to_columns_string(this.__wbg_ptr,_e(e)?0:P(e));return ee(t)}to_columns(e){let t=T.view_to_columns(this.__wbg_ptr,_e(e)?0:P(e));return ee(t)}to_json_string(e){let t=T.view_to_json_string(this.__wbg_ptr,_e(e)?0:P(e));return ee(t)}to_json(e){let t=T.view_to_json(this.__wbg_ptr,_e(e)?0:P(e));return ee(t)}to_ndjson(e){let t=T.view_to_ndjson(this.__wbg_ptr,_e(e)?0:P(e));return ee(t)}to_csv(e){let t=T.view_to_csv(this.__wbg_ptr,_e(e)?0:P(e));return ee(t)}on_update(e,t){let n=T.view_on_update(this.__wbg_ptr,P(e),_e(t)?0:P(t));return ee(n)}remove_update(e){let t=T.view_remove_update(this.__wbg_ptr,e);return ee(t)}on_delete(e){let t=T.view_on_delete(this.__wbg_ptr,P(e));return ee(t)}num_columns(){let e=T.view_num_columns(this.__wbg_ptr);return ee(e)}remove_delete(e){let t=T.view_remove_delete(this.__wbg_ptr,e);return ee(t)}collapse(e){let t=T.view_collapse(this.__wbg_ptr,e);return ee(t)}expand(e){let t=T.view_expand(this.__wbg_ptr,e);return ee(t)}set_depth(e){let t=T.view_set_depth(this.__wbg_ptr,e);return ee(t)}};async function fm(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Bd(){let e={};return e.wbg={},e.wbg.__wbg_String_8f0eb39a4a4c2f66=function(t,n){let r=String(v(n)),i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_activeElement_269d90df98fa48af=function(t){let n=v(t).activeElement;return _e(n)?0:P(n)},e.wbg.__wbg_addEventListener_086f56364d0f5f32=function(){return fe(function(t,n,r,i,a){v(t).addEventListener(we(n,r),v(i),v(a))},arguments)},e.wbg.__wbg_addEventListener_435e8c1f21f457b2=function(){return fe(function(t,n,r,i){v(t).addEventListener(we(n,r),v(i))},arguments)},e.wbg.__wbg_add_8b20bdf6a0133c8d=function(){return fe(function(t,n){v(t).add(...v(n))},arguments)},e.wbg.__wbg_add_ad1d1783e738a5e9=function(){return fe(function(t,n,r){v(t).add(we(n,r))},arguments)},e.wbg.__wbg_appendChild_7c5825d692053033=function(){return fe(function(t,n){let r=v(t).appendChild(v(n));return P(r)},arguments)},e.wbg.__wbg_apply_9bb7fe8fff013a3f=function(){return fe(function(t,n,r){let i=Reflect.apply(v(t),v(n),v(r));return P(i)},arguments)},e.wbg.__wbg_at_1abf0efc31a7fc6e=function(t,n){let r=v(t).at(n);return P(r)},e.wbg.__wbg_attachShadow_ca706fa989deead3=function(){return fe(function(t,n){let r=v(t).attachShadow(v(n));return P(r)},arguments)},e.wbg.__wbg_blur_d1200a579e3ccf9a=function(){return fe(function(t){v(t).blur()},arguments)},e.wbg.__wbg_body_a988e82424f68da9=function(t){let n=v(t).body;return _e(n)?0:P(n)},e.wbg.__wbg_bootstrap_8c31dbe7accb28b1=function(t,n,r,i,a,o){let l=Bb(v(t),we(n,r),we(i,a),ee(o));return P(l)},e.wbg.__wbg_bubbles_7b5f623fa401eb0d=function(t){return v(t).bubbles},e.wbg.__wbg_buffer_bacd7706db793204=function(t){let n=v(t).buffer;return P(n)},e.wbg.__wbg_buffer_ef9774282e5dab94=function(t){let n=v(t).buffer;return P(n)},e.wbg.__wbg_button_cf393fc0a7773ee4=function(t){return v(t).button},e.wbg.__wbg_byteLength_d52de988f95295b2=function(t){return v(t).byteLength},e.wbg.__wbg_byteOffset_7fca107d7d193694=function(t){return v(t).byteOffset},e.wbg.__wbg_cachekey_57601dac16343711=function(t){let n=v(t).__yew_subtree_cache_key;return _e(n)?4294967297:n>>>0},e.wbg.__wbg_call_0ad083564791763a=function(){return fe(function(t,n){let r=v(t).call(v(n));return P(r)},arguments)},e.wbg.__wbg_call_a34b6b4765f27be0=function(){return fe(function(t,n,r){let i=v(t).call(v(n),v(r));return P(i)},arguments)},e.wbg.__wbg_call_efe5a4db7065d1a2=function(){return fe(function(t,n,r,i){let a=v(t).call(v(n),v(r),v(i));return P(a)},arguments)},e.wbg.__wbg_cancelBubble_65c441507f8e665c=function(t){return v(t).cancelBubble},e.wbg.__wbg_canrendercolumnstyles_f931e4384ae99a9b=function(){return fe(function(t,n,r,i,a){return v(t).can_render_column_styles(we(n,r),i===0?void 0:we(i,a))},arguments)},e.wbg.__wbg_category_83e61dd5804964b3=function(t,n){let r=v(n).category;var i=_e(r)?0:Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_checked_e73ad150b9e38836=function(t){return v(t).checked},e.wbg.__wbg_childNodes_03488c474413d1aa=function(t){let n=v(t).childNodes;return P(n)},e.wbg.__wbg_children_f2103fad05de8500=function(t){let n=v(t).children;return P(n)},e.wbg.__wbg_classList_416e8612217ee162=function(t){let n=v(t).classList;return P(n)},e.wbg.__wbg_click_5c8cca1c6a10688c=function(t){v(t).click()},e.wbg.__wbg_clientHeight_64024d24c91afc9c=function(t){return v(t).clientHeight},e.wbg.__wbg_clientWidth_56ad62b4cfb4eb50=function(t){return v(t).clientWidth},e.wbg.__wbg_clientX_3a92ca49f9e276d1=function(t){return v(t).clientX},e.wbg.__wbg_clientY_8cf1e863a2e20fba=function(t){return v(t).clientY},e.wbg.__wbg_client_new=function(t){let n=mo.__wrap(t);return P(n)},e.wbg.__wbg_clipboard_87e941cdb1e85669=function(t){let n=v(t).clipboard;return _e(n)?0:P(n)},e.wbg.__wbg_cloneNode_007df7834aaa05c7=function(){return fe(function(t,n){let r=v(t).cloneNode(n!==0);return P(r)},arguments)},e.wbg.__wbg_cloneNode_953136fba5daff6c=function(){return fe(function(t){let n=v(t).cloneNode();return P(n)},arguments)},e.wbg.__wbg_columnstylecontrols_a71cb34b8676ea03=function(){return fe(function(t,n,r,i,a){let o=v(t).column_style_controls(we(n,r),i===0?void 0:we(i,a));return P(o)},arguments)},e.wbg.__wbg_composedPath_2bc173ac38e0a20e=function(t){let n=v(t).composedPath();return P(n)},e.wbg.__wbg_configcolumnnames_4c34aa4d47a45f98=function(t){let n=v(t).config_column_names;return _e(n)?0:P(n)},e.wbg.__wbg_contains_c317a65dc27794f3=function(t,n){return v(t).contains(v(n))},e.wbg.__wbg_contentRect_5eb8e05316bb4b7e=function(t){let n=v(t).contentRect;return P(n)},e.wbg.__wbg_createElementNS_76b20f860b18ad4e=function(){return fe(function(t,n,r,i,a){let o=v(t).createElementNS(n===0?void 0:we(n,r),we(i,a));return P(o)},arguments)},e.wbg.__wbg_createElement_32c287e69e603e7e=function(){return fe(function(t,n,r){let i=v(t).createElement(we(n,r));return P(i)},arguments)},e.wbg.__wbg_createObjectURL_79d470fef236d558=function(){return fe(function(t,n){let r=URL.createObjectURL(v(n)),i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},arguments)},e.wbg.__wbg_createTextNode_42cc1e035e528436=function(t,n,r){let i=v(t).createTextNode(we(n,r));return P(i)},e.wbg.__wbg_crypto_ed58b8e10a292839=function(t){let n=v(t).crypto;return P(n)},e.wbg.__wbg_cssRules_ccbd5a21d1b3a12b=function(){return fe(function(t){let n=v(t).cssRules;return P(n)},arguments)},e.wbg.__wbg_dataTransfer_0dfb0466f6be620c=function(t){let n=v(t).dataTransfer;return _e(n)?0:P(n)},e.wbg.__wbg_dataset_9555caf70b9cb0c1=function(t){let n=v(t).dataset;return P(n)},e.wbg.__wbg_debug_338493c12960e4a7=function(t){console.debug(v(t))},e.wbg.__wbg_debug_f201c091a5d2019b=function(t,n,r,i){console.debug(v(t),v(n),v(r),v(i))},e.wbg.__wbg_delete_70d7e592a3a49c16=function(t,n,r){delete v(t)[we(n,r)]},e.wbg.__wbg_delete_e6279f488e1641b1=function(t){v(t).delete()},e.wbg.__wbg_dispatchEvent_68c6f2105f6be0f6=function(){return fe(function(t,n){return v(t).dispatchEvent(v(n))},arguments)},e.wbg.__wbg_document_da63b92bac45c6f9=function(t){let n=v(t).document;return _e(n)?0:P(n)},e.wbg.__wbg_done_f4c254830a095eaf=function(t){return v(t).done},e.wbg.__wbg_draw_5b859f46a578c236=function(){return fe(function(t,n,r,i,a){let o=v(t).draw(qt.__wrap(n),r===4294967297?void 0:r,i===4294967297?void 0:i,a!==0);return P(o)},arguments)},e.wbg.__wbg_entries_83beb641792ccb9c=function(t){let n=Object.entries(v(t));return P(n)},e.wbg.__wbg_error_3c7d958458bf649b=function(t,n){var r=Yb(t,n).slice();T.__wbindgen_export_3(t,n*4,4),console.error(...r)},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(t,n){let r,i;try{r=t,i=n,console.error(we(t,n))}finally{T.__wbindgen_export_3(r,i,1)}},e.wbg.__wbg_error_852b114509bed301=function(t){console.error(v(t))},e.wbg.__wbg_error_94252a8e90b35b8e=function(t,n,r,i){console.error(v(t),v(n),v(r),v(i))},e.wbg.__wbg_error_afd05d3fc1f414ce=function(t,n){console.error(v(t),v(n))},e.wbg.__wbg_family_df8406822a165a00=function(t,n){let r=v(n).family,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_focus_4118597a9430279f=function(){return fe(function(t){v(t).focus()},arguments)},e.wbg.__wbg_fonts_5e9775f930f6db58=function(t){let n=v(t).fonts;return P(n)},e.wbg.__wbg_format_dd85a05737f53b26=function(t){let n=v(t).format;return P(n)},e.wbg.__wbg_from_3aa0fcaa8eef0104=function(t){let n=Array.from(v(t));return P(n)},e.wbg.__wbg_getAttribute_8ea59c069aa8c40f=function(t,n,r,i){let a=v(n).getAttribute(we(r,i));var o=_e(a)?0:Xe(a,T.__wbindgen_export_0,T.__wbindgen_export_1),l=Ue;de().setInt32(t+4*1,l,!0),de().setInt32(t+4*0,o,!0)},e.wbg.__wbg_getBoundingClientRect_d38f67f3e23939f4=function(t){let n=v(t).getBoundingClientRect();return P(n)},e.wbg.__wbg_getComputedStyle_bd01b85926809933=function(){return fe(function(t,n){let r=v(t).getComputedStyle(v(n));return _e(r)?0:P(r)},arguments)},e.wbg.__wbg_getEntriesByName_6fb8ccc67553373f=function(t,n,r,i,a){let o=v(t).getEntriesByName(we(n,r),we(i,a));return P(o)},e.wbg.__wbg_getPropertyValue_b51d619f0b96c87f=function(){return fe(function(t,n,r,i){let a=v(n).getPropertyValue(we(r,i)),o=Xe(a,T.__wbindgen_export_0,T.__wbindgen_export_1),l=Ue;de().setInt32(t+4*1,l,!0),de().setInt32(t+4*0,o,!0)},arguments)},e.wbg.__wbg_getRandomValues_bcb4912f16000dc4=function(){return fe(function(t,n){v(t).getRandomValues(v(n))},arguments)},e.wbg.__wbg_getRootNode_440e85dffade7eea=function(t){let n=v(t).getRootNode();return P(n)},e.wbg.__wbg_getTimezoneOffset_6c191e41297e5a8e=function(t){return v(t).getTimezoneOffset()},e.wbg.__wbg_get_0c3cc364764a0b98=function(t,n){let r=v(t)[n>>>0];return P(r)},e.wbg.__wbg_get_0c9db6b3aed90006=function(t,n,r,i){let a=v(n)[we(r,i)];var o=_e(a)?0:Xe(a,T.__wbindgen_export_0,T.__wbindgen_export_1),l=Ue;de().setInt32(t+4*1,l,!0),de().setInt32(t+4*0,o,!0)},e.wbg.__wbg_get_977cbaa63dc20090=function(t,n,r){let i=v(t)[we(n,r)];return _e(i)?0:P(i)},e.wbg.__wbg_get_b996a12be035ef4f=function(){return fe(function(t,n){let r=Reflect.get(v(t),v(n));return P(r)},arguments)},e.wbg.__wbg_getwithindex_bc07b6cede524990=function(t,n){let r=v(t)[n>>>0];return _e(r)?0:P(r)},e.wbg.__wbg_getwithrefkey_1dc361bd10053bfe=function(t,n){let r=v(t)[v(n)];return P(r)},e.wbg.__wbg_globalThis_6b4d52a0b6aaeaea=function(){return fe(function(){let t=globalThis.globalThis;return P(t)},arguments)},e.wbg.__wbg_global_49324ce12193de77=function(){return fe(function(){let t=global.global;return P(t)},arguments)},e.wbg.__wbg_hasAttribute_ca243798c4c52fb7=function(t,n,r){return v(t).hasAttribute(we(n,r))},e.wbg.__wbg_has_bdec43a5ed4cb454=function(){return fe(function(t,n){return Reflect.has(v(t),v(n))},arguments)},e.wbg.__wbg_height_3adc8837b185fd29=function(t){return v(t).height},e.wbg.__wbg_height_62d7d52d37fd0599=function(t){return v(t).height},e.wbg.__wbg_host_407669ea45f72362=function(t){let n=v(t).host;return P(n)},e.wbg.__wbg_info_493696cc38ae1ad0=function(t,n,r,i){console.info(v(t),v(n),v(r),v(i))},e.wbg.__wbg_info_6c1abe3d4e1ae962=function(t){console.info(v(t))},e.wbg.__wbg_innerHeight_fb3ea713a47ae687=function(){return fe(function(t){let n=v(t).innerHeight;return P(n)},arguments)},e.wbg.__wbg_innerWidth_8d8ddfaffc5a3230=function(){return fe(function(t){let n=v(t).innerWidth;return P(n)},arguments)},e.wbg.__wbg_insertBefore_332a5bd77aff0101=function(){return fe(function(t,n,r){let i=v(t).insertBefore(v(n),v(r));return P(i)},arguments)},e.wbg.__wbg_instanceof_ArrayBuffer_ff40e55b5978e215=function(t){let n;try{n=v(t)instanceof ArrayBuffer}catch{n=!1}return n},e.wbg.__wbg_instanceof_Array_23bc22ecdd4608e6=function(t){let n;try{n=v(t)instanceof Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_CssStyleRule_834b6a5dc7cf5b86=function(t){let n;try{n=v(t)instanceof CSSStyleRule}catch{n=!1}return n},e.wbg.__wbg_instanceof_Element_45bdeb22e5f6babd=function(t){let n;try{n=v(t)instanceof Element}catch{n=!1}return n},e.wbg.__wbg_instanceof_FontFace_d2c93c7cd45276b1=function(t){let n;try{n=v(t)instanceof FontFace}catch{n=!1}return n},e.wbg.__wbg_instanceof_Map_0f3f3653f757ced1=function(t){let n;try{n=v(t)instanceof Map}catch{n=!1}return n},e.wbg.__wbg_instanceof_Object_9108547bac1f91b1=function(t){let n;try{n=v(t)instanceof Object}catch{n=!1}return n},e.wbg.__wbg_instanceof_PerspectiveViewNotFoundError_b4d9eb94ce63f22c=function(t){let n;try{n=v(t)instanceof tu}catch{n=!1}return n},e.wbg.__wbg_instanceof_Promise_55724f650224c9ed=function(t){let n;try{n=v(t)instanceof Promise}catch{n=!1}return n},e.wbg.__wbg_instanceof_ShadowRoot_832cd6adaa07105a=function(t){let n;try{n=v(t)instanceof ShadowRoot}catch{n=!1}return n},e.wbg.__wbg_instanceof_Uint8Array_db97368f94b1373f=function(t){let n;try{n=v(t)instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_Window_311934805c10047c=function(t){let n;try{n=v(t)instanceof Window}catch{n=!1}return n},e.wbg.__wbg_isArray_8738f1062fa88586=function(t){return Array.isArray(v(t))},e.wbg.__wbg_isConnected_7b81a95a86664699=function(t){return v(t).isConnected},e.wbg.__wbg_isIntersecting_bdd5ae92bc11d148=function(t){return v(t).isIntersecting},e.wbg.__wbg_isSafeInteger_a1b3e0811faecf2f=function(t){return Number.isSafeInteger(v(t))},e.wbg.__wbg_is_d6c5f207fac5a36c=function(t,n){return Object.is(v(t),v(n))},e.wbg.__wbg_item_5ead4800ef53b575=function(t,n){let r=v(t).item(n>>>0);return _e(r)?0:P(r)},e.wbg.__wbg_item_85ec4ec73ec46f50=function(t,n){let r=v(t).item(n>>>0);return _e(r)?0:P(r)},e.wbg.__wbg_item_b8ff6623bcb82860=function(t,n){let r=v(t).item(n>>>0);return _e(r)?0:P(r)},e.wbg.__wbg_item_f0a3d07d29e8ca08=function(t,n,r){let i=v(n).item(r>>>0),a=Xe(i,T.__wbindgen_export_0,T.__wbindgen_export_1),o=Ue;de().setInt32(t+4*1,o,!0),de().setInt32(t+4*0,a,!0)},e.wbg.__wbg_iterator_c0c688f37fa815e6=function(){return P(Symbol.iterator)},e.wbg.__wbg_keyCode_10de39848ccf36f5=function(t){return v(t).keyCode},e.wbg.__wbg_key_b6f8a6b04de6624f=function(t,n){let r=v(n).key,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_keys_45b15edb4089351e=function(t){let n=Object.keys(v(t));return P(n)},e.wbg.__wbg_languages_491c6d0833be0219=function(t){let n=v(t).languages;return P(n)},e.wbg.__wbg_lastChild_560693bae51c9627=function(t){let n=v(t).lastChild;return _e(n)?0:P(n)},e.wbg.__wbg_left_bbc85c05eb704107=function(t){return v(t).left},e.wbg.__wbg_length_0f5a275f7c2091d8=function(t){return v(t).length},e.wbg.__wbg_length_12246a78d2f65d3a=function(t){return v(t).length},e.wbg.__wbg_length_c24da17096edfe57=function(t){return v(t).length},e.wbg.__wbg_length_cd70c82cb6e23144=function(t){return v(t).length},e.wbg.__wbg_length_ea896428bb1146cc=function(t){return v(t).length},e.wbg.__wbg_listenerid_ed1678830a5b97ec=function(t){let n=v(t).__yew_listener_id;return _e(n)?4294967297:n>>>0},e.wbg.__wbg_loaded_9979a254f4c4a18a=function(){return fe(function(t){let n=v(t).loaded;return P(n)},arguments)},e.wbg.__wbg_mark_2e459508e2ea726f=function(){return fe(function(t,n,r){v(t).mark(we(n,r))},arguments)},e.wbg.__wbg_matches_bc60960a81f65a74=function(){return fe(function(t,n,r){return v(t).matches(we(n,r))},arguments)},e.wbg.__wbg_maxcells_fd3a2831ca2d60b4=function(t){let n=v(t).max_cells;return _e(n)?4294967297:n>>>0},e.wbg.__wbg_maxcolumns_1b6602e0531553d5=function(t){let n=v(t).max_columns;return _e(n)?4294967297:n>>>0},e.wbg.__wbg_measure_590e79f6f28bcf70=function(){return fe(function(t,n,r,i,a){v(t).measure(we(n,r),we(i,a))},arguments)},e.wbg.__wbg_minconfigcolumns_a1d21c7173cdafb3=function(t){let n=v(t).min_config_columns;return _e(n)?4294967297:n>>>0},e.wbg.__wbg_msCrypto_0a36e2ec3a343d26=function(t){let n=v(t).msCrypto;return P(n)},e.wbg.__wbg_name_2f0220f3f0ac470f=function(t,n){let r=v(n).name,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_namespaceURI_a9c6c7804266ee35=function(t,n){let r=v(n).namespaceURI;var i=_e(r)?0:Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_navigator_f1fcfe352aad9c4a=function(t){let n=v(t).navigator;return P(n)},e.wbg.__wbg_new_26adb8246e7da825=function(){return fe(function(t,n){let r=new CustomEvent(we(t,n));return P(r)},arguments)},e.wbg.__wbg_new_4df4d23a555db943=function(t,n){let r=new Intl.NumberFormat(v(t),v(n));return P(r)},e.wbg.__wbg_new_518e2184725aa711=function(){return P(new Map)},e.wbg.__wbg_new_5479cd54aab193ea=function(){let t=new tu;return P(t)},e.wbg.__wbg_new_59845962d1127937=function(t){let n=new Uint8Array(v(t));return P(n)},e.wbg.__wbg_new_64f7ad5aa7fe5e65=function(){return fe(function(t,n){let r=new InputEvent(we(t,n));return P(r)},arguments)},e.wbg.__wbg_new_67abf4a77618ee3e=function(){let t=new Object;return P(t)},e.wbg.__wbg_new_7af82bd418ef772f=function(t){let n=new Ub(v(t));return P(n)},e.wbg.__wbg_new_7f6cdb425945ba92=function(t,n){let r=new Intl.DateTimeFormat(v(t),v(n));return P(r)},e.wbg.__wbg_new_850c9982fe927db7=function(t){let n=new jb(v(t));return P(n)},e.wbg.__wbg_new_8a536871ddbc3575=function(t){let n=new Wb(v(t));return P(n)},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){let t=new Error;return P(t)},e.wbg.__wbg_new_a96f21efc59c18b1=function(t){let n=new Date(v(t));return P(n)},e.wbg.__wbg_new_ac7361beaf933ba6=function(t,n){try{var r={a:t,b:n},i=(o,l)=>{let s=r.a;r.a=0;try{return tm(s,r.b,o,l)}finally{r.a=s}};let a=new Promise(i);return P(a)}finally{r.a=r.b=0}},e.wbg.__wbg_new_e2d07398d7689006=function(){let t=new Array;return P(t)},e.wbg.__wbg_newnoargs_a136448eeb7d48ac=function(t,n){let r=new Function(we(t,n));return P(r)},e.wbg.__wbg_newwithbyteoffsetandlength_84908302a4c137cf=function(t,n,r){let i=new Uint8Array(v(t),n>>>0,r>>>0);return P(i)},e.wbg.__wbg_newwitheventinitdict_694b539bc4f40c3d=function(){return fe(function(t,n,r){let i=new CustomEvent(we(t,n),v(r));return P(i)},arguments)},e.wbg.__wbg_newwithlength_4c216eaaf23f2f9a=function(t){let n=new Uint8Array(t>>>0);return P(n)},e.wbg.__wbg_newwithstrsequenceandoptions_7f10a04698e1ea40=function(){return fe(function(t,n){let r=new Blob(v(t),v(n));return P(r)},arguments)},e.wbg.__wbg_newwithu8arraysequence_bd1e90bbc7b7a251=function(){return fe(function(t){let n=new Blob(v(t));return P(n)},arguments)},e.wbg.__wbg_nextSibling_e8b3016fe0fc3483=function(t){let n=v(t).nextSibling;return _e(n)?0:P(n)},e.wbg.__wbg_next_54bce2e56cc36c18=function(){return fe(function(t){let n=v(t).next();return P(n)},arguments)},e.wbg.__wbg_next_928df8c15fc0c9b0=function(t){let n=v(t).next;return P(n)},e.wbg.__wbg_next_9dc0926f351c7090=function(){return fe(function(t){let n=v(t).next();return P(n)},arguments)},e.wbg.__wbg_node_02999533c4ea02e3=function(t){let n=v(t).node;return P(n)},e.wbg.__wbg_now_c893509b6d04fa0d=function(t){return v(t).now()},e.wbg.__wbg_observe_66f12e3cec2d313d=function(t,n){v(t).observe(v(n))},e.wbg.__wbg_observe_d1a8bc6a528f0879=function(t,n){v(t).observe(v(n))},e.wbg.__wbg_offsetHeight_6f7ddbf328e832e5=function(t){return v(t).offsetHeight},e.wbg.__wbg_offsetParent_c61271df2ccb206b=function(t){let n=v(t).offsetParent;return _e(n)?0:P(n)},e.wbg.__wbg_offsetWidth_e088bf6f4329d827=function(t){return v(t).offsetWidth},e.wbg.__wbg_offsetX_735d4365b41503ea=function(t){return v(t).offsetX},e.wbg.__wbg_offsetY_b425bca937dc0468=function(t){return v(t).offsetY},e.wbg.__wbg_parentElement_d1f33e17ed9af17f=function(t){let n=v(t).parentElement;return _e(n)?0:P(n)},e.wbg.__wbg_parentNode_632569c5424d986d=function(t){let n=v(t).parentNode;return _e(n)?0:P(n)},e.wbg.__wbg_parse_bd09af51fd7dd576=function(){return fe(function(t,n){let r=JSON.parse(we(t,n));return P(r)},arguments)},e.wbg.__wbg_performance_69882c3bda965f91=function(t){let n=v(t).performance;return _e(n)?0:P(n)},e.wbg.__wbg_pointerId_d196f4d67d3e19aa=function(t){return v(t).pointerId},e.wbg.__wbg_preventDefault_ce5728083bec4f8d=function(t){v(t).preventDefault()},e.wbg.__wbg_priority_842998d3ed85aa5d=function(t){let n=v(t).priority;return _e(n)?4294967297:n>>0},e.wbg.__wbg_process_5c1d670bc53614b8=function(t){let n=v(t).process;return P(n)},e.wbg.__wbg_push_e7d7247e69dad3ee=function(t,n){return v(t).push(v(n))},e.wbg.__wbg_queueMicrotask_6808622725a52272=function(t){let n=v(t).queueMicrotask;return P(n)},e.wbg.__wbg_queueMicrotask_ef0e86b0263a71ee=function(t){queueMicrotask(v(t))},e.wbg.__wbg_randomFillSync_ab2cfe79ebbf2740=function(){return fe(function(t,n){v(t).randomFillSync(ee(n))},arguments)},e.wbg.__wbg_readText_cf819cfa16a76536=function(t){let n=v(t).readText();return P(n)},e.wbg.__wbg_readyState_905c1c6b522c366a=function(t,n){let r=v(n).readyState,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_reject_fd3a67e45841ae99=function(t){let n=Promise.reject(v(t));return P(n)},e.wbg.__wbg_relatedTarget_959a1a6780f8c225=function(t){let n=v(t).relatedTarget;return _e(n)?0:P(n)},e.wbg.__wbg_releasePointerCapture_d85ea7bd3c2e3d60=function(){return fe(function(t,n){v(t).releasePointerCapture(n)},arguments)},e.wbg.__wbg_removeAttribute_b92a081e598114ec=function(){return fe(function(t,n,r){v(t).removeAttribute(we(n,r))},arguments)},e.wbg.__wbg_removeChild_1a90fe3c463c9fa4=function(){return fe(function(t,n){let r=v(t).removeChild(v(n));return P(r)},arguments)},e.wbg.__wbg_removeEventListener_a689e1d3f78c8d6c=function(){return fe(function(t,n,r,i){v(t).removeEventListener(we(n,r),v(i))},arguments)},e.wbg.__wbg_remove_e7b8fe94708f369e=function(){return fe(function(t,n,r){v(t).remove(we(n,r))},arguments)},e.wbg.__wbg_remove_fa057e80ce79f92a=function(){return fe(function(t,n){v(t).remove(...v(n))},arguments)},e.wbg.__wbg_renderwarning_3799da83bf351fce=function(t){let n=v(t).render_warning;return _e(n)?16777215:n?1:0},e.wbg.__wbg_requestAnimationFrame_10b343047ff65a80=function(){return fe(function(t,n){return v(t).requestAnimationFrame(v(n))},arguments)},e.wbg.__wbg_require_79b1e9274cde3c87=function(){return fe(function(){let t=module.require;return P(t)},arguments)},e.wbg.__wbg_resize_99bcde1bb92f391e=function(){return fe(function(t){let n=v(t).resize();return P(n)},arguments)},e.wbg.__wbg_resolve_267ff08e7e1d2ce4=function(t){let n=Promise.resolve(v(t));return P(n)},e.wbg.__wbg_resolvedOptions_73d48ef2e9b809e1=function(t){let n=v(t).resolvedOptions();return P(n)},e.wbg.__wbg_restore_9797641a9507260c=function(){return fe(function(t,n,r){v(t).restore(v(n),v(r))},arguments)},e.wbg.__wbg_restyle_340e3a71167f86f3=function(){return fe(function(t,n){let r=v(t).restyle(qt.__wrap(n));return P(r)},arguments)},e.wbg.__wbg_save_4da1ad87799b584b=function(){return fe(function(t){let n=v(t).save();return P(n)},arguments)},e.wbg.__wbg_scrollLeft_934a89309c2e35fd=function(t){return v(t).scrollLeft},e.wbg.__wbg_scrollTop_124f7d558dd2b1d6=function(t){return v(t).scrollTop},e.wbg.__wbg_scrollTop_baf3b0588ba6af47=function(t){return v(t).scrollTop},e.wbg.__wbg_selectedIndex_3bf09c0e613c15b4=function(t){return v(t).selectedIndex},e.wbg.__wbg_selectionEnd_993c6c28b2c8e8b3=function(){return fe(function(t){let n=v(t).selectionEnd;return _e(n)?4294967297:n>>>0},arguments)},e.wbg.__wbg_selectionStart_dda3ffa187132b73=function(){return fe(function(t){let n=v(t).selectionStart;return _e(n)?4294967297:n>>>0},arguments)},e.wbg.__wbg_selectmode_9f9f68754e81bc33=function(t){let n=v(t).select_mode;return P(n)},e.wbg.__wbg_selectorText_733f92b3cf56a498=function(t,n){let r=v(n).selectorText,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_self_cca3ca60d61220f4=function(){return fe(function(){let t=self.self;return P(t)},arguments)},e.wbg.__wbg_setAttribute_36e2856decdf83a1=function(){return fe(function(t,n,r,i,a){v(t).setAttribute(we(n,r),we(i,a))},arguments)},e.wbg.__wbg_setData_3ae346344c1965c4=function(){return fe(function(t,n,r,i,a){v(t).setData(we(n,r),we(i,a))},arguments)},e.wbg.__wbg_setDragImage_40c5bf975f17f344=function(t,n,r,i){v(t).setDragImage(v(n),r,i)},e.wbg.__wbg_setPointerCapture_57a3ac98f83ead92=function(){return fe(function(t,n){v(t).setPointerCapture(n)},arguments)},e.wbg.__wbg_setProperty_ee6f9ed1d8596887=function(){return fe(function(t,n,r,i,a){v(t).setProperty(we(n,r),we(i,a))},arguments)},e.wbg.__wbg_setSelectionRange_5c44940b58375825=function(){return fe(function(t,n,r){v(t).setSelectionRange(n>>>0,r>>>0)},arguments)},e.wbg.__wbg_setTimeout_3252f08858c90488=function(){return fe(function(t,n,r){return v(t).setTimeout(v(n),r)},arguments)},e.wbg.__wbg_set_1b50d2de855a9d50=function(){return fe(function(t,n,r){return Reflect.set(v(t),v(n),v(r))},arguments)},e.wbg.__wbg_set_34625a88f2c05a3b=function(){return fe(function(t,n,r,i,a){v(t)[we(n,r)]=we(i,a)},arguments)},e.wbg.__wbg_set_393f510a6b7e9da5=function(t,n,r){let i=v(t).set(v(n),v(r));return P(i)},e.wbg.__wbg_set_3f1d0b984ed272ed=function(t,n,r){v(t)[ee(n)]=ee(r)},e.wbg.__wbg_set_5deee49b10b2b780=function(t,n,r){v(t).set(v(n),r>>>0)},e.wbg.__wbg_set_93ba9407b5476ec6=function(t,n,r){v(t)[n>>>0]=ee(r)},e.wbg.__wbg_setcachekey_bb5f908a0e3ee714=function(t,n){v(t).__yew_subtree_cache_key=n>>>0},e.wbg.__wbg_setchecked_ee957125854726c5=function(t,n){v(t).checked=n!==0},e.wbg.__wbg_setdropEffect_49981812b43d66c7=function(t,n,r){v(t).dropEffect=we(n,r)},e.wbg.__wbg_setinnerHTML_1f5ad3b02760ea31=function(t,n,r){v(t).innerHTML=we(n,r)},e.wbg.__wbg_setlistenerid_3d14d37a42484593=function(t,n){v(t).__yew_listener_id=n>>>0},e.wbg.__wbg_setnodeValue_9abe578fc2812b11=function(t,n,r){v(t).nodeValue=n===0?void 0:we(n,r)},e.wbg.__wbg_setrenderwarning_48fd3e17871ef385=function(t,n){v(t).render_warning=n!==0},e.wbg.__wbg_setscrollLeft_93a4a75faf94192b=function(t,n){v(t).scrollLeft=n},e.wbg.__wbg_setscrollTop_54568fa2c9b61ee9=function(t,n){v(t).scrollTop=n},e.wbg.__wbg_setselectionEnd_4df31af04121bb04=function(){return fe(function(t,n){v(t).selectionEnd=n===4294967297?void 0:n},arguments)},e.wbg.__wbg_setselectionStart_9c20762a6ae83185=function(){return fe(function(t,n){v(t).selectionStart=n===4294967297?void 0:n},arguments)},e.wbg.__wbg_setsubtreeid_32b8ceff55862e29=function(t,n){v(t).__yew_subtree_id=n>>>0},e.wbg.__wbg_settextContent_60379b5916721a69=function(t,n,r){v(t).textContent=n===0?void 0:we(n,r)},e.wbg.__wbg_setvalue_34a21ed1993f58ef=function(t,n,r){v(t).value=we(n,r)},e.wbg.__wbg_setvalue_4e6fc1110a966527=function(t,n,r){v(t).value=we(n,r)},e.wbg.__wbg_setvalue_fc0b0c122b07f8a1=function(t,n,r){v(t).value=we(n,r)},e.wbg.__wbg_shiftKey_528456f6a6ebf1a9=function(t){return v(t).shiftKey},e.wbg.__wbg_shiftKey_b2a22adb435e27b7=function(t){return v(t).shiftKey},e.wbg.__wbg_slice_1ce88459a1591604=function(t,n,r){let i=v(t).slice(n>>>0,r>>>0);return P(i)},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(t,n){let r=v(n).stack,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_startTime_06f7b6aebc293aff=function(t){return v(t).startTime},e.wbg.__wbg_static_accessor_PSP_5b4ddde6185d213b=function(){return P(Fd)},e.wbg.__wbg_stopPropagation_6c4309fb9ac23f6a=function(t){v(t).stopPropagation()},e.wbg.__wbg_stringify_7330cbd04ec4c682=function(){return fe(function(t,n,r){let i=JSON.stringify(v(t),v(n),v(r));return P(i)},arguments)},e.wbg.__wbg_stringify_841980d1bf485619=function(){return fe(function(t){let n=JSON.stringify(v(t));return P(n)},arguments)},e.wbg.__wbg_styleSheets_4e820fe7b798a1dd=function(t){let n=v(t).styleSheets;return P(n)},e.wbg.__wbg_style_440caa6047a3adbd=function(t){let n=v(t).style;return P(n)},e.wbg.__wbg_style_920c711d96eb2e5e=function(t){let n=v(t).style;return P(n)},e.wbg.__wbg_subarray_2dc34705c0dc7cdb=function(t,n,r){let i=v(t).subarray(n>>>0,r>>>0);return P(i)},e.wbg.__wbg_subtreeid_e65dfcc52d403fd9=function(t){let n=v(t).__yew_subtree_id;return _e(n)?4294967297:n>>>0},e.wbg.__wbg_supportedValuesOf_8d7945271df8fd61=function(t){let n=Intl.supportedValuesOf(v(t));return P(n)},e.wbg.__wbg_table_new=function(t){let n=ys.__wrap(t);return P(n)},e.wbg.__wbg_tagName_90c0a7a0bd225b11=function(t,n){let r=v(n).tagName,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_target_d36cdebe98450ed6=function(t){let n=v(t).target;return _e(n)?0:P(n)},e.wbg.__wbg_then_84907e7a6730461e=function(t,n){let r=v(t).then(v(n));return P(r)},e.wbg.__wbg_then_db12746ab6cec3f6=function(t,n,r){let i=v(t).then(v(n),v(r));return P(i)},e.wbg.__wbg_toString_2a965b6fc5a7e89f=function(t){let n=v(t).toString();return P(n)},e.wbg.__wbg_toggleAttribute_3981d7b35ee4dc8c=function(){return fe(function(t,n,r,i){return v(t).toggleAttribute(we(n,r),i!==0)},arguments)},e.wbg.__wbg_toggle_aa69dd9b5e2ab306=function(){return fe(function(t,n,r){return v(t).toggle(we(n,r))},arguments)},e.wbg.__wbg_top_5e20a889d04709f4=function(t){return v(t).top},e.wbg.__wbg_trace_04e683e452168e85=function(t,n,r,i){console.trace(v(t),v(n),v(r),v(i))},e.wbg.__wbg_trace_bf1357f2a705e4dd=function(t){console.trace(v(t))},e.wbg.__wbg_unobserve_7d4ac855880770e0=function(t,n){v(t).unobserve(v(n))},e.wbg.__wbg_unobserve_fc7f300855e96002=function(t,n){v(t).unobserve(v(n))},e.wbg.__wbg_update_df5b67bd1cce0b24=function(){return fe(function(t,n,r,i,a){let o=v(t).update(qt.__wrap(n),r===4294967297?void 0:r,i===4294967297?void 0:i,a!==0);return P(o)},arguments)},e.wbg.__wbg_valueAsNumber_69abf6d7799e2865=function(t){return v(t).valueAsNumber},e.wbg.__wbg_value_0eccaeade4025732=function(t,n){let r=v(n).value,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_value_51f8a88d4a1805fb=function(t){let n=v(t).value;return P(n)},e.wbg.__wbg_value_6da0340a74182dc9=function(t,n){let r=v(n).value,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_values_4521bea64273acef=function(t){let n=v(t).values();return P(n)},e.wbg.__wbg_values_9b070f5059e8183e=function(t){let n=Object.values(v(t));return P(n)},e.wbg.__wbg_versions_c71aa1626a93e0a1=function(t){let n=v(t).versions;return P(n)},e.wbg.__wbg_view_new=function(t){let n=qt.__wrap(t);return P(n)},e.wbg.__wbg_view_unwrap=function(t){return qt.__unwrap(ee(t))},e.wbg.__wbg_warn_4f29d3e20ba97cd0=function(t,n,r,i){console.warn(v(t),v(n),v(r),v(i))},e.wbg.__wbg_warn_fecc8e96c5e56fb2=function(t){console.warn(v(t))},e.wbg.__wbg_weight_fa07ad59f7c88d78=function(t,n){let r=v(n).weight,i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbg_which_aa39f19447dea33e=function(t){return v(t).which},e.wbg.__wbg_width_672ea0f631559cbd=function(t){return v(t).width},e.wbg.__wbg_width_a542376951d8d711=function(t){return v(t).width},e.wbg.__wbg_window_2aba046d3fc4ad7c=function(){return fe(function(){let t=window.window;return P(t)},arguments)},e.wbg.__wbg_write_83931bdf7161281c=function(t,n){let r=v(t).write(v(n));return P(r)},e.wbg.__wbindgen_as_number=function(t){return+v(t)},e.wbg.__wbindgen_bigint_from_i64=function(t){return P(t)},e.wbg.__wbindgen_bigint_from_u64=function(t){let n=BigInt.asUintN(64,t);return P(n)},e.wbg.__wbindgen_bigint_get_as_i64=function(t,n){let r=v(n),i=typeof r=="bigint"?r:void 0;de().setBigInt64(t+8*1,_e(i)?BigInt(0):i,!0),de().setInt32(t+4*0,!_e(i),!0)},e.wbg.__wbindgen_boolean_get=function(t){let n=v(t);return typeof n=="boolean"?n?1:0:2},e.wbg.__wbindgen_cb_drop=function(t){let n=ee(t).original;return n.cnt--==1?(n.a=0,!0):!1},e.wbg.__wbindgen_closure_wrapper13943=function(t,n,r){let i=ba(t,n,3600,Qb);return P(i)},e.wbg.__wbindgen_closure_wrapper17144=function(t,n,r){let i=ba(t,n,4203,Jb);return P(i)},e.wbg.__wbindgen_closure_wrapper18073=function(t,n,r){let i=oi(t,n,4295,Zb);return P(i)},e.wbg.__wbindgen_closure_wrapper18097=function(t,n,r){let i=oi(t,n,4299,em);return P(i)},e.wbg.__wbindgen_closure_wrapper5869=function(t,n,r){let i=ba(t,n,75,nu);return P(i)},e.wbg.__wbindgen_closure_wrapper5871=function(t,n,r){let i=oi(t,n,77,Kb);return P(i)},e.wbg.__wbindgen_closure_wrapper5873=function(t,n,r){let i=oi(t,n,75,ru);return P(i)},e.wbg.__wbindgen_closure_wrapper5875=function(t,n,r){let i=oi(t,n,75,ru);return P(i)},e.wbg.__wbindgen_closure_wrapper5877=function(t,n,r){let i=ba(t,n,75,nu);return P(i)},e.wbg.__wbindgen_debug_string=function(t,n){let r=jl(v(n)),i=Xe(r,T.__wbindgen_export_0,T.__wbindgen_export_1),a=Ue;de().setInt32(t+4*1,a,!0),de().setInt32(t+4*0,i,!0)},e.wbg.__wbindgen_error_new=function(t,n){let r=new Error(we(t,n));return P(r)},e.wbg.__wbindgen_in=function(t,n){return v(t)in v(n)},e.wbg.__wbindgen_is_bigint=function(t){return typeof v(t)=="bigint"},e.wbg.__wbindgen_is_function=function(t){return typeof v(t)=="function"},e.wbg.__wbindgen_is_null=function(t){return v(t)===null},e.wbg.__wbindgen_is_object=function(t){let n=v(t);return typeof n=="object"&&n!==null},e.wbg.__wbindgen_is_string=function(t){return typeof v(t)=="string"},e.wbg.__wbindgen_is_undefined=function(t){return v(t)===void 0},e.wbg.__wbindgen_jsval_eq=function(t,n){return v(t)===v(n)},e.wbg.__wbindgen_jsval_loose_eq=function(t,n){return v(t)==v(n)},e.wbg.__wbindgen_memory=function(){let t=T.memory;return P(t)},e.wbg.__wbindgen_number_get=function(t,n){let r=v(n),i=typeof r=="number"?r:void 0;de().setFloat64(t+8*1,_e(i)?0:i,!0),de().setInt32(t+4*0,!_e(i),!0)},e.wbg.__wbindgen_number_new=function(t){return P(t)},e.wbg.__wbindgen_object_clone_ref=function(t){let n=v(t);return P(n)},e.wbg.__wbindgen_object_drop_ref=function(t){ee(t)},e.wbg.__wbindgen_string_get=function(t,n){let r=v(n),i=typeof r=="string"?r:void 0;var a=_e(i)?0:Xe(i,T.__wbindgen_export_0,T.__wbindgen_export_1),o=Ue;de().setInt32(t+4*1,o,!0),de().setInt32(t+4*0,a,!0)},e.wbg.__wbindgen_string_new=function(t,n){let r=we(t,n);return P(r)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(we(t,n))},e}function qd(e,t){return T=e.exports,Hd.__wbindgen_wasm_module=t,Un=null,bi=null,T}function dm(e){if(T!==void 0)return T;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));let t=Bd();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));let n=new WebAssembly.Instance(e,t);return qd(n,e)}async function Hd(e){if(T!==void 0)return T;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead"));let t=Bd();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:r}=await fm(await e,t);return qd(n,r)}var Yd=Hd;if(typeof WebAssembly>"u")throw new Error("WebAssembly not supported.");async function hm(e){return e instanceof Response?(await WebAssembly.instantiateStreaming(e)).instance.exports:e instanceof WebAssembly.Module?(await WebAssembly.instantiate(e)).exports:e instanceof WebAssembly.Instance?e.exports:e instanceof ArrayBuffer?(await WebAssembly.instantiate(e)).instance.exports:e}async function _m(e){e instanceof Function&&(e=await e());try{let t=await hm(e),n=t.size(),r=t.offset();return new Uint8Array(t.memory.buffer).slice(r,r+n)}catch{return console.warn("Stage 0 wasm loading failed, skipping"),new Uint8Array(e)}}async function gm(e){e instanceof Promise&&(e=await e),e instanceof Response&&(e=await e.arrayBuffer()),e instanceof Uint8Array&&(e=e.buffer);let t=await _m(e);await Yd({module_or_path:t}),await Wd()}var pm={init_client:gm},Bn=new WeakMap,bm=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,mm=bm?5e6:1e7,Ba=0,br=0,cu=performance.now();function wm(){let e=performance.now(),t=e-cu,n=Ba,r=br*1e3/t,i=1e3/n,a=br;return Ba=0,br=0,cu=e,{avg:n,real_fps:r,virtual_fps:i,num_frames:a,elapsed:t}}function ym(e){Ba=(Ba*br+e)/(br+1),br+=1}var Xd=(e,...t)=>e.map((n,r)=>[n,t[r]]).flat().filter(n=>!!n).join(""),vm=()=>{let e,t=new Promise(n=>{e=n});return t.resolve=e,t},Mn=new Map;async function xm(e){return await new Promise(requestAnimationFrame),await Mn.get(e)}async function Gd(e,t){if(Mn.has(e)&&(await Mn.get(e),Mn.has(e))){await Mn.get(e);return}Mn.set(e,vm());try{return await t()}finally{let n=Mn.get(e);Mn.delete(e),n.resolve()}}var km=":host{position:absolute;top:0px;left:0px;right:0px;bottom:0px;overflow:scroll;overflow-anchor:none;overscroll-behavior:none;-webkit-overflow-scrolling:touch;}div.rt-virtual-panel{position:absolute;top:0;left:0;right:0;pointer-events:none;}div.rt-scroll-table-clip{position:sticky;contain:strict;overflow-anchor:none;width:100%;height:100%;}div.rt-tree-container{display:flex;align-items:center;height:100%;}slot{position:absolute;overflow:hidden;overflow-anchor:none;}",Sm=":host ::slotted(table){--regular-table--transform-x:0px;--regular-table--transform-y:0px;--regular-table--clip-x:0px;--regular-table--clip-y:0px;}",Mm=class extends HTMLElement{create_shadow_dom(){this.attachShadow({mode:"open"});let t="<slot></slot>";this.shadowRoot.innerHTML=Xd`
            <style>
                ${km}
            </style>
            <style>
                ${Sm}
            </style>
            <div class="rt-virtual-panel"></div>
            <div class="rt-scroll-table-clip">${t}</div>
        `;let[,n,r,i]=this.shadowRoot.children;this._sub_cell_style=n,this._table_clip=i,this._virtual_panel=r,this._setup_virtual_scroll()}_setup_virtual_scroll(){this._table_clip&&(this._virtual_mode==="both"||this._virtual_mode==="vertical"?this._table_clip.style.top="0px":this._table_clip.style.removeProperty("top"),this._virtual_mode==="both"||this._virtual_mode==="horizontal"?this._table_clip.style.left="0px":this._table_clip.style.removeProperty("left"),this._virtual_mode!=="both"?this._table_clip.style.contain="none":this._table_clip.style.removeProperty("contain"))}_calculate_viewport(t,n){let{start_row:r,end_row:i}=this._calculate_row_range(t),{start_col:a,end_col:o}=this._calculate_column_range(n);return this._nrows=t,{start_col:a,end_col:o,start_row:r,end_row:i}}_calculate_row_range(t){let{height:n}=this._container_size,r=this._column_sizes.row_height||19,i=this._view_cache.config.column_pivots.length,a=Math.max(1,this._virtual_panel.offsetHeight-n),o=Math.max(Math.ceil(this.scrollTop),0)/a,l=n/r-i,s=Math.max(0,(t||0)-l)*o,c=Math.max(0,Math.min(s+l,t));return{start_row:s,end_row:c}}_calc_start_column(){let t=this._view_cache.config.row_pivots.length,n=0,r=0,i=0;for(;r<this.scrollLeft;){let a=this._column_sizes.indices[n+t];i=this.scrollLeft-r,n+=1,r+=a!==void 0?a:60}return n+=i/(this._column_sizes.indices[n+t-1]||60),Math.max(0,n-1)}_calculate_column_range(t){if(this._virtual_mode==="none"||this._virtual_mode==="vertical")return{start_col:0,end_col:1/0};{let n=this._calc_start_column(),r=this.table_model.num_columns()||Math.min(t,Math.ceil(this._container_size.width/60)),i=n+r+1;return{start_col:n,end_col:i}}}_max_scroll_column(t){let n=0;if(this._view_cache.config.row_pivots.length>0)for(let a of this._column_sizes.indices.slice(0,this._view_cache.config.row_pivots.length))n+=a;let r=this._view_cache.config.row_pivots.length,i=t;for(;n<this._container_size.width&&i>=0;)i--,n+=this._column_sizes.indices[i+r]||60;return Math.min(t-1,i+1)}_validate_viewport({start_col:t,end_col:n,start_row:r,end_row:i}){r=Math.floor(r),i=Math.ceil(i),t=Math.floor(t),n=Math.ceil(n);let a=this._start_col!==t,o=this._start_row!==r||this._end_row!==i||this._end_col!==n;return this._start_col=t,this._end_col=n,this._start_row=r,this._end_row=i,{invalid_column:a,invalid_row:o}}_calc_scrollable_column_width(t){let n=this._view_cache.config.row_pivots.length,r=this._max_scroll_column(t),i=n,a=0;for(;i<r+n;)a+=this._column_sizes.indices[i]||60,i++;if(i<this._column_sizes.indices.length){let o=this._column_sizes.indices.slice(0,this._view_cache.config.row_pivots.length).reduce((l,s)=>l+s,0);a+=Math.max(0,this._column_sizes.indices[i]-(this._container_size.width-o)||0)}return a}_update_virtual_panel_width(t,n){if(t)if(this._virtual_mode==="vertical"||this._virtual_mode==="none")this._virtual_panel.style.width=this._column_sizes.indices.reduce((r,i)=>r+i,0)+"px";else{let r=this._calc_scrollable_column_width(n);if(r!==0){let i=this._container_size.width+r+2;this._virtual_panel.style.width=i+"px"}else this._virtual_panel.style.width="1px"}}_update_virtual_panel_height(t){let{row_height:n=19}=this._column_sizes,r=this._view_cache.config.column_pivots.length*n,i;i=Math.min(mm,t*n+r),this._virtual_panel.style.height=`${i}px`}async draw(t={}){return typeof t.throttle<"u"&&!t.throttle?await uu.call(this,t):await Gd(this,()=>uu.call(this,t))}async _draw_flush(){await xm(this)}update_sub_cell_offset(t){var a;let n=this._column_sizes.row_height*(t.start_row%1)||0,r=this._column_sizes.indices[(this.table_model._row_headers_length||0)+Math.floor(t.start_col)]*(t.start_col%1)||0,i=(a=this._sub_cell_style.sheet)==null?void 0:a.cssRules[0].style;i&&(i.setProperty("--regular-table--clip-x",`${r}px`),i.setProperty("--regular-table--clip-y",`${n}px`),i.setProperty("--regular-table--transform-x",`-${r}px`),i.setProperty("--regular-table--transform-y",`-${n}px`))}};async function uu(e){let t=performance.now(),{invalid_viewport:n=!0,preserve_width:r=!1}=e,{num_columns:i,num_rows:a,num_row_headers:o,num_column_headers:l,row_height:s}=await this._view_cache.view(0,0,0,0);o!==void 0&&(this._view_cache.row_pivots=Array(o).fill(0)),l!==void 0&&(this._view_cache.column_pivots=Array(l).fill(0)),this._container_size={width:this._virtual_mode==="none"||this._virtual_mode==="vertical"?1/0:this._table_clip.clientWidth,height:this._virtual_mode==="none"||this._virtual_mode==="horizontal"?1/0:this._table_clip.clientHeight},this._update_virtual_panel_height(a),r||this._update_virtual_panel_width(n,i);let c=this._calculate_viewport(a,i),{invalid_row:u,invalid_column:d}=this._validate_viewport(c);if(this._invalid_schema||u||d||n){let f=[],h=!0;for await(let g of this.table_model.draw(this._container_size,this._view_cache,this._selected_id,r,c,i)){g!==void 0&&(f=f.concat(g)),h&&(this.update_sub_cell_offset(c),h=!1),this._is_styling=!0;let p=this._style_callbacks;for(let x of p)await x({detail:this});if(this._is_styling=!1,!this._invalidated&&g!==void 0)break;this._invalidated=!1}this.table_model.autosize_cells(f,s),this.table_model.header.reset_header_cache(),r||this._update_virtual_panel_width(this._invalid_schema||d,i),this._invalid_schema=!1}else this.update_sub_cell_offset(c);ym(performance.now()-t)}var Em=class extends Mm{register_listeners(){this.addEventListener("mousedown",this._on_click_or_dblclick.bind(this)),this.addEventListener("scroll",this._on_scroll.bind(this),{passive:!0}),this._register_glitch_scroll_listeners()}async _on_scroll(t){t.stopPropagation(),await this.draw({invalid_viewport:!1}),this.dispatchEvent(new CustomEvent("regular-table-scroll"))}_register_glitch_scroll_listeners(){this.addEventListener("mousewheel",this._on_mousewheel.bind(this))}_on_mousewheel(t){if(!window.safari)return;let{clientWidth:n,clientHeight:r,scrollTop:i,scrollLeft:a}=this;t.preventDefault(),t.returnValue=!1;let o=Math.max(1,this._virtual_panel.offsetHeight-r),l=Math.max(1,this._virtual_panel.offsetWidth-n);this.scrollTop=Math.max(0,Math.min(o,i+t.deltaY)),this.scrollLeft=Math.max(0,Math.min(l,a+t.deltaX)),this._on_scroll(t)}_on_touchmove(t){t.stopPropagation(),t.preventDefault(),t.returnValue=!1;let{clientWidth:n,clientHeight:r}=this,i=Math.max(1,this._virtual_panel.offsetHeight-r),a=Math.max(1,this._virtual_panel.offsetWidth-n);this.scrollTop=Math.min(i,this._memo_scroll_top+(this._memo_touch_startY-t.touches[0].pageY)),this.scrollLeft=Math.min(a,this._memo_scroll_left+(this._memo_touch_startX-t.touches[0].pageX)),this._on_scroll(t)}_on_touchstart(t){this._memo_touch_startY=t.touches[0].pageY,this._memo_touch_startX=t.touches[0].pageX,this._memo_scroll_top=this.scrollTop,this._memo_scroll_left=this.scrollLeft}async _on_dblclick(t){let n=t.target;for(;n.tagName!=="TD"&&n.tagName!=="TH";)if(n=n.parentElement,!this.contains(n))return;let r=t.target.classList.contains("rt-column-resize"),i=Bn.get(n);if(r){t.stopImmediatePropagation(),n.style.minWidth="",n.style.maxWidth="",t.shiftKey?(this._column_sizes.override=[],this._column_sizes.auto=[],this._column_sizes.indices=[]):(this._column_sizes.override[i.size_key]=void 0,this._column_sizes.auto[i.size_key]=void 0,this._column_sizes.indices[i.size_key]=void 0);for(let a of t.shiftKey?[this.table_model.header.cells[this.table_model.header.cells.length-1],...this.table_model.body.cells]:this.table_model.body.cells)for(let o of t.shiftKey?a:[a[i._virtual_x]])o&&(o.style.minWidth="",o.style.maxWidth="",o.classList.remove("rt-cell-clip"));await this.draw()}}async _on_click(t){if(t.button!==0)return;let n=t.target;for(;n.tagName!=="TD"&&n.tagName!=="TH";)if(n=n.parentElement,!this.contains(n))return;let r=t.target.classList.contains("rt-column-resize"),i=Bn.get(n);r&&(this._on_resize_column(t,n,i),t.stopImmediatePropagation())}async _on_click_or_dblclick(t){let n=performance.now();this._last_clicked_time&&n-this._last_clicked_time<500?(this._last_clicked_time=n,await this._on_dblclick(t)):(this._last_clicked_time=n,await this._on_click(t))}_on_resize_column(t,n,r){let{_virtual_x:i,size_key:a}=r,o=t.pageX,l=i+n.colSpan-1,s=this.table_model.header.get_column_header(l),c=this._column_sizes.indices[a],u=f=>Gd(this,async()=>await this._on_resize_column_move(f,s,o,c,a,l)),d=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d);let f=this._column_sizes.override[a],h=this._column_sizes.indices[a]!==f;this._column_sizes.indices[a]=f,h&&this.draw()};document.addEventListener("mousemove",u),document.addEventListener("mouseup",d)}async _on_resize_column_move(t,n,r,i,a,o){await new Promise(requestAnimationFrame);let l=t.pageX-r,s=Math.max(1,i+l);if(this._column_sizes.override[a]=s,l<0)await this.draw({preserve_width:!0,throttle:!1});else{n.style.minWidth=s+"px",n.style.maxWidth=s+"px";let c=this._column_sizes.auto[a];for(let u of this.table_model.body.cells){let d=u[o];d&&(d.style.maxWidth=d.style.minWidth=s+"px",d.classList.toggle("rt-cell-clip",c>s))}}}},Am=class{constructor(t){this._name=t,this._elements=[],this._index=0}reset(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));let t=this._elements[this._index];return this._index+=1,t}},Kd=class{constructor(t,n,r){this._column_sizes=t,this._container=n,this._span_factory=new Am("span"),this.table=r,this.cells=[],this.rows=[]}num_columns(){return this._get_row(Math.max(0,this.rows.length-1)).row_container.length}num_rows(){return this.cells.length}_set_metadata(t,n){Bn.set(t,n)}_get_or_create_metadata(t){if(t===void 0)return{};if(Bn.has(t))return Bn.get(t);{let n={};return Bn.set(t,n),n}}_replace_cell(t,n){let{tr:r,row_container:i}=this._get_row(t),a=i[n];return a&&(r.removeChild(a),i.splice(n,1,void 0)),a}_fetch_cell(t,n){var r;if(!(t<0||n<0))return(r=this.cells[t])==null?void 0:r[n]}_get_row(t){let n=this.rows[t];n||(n=this.rows[t]=document.createElement("tr"),this.table.appendChild(n));let r=this.cells[t];return r||(r=this.cells[t]=[]),{tr:n,row_container:r}}_get_cell(t="TD",n,r){let{tr:i,row_container:a}=this._get_row(n),o=a[r];if(o||(r<a.length?(o=a[r]=document.createElement(t),i.insertBefore(o,a.slice(r+1).find(l=>l))):(o=a[r]=document.createElement(t),i.appendChild(o))),o.tagName!==t){let l=document.createElement(t);i.replaceChild(l,o),this.cells[n].splice(r,1,l),o=l}return o}_clean_columns(t){for(let n=0;n<this.rows.length;n++){let r=this.rows[n],i=this.cells[n];this.cells[n]=i.slice(0,t[n]||t);let a=this.cells[n].filter(o=>o!==void 0).length;for(;r.children[a];)r.removeChild(r.children[a])}}_clean_rows(t){for(;this.table.children[t];)this.table.removeChild(this.table.children[t]);this.rows=this.rows.slice(0,t),this.cells=this.cells.slice(0,t)}},$m=class extends Kd{constructor(...t){super(...t),this._group_header_cache=[],this._offset_cache=[]}_draw_group_th(t,n,r){let i=this._get_cell("TH",n,t[n]||0);if(t[n]+=1,i.removeAttribute("colspan"),i.style.minWidth="0",i.textContent="",r instanceof HTMLElement)i.appendChild(r);else{let o=this._span_factory.get("span");o.textContent=r,i.appendChild(o)}let a=this._span_factory.get("span");return a.className="rt-column-resize",i.appendChild(a),i}_draw_group(t,n,r){let i=this._get_or_create_metadata(r);return i.column_header=t,i.value=n,i.value=n,i}_draw_th(t,n,r,i,a){let o=this._get_or_create_metadata(r);if(o.column_header=t,o.value=n,o.size_key=a.length?a[0]:a,!(a.length>1)){let l=this._column_sizes.override[o.size_key],s=this._column_sizes.auto[o.size_key];l?(r.classList.toggle("rt-cell-clip",s>l),r.style.minWidth=l+"px",r.style.maxWidth=l+"px"):s?(r.classList.remove("rt-cell-clip"),r.style.maxWidth="",r.style.minWidth=s+"px"):(r.style.maxWidth="",r.style.maxWidth="")}return o}get_column_header(t){return this._get_cell("TH",this.num_rows()-1,t)}draw(t,n,r,i,a,o,l,s,c){var p,x,b;let u=n==null?void 0:n.length;if(u===0)return;let d,f,h,g;s=typeof s>"u"?u-1:s;for(let A=0;A<u;A++){if(h=n[A]?n[A]:"",this._offset_cache[A]=this._offset_cache[A]||0,A<s)c&&((b=(x=(p=this._group_header_cache)==null?void 0:p[A])==null?void 0:x[0])==null?void 0:b.value)===h?(d=this._group_header_cache[A][1],this._group_header_cache[A][2]+=1,r===1&&(this._group_header_cache[A][0].row_header_x=a),d.setAttribute("colspan",this._group_header_cache[A][2])):(d=this._draw_group_th(this._offset_cache,A,h),f=this._draw_group(n,h,d),this._group_header_cache[A]=[f,d,1]);else{d=this._draw_group_th(this._offset_cache,A,h),f=this._draw_th(t||n,h,d,i,a),typeof g>"u"&&(g={th:d,metadata:f});for(let[$]of this._group_header_cache)$.size_key=f.size_key;d.removeAttribute("colspan")}this._get_row(A).tr.classList.toggle("rt-autosize",A===s),d.classList.toggle("rt-group-corner",i===void 0),f&&(f.x=typeof i>"u"?i:Math.floor(i),f.column_header_y=A,f.x0=Math.floor(o),f._virtual_x=l,r===1&&(f.row_header_x=a))}return this._clean_rows(this._offset_cache.length),g=g||{th:d,metadata:f},g}clean(){this._clean_columns(this._offset_cache)}reset_header_cache(){this._offset_cache=[],this._group_header_cache=[]}},Tm=class extends Kd{_draw_td(t,n,r,i,{column_name:a},{ridx_offset:o},l){let s=this._get_cell(t,n,i),c=this._get_or_create_metadata(s);c.y=n+Math.floor(o),c.size_key=l,t==="TD"&&(c.column_header=a);let u=this._column_sizes.override[c.size_key];if(u){let d=this._column_sizes.auto[c.size_key];s.classList.toggle("rt-cell-clip",d>u),s.style.minWidth=u+"px",s.style.maxWidth=u+"px"}else s.classList.remove("rt-cell-clip"),s.style.minWidth="",s.style.maxWidth="";return c.value!==r&&(r instanceof HTMLElement?(s.textContent="",s.appendChild(r)):s.textContent=r),c.value=r,{td:s,metadata:c}}draw(t,n,r,i=!1,a,o,l,s){let{cidx:c,column_data:u,row_headers:d,column_data_listener_metadata:f}=n,{row_height:h}=r,g,p=[],x=[],b=0,A=[];for(let $=0;$<(i?r.row_headers_length:1);$++){b=0;for(let E of u){let y=d==null?void 0:d[b],k;if(i){let D=E[$],L=this._fetch_cell(b-(p[$]||1),c+$),G=this._get_or_create_metadata(L),Y=this._fetch_cell(b,c+$-(A[b]||1)),U=this._get_or_create_metadata(Y);s&&Y&&(U.value===D||D===void 0)&&!Y.hasAttribute("rowspan")?(A[b]=A[b]?A[b]+1:2,Y.setAttribute("colspan",A[b]),this._replace_cell(b,c+$)):s&&L&&G.value===D&&!L.hasAttribute("colspan")?(p[$]=p[$]?p[$]+1:2,L.setAttribute("rowspan",p[$]),this._replace_cell(b,c+$)):(k=this._draw_td("TH",b,D,c+$,n,r,$),k.td.style.display="",k.td.removeAttribute("rowspan"),k.td.removeAttribute("colspan"),k.metadata.row_header=E,k.metadata.row_header_x=$,k.metadata.y0=Math.floor(r.ridx_offset),k.metadata.y1=Math.ceil(r.y1),k.metadata._virtual_x=$,typeof o<"u"&&(k.metadata.x0=Math.floor(o)),p[$]=1,A[b]=1,x[$]=k)}else k=this._draw_td("TD",b,E,c,n,r,l),f&&(k.metadata.user=f[b]),k.metadata.x=typeof a>"u"?a:Math.floor(a),k.metadata.x1=Math.ceil(r.x1),k.metadata.row_header=y||[],k.metadata.y0=Math.floor(r.ridx_offset),k.metadata.y1=Math.ceil(r.y1),k.metadata.dx=Math.floor(a-o),k.metadata.dy=k.metadata.y-Math.floor(k.metadata.y0),k.metadata._virtual_x=c,typeof o<"u"&&(k.metadata.x0=Math.floor(o)),x[0]=k;if(b++,g=k?k.metadata:g,h=h||(k==null?void 0:k.td.offsetHeight),b*h>t)break}}return this._clean_rows(b),{tds:x,ridx:b,metadata:g,row_height:h}}clean({ridx:t,cidx:n}){this._clean_rows(t),this._clean_columns(n)}},fu=class{constructor(t,n,r){this.clear(r);let[i]=r.children,[a,o]=i.children;this.table=i,this._column_sizes=n,this.header=new $m(n,t,a),this.body=new Tm(n,t,o),this.fragment=document.createDocumentFragment()}num_columns(){return this.header.num_columns()}clear(t){t.innerHTML=Xd`
            <table cellspacing="0">
                <thead></thead>
                <tbody></tbody>
            </table>
        `}autosize_cells(t,n){for(;t.length>0;){let[r,i]=t.pop(),a=r.getBoundingClientRect();this._column_sizes.row_height=n||Math.max(10,Math.min(this._column_sizes.row_height||a.height,a.height)),this._column_sizes.indices[i.size_key]=a.width;let o=this._column_sizes.override[i.size_key]!==void 0;a.width&&!o&&(this._column_sizes.auto[i.size_key]=a.width),r.style.minWidth==="0px"&&(r.style.minWidth=`${a.width}px`)}}async*draw(t,n,r,i,a,o){var W,R,Q,V;let{width:l,height:s}=t,{view:c,config:u}=n,{data:d,row_headers:f,column_headers:h,metadata:g,num_row_headers:p,num_column_headers:x,column_header_merge_depth:b,merge_headers:A="both"}=await c(Math.floor(a.start_col),Math.floor(a.start_row),Math.ceil(a.end_col),Math.ceil(a.end_row));p!==void 0&&(this._view_cache.row_pivots=Array(p).fill(0)),x!==void 0&&(this._view_cache.column_pivots=Array(x).fill(0));let $=A==="both"||A==="row",E=A==="both"||A==="column",{start_row:y=0,start_col:k=0,end_col:D=0,end_row:L=0}=a;f&&(this._row_headers_length=f.reduce((j,I)=>Math.max(j,I.length),0),f=f.map(j=>(j.length=this._row_headers_length,j))),n.config.column_pivots=Array(((W=h==null?void 0:h[0])==null?void 0:W.length)||0).fill(0),n.config.row_pivots=Array(((R=f==null?void 0:f[0])==null?void 0:R.length)||0).fill(0);let G=this._column_sizes.indices[(this._row_headers_length||0)+Math.floor(a.start_col)]||0,Y={viewport_width:0,selected_id:r,ridx_offset:y,sub_cell_offset:G,x0:k,x1:D,y1:L,row_height:this._column_sizes.row_height,row_headers_length:this._row_headers_length},U,re=0,q=[],N=!0;if((f==null?void 0:f.length)>0){let j=u.row_pivots.join(","),I={column_name:j,cidx:0,column_data:f,row_headers:f,first_col:N},ae=re+Math.floor(k);U=this.body.draw(s,I,{...Y,x0:0},!0,void 0,void 0,ae,$);let ue=[];for(let F=0;F<n.config.row_pivots.length;F++){let K=this.header.draw(j,Array(n.config.column_pivots.length).fill(""),1,void 0,F,k,F,b,E);K&&ue.push(K)}if(N=!1,Y.viewport_width+=ue.reduce((F,{th:K},ge)=>F+(this._column_sizes.indices[ge]||K.offsetWidth),0),Y.row_height=Y.row_height||U.row_height,re=f[0].length,!i)for(let F=0;F<n.config.row_pivots.length;F++){let{td:K,metadata:ge}=U.tds[F]||{},{th:xe,metadata:Ee}=ue[F]||{};(K||xe)&&q.push([xe||K,Ee||ge])}}try{let j=0,I=o-a.start_col;for(;j<I;){if(!d[j]){let le=Math.max(a.end_col,0);a.start_col=le;let ke=0,$e=0;for(;this._column_sizes.indices.length>re+k+ke+1&&$e+Y.viewport_width<l;)ke++,$e+=this._column_sizes.indices[re+k+ke];if($e+Y.viewport_width<l){let Te=Math.min(o,le+5);a.end_col=Math.max(1,Math.min(o,Te))}else a.end_col=Math.max(1,Math.min(o,le+ke));let ne=c(Math.floor(a.start_col),Math.floor(a.start_row),Math.ceil(a.end_col),Math.ceil(a.end_row));yield void 0;let Pe=await ne;if(typeof Pe.column_header_merge_depth<"u"&&(b=Pe.column_header_merge_depth),typeof Pe.merge_headers<"u"&&(A=Pe.merge_headers),Pe.data.length===0){yield q;return}a.end_col=a.start_col+Pe.data.length;for(let Te=0;Te<Pe.data.length;Te++)d[j+Te]=Pe.data[Te],Pe.metadata&&(g[j+Te]=Pe.metadata[Te]),h&&(h[j+Te]=(Q=Pe.column_headers)==null?void 0:Q[Te])}let ae=(h==null?void 0:h[j])||"",ue=d[j],F=g==null?void 0:g[j],K={column_name:ae,cidx:re,column_data:ue,column_data_listener_metadata:F,row_headers:f,first_col:N},ge=j+k,xe=re+Math.floor(k),Ee=this.header.draw(void 0,ae,void 0,ge,xe,k,re,b,E);if(U=this.body.draw(s,K,Y,!1,ge,k,xe,$),N=!1,!i)for(let{td:le,metadata:ke}of U.tds)q.push([(Ee==null?void 0:Ee.th)||le,(Ee==null?void 0:Ee.metadata)||ke]);let Ie=this._column_sizes.indices[re+Math.floor(k)];if(Ie?Y.viewport_width+=Ie:Y.viewport_width+=((V=Ee==null?void 0:Ee.th)==null?void 0:V.offsetWidth)||U.tds.reduce((le,ke)=>{var $e;return le+(($e=ke.td)==null?void 0:$e.offsetWidth)},0),Y.row_height=Y.row_height||U.row_height,re++,j++,Y.viewport_width-Y.sub_cell_offset>l){this.body.clean({ridx:(U==null?void 0:U.ridx)||0,cidx:re}),this.header.clean(),yield q,Y.viewport_width=0;for(let[le]of q)Y.viewport_width+=le.offsetWidth;if(Y.viewport_width-Y.sub_cell_offset>l)return}}this.body.clean({ridx:(U==null?void 0:U.ridx)||0,cidx:re}),this.header.clean(),yield q}finally{this.body.clean({ridx:(U==null?void 0:U.ridx)||0,cidx:re}),this.header.clean(),this.body._span_factory.reset(),this.header._span_factory.reset()}}},Cm=["both","horizontal","vertical","none"],Nm=class extends Em{constructor(){super(),this._column_sizes={auto:[],override:[],indices:[]},this._style_callbacks=[],this._initialized=!1}connectedCallback(){this._initialized||(this.create_shadow_dom(),this.register_listeners(),this.setAttribute("tabindex","0"),this._initialized=!0,this.table_model=new fu(this._table_clip,this._column_sizes,this))}_reset_viewport(){this._start_row=void 0,this._end_row=void 0,this._start_col=void 0,this._end_col=void 0}_reset_scroll(){this._column_sizes.indices=[],this.scrollTop=0,this.scrollLeft=0,this._reset_viewport()}_resetAutoSize(){this._column_sizes.auto=[],this._column_sizes.override=[],this._column_sizes.indices=[];for(let t=0;t<this.table_model.header.num_columns();t++){let n=this.table_model.header.get_column_header(t);n.style.minWidth="",n.style.maxWidth=""}}clear(){this.table_model=new fu(this._table_clip,this._column_sizes,this)}addStyleListener(t){this._style_callbacks=this._style_callbacks.concat(t);let n=!0;return()=>{if(!n)return;n=!1;let r=this._style_callbacks=this._style_callbacks.slice(),i=r.indexOf(t);r.splice(i,1)}}removeStyleListener(t){let n=this._style_callbacks.length;this._style_callbacks=this._style_callbacks.filter(r=>r!==t),console.assert(this._style_callbacks.length===n-1,"No listener found")}invalidate(){if(!this._is_styling)throw new Error("Cannot call `invalidate()` outside of a `StyleListener`");this._invalidated=!0}getMeta(t){if(!(typeof t>"u")){if(t instanceof HTMLElement)return Bn.get(t);if(t.row_header_x>=0){if(t.row_header_x<this._view_cache.config.row_pivots.length){let n=this.table_model.body._fetch_cell(t.y,t.row_header_x);return this.getMeta(n)}}else if(t.column_header_y>=0){if(t.column_header_y<this._view_cache.config.column_pivots.length){let n=this.table_model.body._fetch_cell(t.column_header_y,t.y);return this.getMeta(n)}}else return this.getMeta(this.table_model.body._fetch_cell(t.dy,t.dx+this.table_model._row_headers_length))}}getDrawFPS(){return wm()}async scrollToCell(t,n){if(!this._view_cache){console.warn("data listener not configured");return}let r=this._column_sizes.row_height||19,i=this._view_cache.config.column_pivots.length*r,a=(this._table_clip.offsetHeight-i)%r,o=(this._virtual_panel.offsetHeight-a)/this._nrows;this.scrollTop=Math.ceil(o*n);let l=0;for(;t>0;)t--,l+=this._column_sizes.indices[t+this._view_cache.config.row_pivots.length]||60;this.scrollLeft=Math.ceil(l),await new Promise(requestAnimationFrame),await this._draw_flush()}setDataListener(t,{virtual_mode:n="both",preserve_state:r=!1}={}){if(console.assert(Cm.indexOf(n)>-1,`Unknown virtual_mode ${n};  valid options are "both" (default), "horizontal", "vertical" or "none"`),r)console.assert(!virtual_mode_changed,"preserve_state called with modified virtual_mode"),this._view_cache.view=t;else{let i=this._virtual_mode=n,a={row_pivots:[],column_pivots:[]};this._virtual_mode=n,this._invalid_schema=!0,this._view_cache={view:t,config:a},i&&this._setup_virtual_scroll()}}__noop_jsdoc_hints(){}};document.createElement("regular-table").constructor===HTMLElement&&window.customElements.define("regular-table",Nm);function Om(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mi={exports:{}},Lm=mi.exports,du;function zm(){return du||(du=1,function(e,t){/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var n,r,i,a,o,l,s,c,u,d,f,h,g,p,x,b,A,$,E,y,k,D,L,G,Y,U,re,q,N,W,R,Q,V,j,I,ae,ue,F,K,ge,xe,Ee,Ie,le,ke,$e,ne,Pe,Te,_t,Me,Kt,Fr,vc,xc,st,kc,Sc,Mc,Ec,Ac,$c,Tc,Qo,Jo,Zo,Cc,Nc,Oc,sa,ca,Lc,At,zc,Ur,Nt,el,Be,Ye,vn,ua,fa,Wt=[].slice;Be=function(){var _,m,w,S,M;for(_={},M="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),S=0,m=M.length;S<m;S++)w=M[S],_["[object "+w+"]"]=w.toLowerCase();return function(C){var O;return O=Object.prototype.toString.call(C),_[O]||"object"}}(),ne=function(_,m,w){return m==null&&(m=0),w==null&&(w=1),_<m&&(_=m),_>w&&(_=w),_},Ye=function(_){return _.length>=3?Array.prototype.slice.call(_):_[0]},k=function(_){var m,w;for(_._clipped=!1,_._unclipped=_.slice(0),m=w=0;w<3;m=++w)m<3?((_[m]<0||_[m]>255)&&(_._clipped=!0),_[m]<0&&(_[m]=0),_[m]>255&&(_[m]=255)):m===3&&(_[m]<0&&(_[m]=0),_[m]>1&&(_[m]=1));return _._clipped||delete _._unclipped,_},a=Math.PI,At=Math.round,L=Math.cos,q=Math.floor,st=Math.pow,Pe=Math.log,Ur=Math.sin,Nt=Math.sqrt,p=Math.atan2,Me=Math.max,g=Math.abs,s=a*2,o=a/3,r=a/180,l=180/a,y=function(){return arguments[0]instanceof n?arguments[0]:function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,arguments,function(){})},y.default=y,h=[],e!==null&&e.exports!=null&&(e.exports=y),Lc=t!==null?t:this,Lc.chroma=y,y.version="1.4.1",f={},u=[],d=!1,n=function(){function _(){var m,w,S,M,C,O,z,H,Z;for(O=this,w=[],H=0,M=arguments.length;H<M;H++)m=arguments[H],m!=null&&w.push(m);if(w.length>1&&(z=w[w.length-1]),f[z]!=null)O._rgb=k(f[z](Ye(w.slice(0,-1))));else{for(d||(u=u.sort(function(se,me){return me.p-se.p}),d=!0),Z=0,C=u.length;Z<C&&(S=u[Z],z=S.test.apply(S,w),!z);Z++);z&&(O._rgb=k(f[z].apply(f,w)))}O._rgb==null&&console.warn("unknown format: "+w),O._rgb==null&&(O._rgb=[0,0,0]),O._rgb.length===3&&O._rgb.push(1)}return _.prototype.toString=function(){return this.hex()},_}(),y._input=f;/**
	ColorBrewer colors for chroma.js

	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
	Pennsylvania State University.

	Licensed under the Apache License, Version 2.0 (the "License"); 
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at	
	http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software distributed
	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
	CONDITIONS OF ANY KIND, either express or implied. See the License for the
	specific language governing permissions and limitations under the License.

    @preserve
 */y.brewer=$={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var _,m;m=[];for(_ in $)m.push($[_.toLowerCase()]=$[_]);return m}(),vn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},y.colors=vn,Ee=function(){var _,m,w,S,M,C,O,z,H;return m=Ye(arguments),M=m[0],_=m[1],w=m[2],z=(M+16)/116,O=isNaN(_)?z:z+_/500,H=isNaN(w)?z:z-w/200,z=i.Yn*Ie(z),O=i.Xn*Ie(O),H=i.Zn*Ie(H),C=fa(3.2404542*O-1.5371385*z-.4985314*H),S=fa(-.969266*O+1.8760108*z+.041556*H),w=fa(.0556434*O-.2040259*z+1.0572252*H),[C,S,w,m.length>3?m[3]:1]},fa=function(_){return 255*(_<=.00304?12.92*_:1.055*st(_,1/2.4)-.055)},Ie=function(_){return _>i.t1?_*_*_:i.t2*(_-i.t0)},i={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Qo=function(){var _,m,w,S,M,C,O,z;return S=Ye(arguments),w=S[0],m=S[1],_=S[2],M=Oc(w,m,_),C=M[0],O=M[1],z=M[2],[116*O-16,500*(C-O),200*(O-z)]},sa=function(_){return(_/=255)<=.04045?_/12.92:st((_+.055)/1.055,2.4)},ua=function(_){return _>i.t3?st(_,1/3):_/i.t2+i.t0},Oc=function(){var _,m,w,S,M,C,O;return S=Ye(arguments),w=S[0],m=S[1],_=S[2],w=sa(w),m=sa(m),_=sa(_),M=ua((.4124564*w+.3575761*m+.1804375*_)/i.Xn),C=ua((.2126729*w+.7151522*m+.072175*_)/i.Yn),O=ua((.0193339*w+.119192*m+.9503041*_)/i.Zn),[M,C,O]},y.lab=function(){return function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,Wt.call(arguments).concat(["lab"]),function(){})},f.lab=Ee,n.prototype.lab=function(){return Qo(this._rgb)},x=function(_){var m,w,S,M,C,O,z,H,Z,se,me;return _=function(){var oe,te,he;for(he=[],te=0,oe=_.length;te<oe;te++)M=_[te],he.push(y(M));return he}(),_.length===2?(Z=function(){var oe,te,he;for(he=[],te=0,oe=_.length;te<oe;te++)M=_[te],he.push(M.lab());return he}(),C=Z[0],O=Z[1],m=function(oe){var te,he;return he=function(){var Se,Ne;for(Ne=[],te=Se=0;Se<=2;te=++Se)Ne.push(C[te]+oe*(O[te]-C[te]));return Ne}(),y.lab.apply(y,he)}):_.length===3?(se=function(){var oe,te,he;for(he=[],te=0,oe=_.length;te<oe;te++)M=_[te],he.push(M.lab());return he}(),C=se[0],O=se[1],z=se[2],m=function(oe){var te,he;return he=function(){var Se,Ne;for(Ne=[],te=Se=0;Se<=2;te=++Se)Ne.push((1-oe)*(1-oe)*C[te]+2*(1-oe)*oe*O[te]+oe*oe*z[te]);return Ne}(),y.lab.apply(y,he)}):_.length===4?(me=function(){var oe,te,he;for(he=[],te=0,oe=_.length;te<oe;te++)M=_[te],he.push(M.lab());return he}(),C=me[0],O=me[1],z=me[2],H=me[3],m=function(oe){var te,he;return he=function(){var Se,Ne;for(Ne=[],te=Se=0;Se<=2;te=++Se)Ne.push((1-oe)*(1-oe)*(1-oe)*C[te]+3*(1-oe)*(1-oe)*oe*O[te]+3*(1-oe)*oe*oe*z[te]+oe*oe*oe*H[te]);return Ne}(),y.lab.apply(y,he)}):_.length===5&&(w=x(_.slice(0,3)),S=x(_.slice(2,5)),m=function(oe){return oe<.5?w(oe*2):S((oe-.5)*2)}),m},y.bezier=function(_){var m;return m=x(_),m.scale=function(){return y.scale(m)},m},y.cubehelix=function(_,m,w,S,M){var C,O,z;return _==null&&(_=300),m==null&&(m=-1.5),w==null&&(w=1),S==null&&(S=1),M==null&&(M=[0,1]),C=0,Be(M)==="array"?O=M[1]-M[0]:(O=0,M=[M,M]),z=function(H){var Z,se,me,oe,te,he,Se,Ne,ye;return Z=s*((_+120)/360+m*H),Se=st(M[0]+O*H,S),he=C!==0?w[0]+H*C:w,se=he*Se*(1-Se)/2,oe=L(Z),ye=Ur(Z),Ne=Se+se*(-.14861*oe+1.78277*ye),te=Se+se*(-.29227*oe-.90649*ye),me=Se+se*(1.97294*oe),y(k([Ne*255,te*255,me*255,1]))},z.start=function(H){return H==null?_:(_=H,z)},z.rotations=function(H){return H==null?m:(m=H,z)},z.gamma=function(H){return H==null?S:(S=H,z)},z.hue=function(H){return H==null?w:(w=H,Be(w)==="array"?(C=w[1]-w[0],C===0&&(w=w[1])):C=0,z)},z.lightness=function(H){return H==null?M:(Be(H)==="array"?(M=H,O=H[1]-H[0]):(M=[H,H],O=0),z)},z.scale=function(){return y.scale(z)},z.hue(w),z},y.random=function(){var _,m,w;for(m="0123456789abcdef",_="#",w=0;w<6;++w)_+=m.charAt(q(Math.random()*16));return new n(_)},h=[],I=function(_,m,w,S){var M,C,O,z;for(w==null&&(w=.5),S==null&&(S="rgb"),Be(_)!=="object"&&(_=y(_)),Be(m)!=="object"&&(m=y(m)),O=0,C=h.length;O<C;O++)if(M=h[O],S===M[0]){z=M[1](_,m,w,S);break}if(z==null)throw"color mode "+S+" is not supported";return z.alpha(_.alpha()+w*(m.alpha()-_.alpha()))},y.interpolate=I,n.prototype.interpolate=function(_,m,w){return I(this,_,m,w)},y.mix=I,n.prototype.mix=n.prototype.interpolate,f.rgb=function(){var _,m,w,S;m=Ye(arguments),w=[];for(_ in m)S=m[_],w.push(S);return w},y.rgb=function(){return function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,Wt.call(arguments).concat(["rgb"]),function(){})},n.prototype.rgb=function(_){return _==null&&(_=!0),_?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(_){return _==null&&(_=!0),_?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},u.push({p:3,test:function(_){var m;if(m=Ye(arguments),Be(m)==="array"&&m.length===3||m.length===4&&Be(m[3])==="number"&&m[3]>=0&&m[3]<=1)return"rgb"}}),f.lrgb=f.rgb,F=function(_,m,w,S){var M,C;return M=_._rgb,C=m._rgb,new n(Nt(st(M[0],2)*(1-w)+st(C[0],2)*w),Nt(st(M[1],2)*(1-w)+st(C[1],2)*w),Nt(st(M[2],2)*(1-w)+st(C[2],2)*w),S)},c=function(_){var m,w,S,M,C,O;for(w=1/_.length,O=[0,0,0,0],M=0,S=_.length;M<S;M++)m=_[M],C=m._rgb,O[0]+=st(C[0],2)*w,O[1]+=st(C[1],2)*w,O[2]+=st(C[2],2)*w,O[3]+=C[3]*w;return O[0]=Nt(O[0]),O[1]=Nt(O[1]),O[2]=Nt(O[2]),O[3]>1&&(O[3]=1),new n(k(O))},h.push(["lrgb",F]),y.average=function(_,m){var w,S,M,C,O,z,H,Z,se,me,oe,te,he;if(m==null&&(m="rgb"),se=_.length,_=_.map(function(Se){return y(Se)}),H=_.splice(0,1)[0],m==="lrgb")return c(_);te=H.get(m),C=[],O=0,z=0;for(Z in te)te[Z]=te[Z]||0,C.push(isNaN(te[Z])?0:1),m.charAt(Z)==="h"&&!isNaN(te[Z])&&(w=te[Z]/180*a,O+=L(w),z+=Ur(w));for(S=H.alpha(),oe=0,me=_.length;oe<me;oe++){M=_[oe],he=M.get(m),S+=M.alpha();for(Z in te)isNaN(he[Z])||(C[Z]+=1,m.charAt(Z)==="h"?(w=he[Z]/180*a,O+=L(w),z+=Ur(w)):te[Z]+=he[Z])}for(Z in te)if(m.charAt(Z)==="h"){for(w=p(z/C[Z],O/C[Z])/a*180;w<0;)w+=360;for(;w>=360;)w-=360;te[Z]=w}else te[Z]=te[Z]/C[Z];return y(te,m).alpha(S/se)},W=function(_){var m,w,S,M,C,O;if(_.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(_.length===4||_.length===7)&&(_=_.substr(1)),_.length===3&&(_=_.split(""),_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),O=parseInt(_,16),M=O>>16,S=O>>8&255,w=O&255,[M,S,w,1];if(_.match(/^#?([A-Fa-f0-9]{8})$/))return _.length===9&&(_=_.substr(1)),O=parseInt(_,16),M=O>>24&255,S=O>>16&255,w=O>>8&255,m=At((O&255)/255*100)/100,[M,S,w,m];if(f.css!=null&&(C=f.css(_)))return C;throw"unknown color: "+_},Ec=function(_,m){var w,S,M,C,O,z,H;return m==null&&(m="auto"),O=_[0],M=_[1],S=_[2],w=_[3],m==="auto"&&(m=w<1?"rgba":"rgb"),O=Math.round(O),M=Math.round(M),S=Math.round(S),H=O<<16|M<<8|S,z="000000"+H.toString(16),z=z.substr(z.length-6),C="0"+At(w*255).toString(16),C=C.substr(C.length-2),"#"+function(){switch(m.toLowerCase()){case"rgba":return z+C;case"argb":return C+z;default:return z}}()},f.hex=function(_){return W(_)},y.hex=function(){return function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,Wt.call(arguments).concat(["hex"]),function(){})},n.prototype.hex=function(_){return _==null&&(_="auto"),Ec(this._rgb,_)},u.push({p:4,test:function(_){if(arguments.length===1&&Be(_)==="string")return"hex"}}),V=function(){var _,m,w,S,M,C,O,z,H,Z,se,me,oe,te;if(_=Ye(arguments),M=_[0],se=_[1],O=_[2],se===0)H=S=m=O*255;else{for(te=[0,0,0],w=[0,0,0],oe=O<.5?O*(1+se):O+se-O*se,me=2*O-oe,M/=360,te[0]=M+1/3,te[1]=M,te[2]=M-1/3,C=z=0;z<=2;C=++z)te[C]<0&&(te[C]+=1),te[C]>1&&(te[C]-=1),6*te[C]<1?w[C]=me+(oe-me)*6*te[C]:2*te[C]<1?w[C]=oe:3*te[C]<2?w[C]=me+(oe-me)*(2/3-te[C])*6:w[C]=me;Z=[At(w[0]*255),At(w[1]*255),At(w[2]*255)],H=Z[0],S=Z[1],m=Z[2]}return _.length>3?[H,S,m,_[3]]:[H,S,m]},$c=function(_,m,w){var S,M,C,O,z;return _!==void 0&&_.length>=3&&(O=_,_=O[0],m=O[1],w=O[2]),_/=255,m/=255,w/=255,C=Math.min(_,m,w),Me=Math.max(_,m,w),M=(Me+C)/2,Me===C?(z=0,S=Number.NaN):z=M<.5?(Me-C)/(Me+C):(Me-C)/(2-Me-C),_===Me?S=(m-w)/(Me-C):m===Me?S=2+(w-_)/(Me-C):w===Me&&(S=4+(_-m)/(Me-C)),S*=60,S<0&&(S+=360),[S,z,M]},y.hsl=function(){return function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,Wt.call(arguments).concat(["hsl"]),function(){})},f.hsl=V,n.prototype.hsl=function(){return $c(this._rgb)},j=function(){var _,m,w,S,M,C,O,z,H,Z,se,me,oe,te,he,Se,Ne,ye;if(_=Ye(arguments),M=_[0],Se=_[1],ye=_[2],ye*=255,Se===0)H=S=m=ye;else switch(M===360&&(M=0),M>360&&(M-=360),M<0&&(M+=360),M/=60,C=q(M),w=M-C,O=ye*(1-Se),z=ye*(1-Se*w),Ne=ye*(1-Se*(1-w)),C){case 0:Z=[ye,Ne,O],H=Z[0],S=Z[1],m=Z[2];break;case 1:se=[z,ye,O],H=se[0],S=se[1],m=se[2];break;case 2:me=[O,ye,Ne],H=me[0],S=me[1],m=me[2];break;case 3:oe=[O,z,ye],H=oe[0],S=oe[1],m=oe[2];break;case 4:te=[Ne,O,ye],H=te[0],S=te[1],m=te[2];break;case 5:he=[ye,O,z],H=he[0],S=he[1],m=he[2]}return[H,S,m,_.length>3?_[3]:1]},Tc=function(){var _,m,w,S,M,C,O,z,H;return O=Ye(arguments),C=O[0],w=O[1],_=O[2],M=Math.min(C,w,_),Me=Math.max(C,w,_),m=Me-M,H=Me/255,Me===0?(S=Number.NaN,z=0):(z=m/Me,C===Me&&(S=(w-_)/m),w===Me&&(S=2+(_-C)/m),_===Me&&(S=4+(C-w)/m),S*=60,S<0&&(S+=360)),[S,z,H]},y.hsv=function(){return function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,Wt.call(arguments).concat(["hsv"]),function(){})},f.hsv=j,n.prototype.hsv=function(){return Tc(this._rgb)},vc=function(_){var m,w,S;return Be(_)==="number"&&_>=0&&_<=16777215?(S=_>>16,w=_>>8&255,m=_&255,[S,w,m,1]):(console.warn("unknown num color: "+_),[0,0,0,1])},Cc=function(){var _,m,w,S;return S=Ye(arguments),w=S[0],m=S[1],_=S[2],(w<<16)+(m<<8)+_},y.num=function(_){return new n(_,"num")},n.prototype.num=function(_){return _==null&&(_="rgb"),Cc(this._rgb,_)},f.num=vc,u.push({p:1,test:function(_){if(arguments.length===1&&Be(_)==="number"&&_>=0&&_<=16777215)return"num"}}),N=function(){var _,m,w,S,M,C,O,z,H,Z,se,me,oe,te,he,Se,Ne,ye,et,We;if(w=Ye(arguments),z=w[0],M=w[1],m=w[2],M=M/100,O=O/100*255,_=M*255,M===0)me=O=S=m;else switch(z===360&&(z=0),z>360&&(z-=360),z<0&&(z+=360),z/=60,H=q(z),C=z-H,Z=m*(1-M),se=Z+_*(1-C),et=Z+_*C,We=Z+_,H){case 0:oe=[We,et,Z],me=oe[0],O=oe[1],S=oe[2];break;case 1:te=[se,We,Z],me=te[0],O=te[1],S=te[2];break;case 2:he=[Z,We,et],me=he[0],O=he[1],S=he[2];break;case 3:Se=[Z,se,We],me=Se[0],O=Se[1],S=Se[2];break;case 4:Ne=[et,Z,We],me=Ne[0],O=Ne[1],S=Ne[2];break;case 5:ye=[We,Z,se],me=ye[0],O=ye[1],S=ye[2]}return[me,O,S,w.length>3?w[3]:1]},Mc=function(){var _,m,w,S,M,C,O,z,H;return H=Ye(arguments),z=H[0],M=H[1],m=H[2],O=Math.min(z,M,m),Me=Math.max(z,M,m),S=Me-O,w=S*100/255,_=O/(255-S)*100,S===0?C=Number.NaN:(z===Me&&(C=(M-m)/S),M===Me&&(C=2+(m-z)/S),m===Me&&(C=4+(z-M)/S),C*=60,C<0&&(C+=360)),[C,w,_]},y.hcg=function(){return function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,Wt.call(arguments).concat(["hcg"]),function(){})},f.hcg=N,n.prototype.hcg=function(){return Mc(this._rgb)},G=function(_){var m,w,S,M,C,O,z,H;if(_=_.toLowerCase(),y.colors!=null&&y.colors[_])return W(y.colors[_]);if(C=_.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(z=C.slice(1,4),M=O=0;O<=2;M=++O)z[M]=+z[M];z[3]=1}else if(C=_.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(z=C.slice(1,5),M=H=0;H<=3;M=++H)z[M]=+z[M];else if(C=_.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(z=C.slice(1,4),M=m=0;m<=2;M=++m)z[M]=At(z[M]*2.55);z[3]=1}else if(C=_.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(z=C.slice(1,5),M=w=0;w<=2;M=++w)z[M]=At(z[M]*2.55);z[3]=+z[3]}else(C=_.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(S=C.slice(1,4),S[1]*=.01,S[2]*=.01,z=V(S),z[3]=1):(C=_.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(S=C.slice(1,4),S[1]*=.01,S[2]*=.01,z=V(S),z[3]=+C[4]);return z},Sc=function(_){var m;if(m=_[3]<1?"rgba":"rgb",m==="rgb")return m+"("+_.slice(0,3).map(At).join(",")+")";if(m==="rgba")return m+"("+_.slice(0,3).map(At).join(",")+","+_[3]+")"},ca=function(_){return At(_*100)/100},Q=function(_,m){var w;return w=m<1?"hsla":"hsl",_[0]=ca(_[0]||0),_[1]=ca(_[1]*100)+"%",_[2]=ca(_[2]*100)+"%",w==="hsla"&&(_[3]=m),w+"("+_.join(",")+")"},f.css=function(_){return G(_)},y.css=function(){return function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,Wt.call(arguments).concat(["css"]),function(){})},n.prototype.css=function(_){if(_==null&&(_="rgb"),_.slice(0,3)==="rgb")return Sc(this._rgb);if(_.slice(0,3)==="hsl")return Q(this.hsl(),this.alpha())},f.named=function(_){return W(vn[_])},u.push({p:5,test:function(_){if(arguments.length===1&&vn[_]!=null)return"named"}}),n.prototype.name=function(_){var m,w;arguments.length&&(vn[_]&&(this._rgb=W(vn[_])),this._rgb[3]=1),m=this.hex("rgb");for(w in vn)if(m===vn[w])return w;return m},le=function(){var _,m,w,S;return S=Ye(arguments),w=S[0],_=S[1],m=S[2],m=m*r,[w,L(m)*_,Ur(m)*_]},ke=function(){var _,m,w,S,M,C,O,z,H,Z,se;return w=Ye(arguments),z=w[0],M=w[1],O=w[2],Z=le(z,M,O),_=Z[0],m=Z[1],S=Z[2],se=Ee(_,m,S),H=se[0],C=se[1],S=se[2],[H,C,S,w.length>3?w[3]:1]},xe=function(){var _,m,w,S,M,C;return C=Ye(arguments),M=C[0],_=C[1],m=C[2],w=Nt(_*_+m*m),S=(p(m,_)*l+360)%360,At(w*1e4)===0&&(S=Number.NaN),[M,w,S]},Jo=function(){var _,m,w,S,M,C,O;return C=Ye(arguments),M=C[0],w=C[1],m=C[2],O=Qo(M,w,m),S=O[0],_=O[1],m=O[2],xe(S,_,m)},y.lch=function(){var _;return _=Ye(arguments),new n(_,"lch")},y.hcl=function(){var _;return _=Ye(arguments),new n(_,"hcl")},f.lch=ke,f.hcl=function(){var _,m,w,S;return S=Ye(arguments),m=S[0],_=S[1],w=S[2],ke([w,_,m])},n.prototype.lch=function(){return Jo(this._rgb)},n.prototype.hcl=function(){return Jo(this._rgb).reverse()},kc=function(_){var m,w,S,M,C,O,z,H,Z;return _==null&&(_="rgb"),H=Ye(arguments),z=H[0],M=H[1],m=H[2],z=z/255,M=M/255,m=m/255,C=1-Math.max(z,Math.max(M,m)),S=C<1?1/(1-C):0,w=(1-z-C)*S,O=(1-M-C)*S,Z=(1-m-C)*S,[w,O,Z,C]},D=function(){var _,m,w,S,M,C,O,z,H;return m=Ye(arguments),S=m[0],O=m[1],H=m[2],C=m[3],_=m.length>4?m[4]:1,C===1?[0,0,0,_]:(z=S>=1?0:255*(1-S)*(1-C),M=O>=1?0:255*(1-O)*(1-C),w=H>=1?0:255*(1-H)*(1-C),[z,M,w,_])},f.cmyk=function(){return D(Ye(arguments))},y.cmyk=function(){return function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,Wt.call(arguments).concat(["cmyk"]),function(){})},n.prototype.cmyk=function(){return kc(this._rgb)},f.gl=function(){var _,m,w,S,M;for(S=(function(){var C,O;C=Ye(arguments),O=[];for(m in C)M=C[m],O.push(M);return O}).apply(this,arguments),_=w=0;w<=2;_=++w)S[_]*=255;return S},y.gl=function(){return function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,Wt.call(arguments).concat(["gl"]),function(){})},n.prototype.gl=function(){var _;return _=this._rgb,[_[0]/255,_[1]/255,_[2]/255,_[3]]},Zo=function(_,m,w){var S;return S=Ye(arguments),_=S[0],m=S[1],w=S[2],_=Te(_),m=Te(m),w=Te(w),.2126*_+.7152*m+.0722*w},Te=function(_){return _/=255,_<=.03928?_/12.92:st((_+.055)/1.055,2.4)},ge=function(_,m,w,S){var M,C;return M=_._rgb,C=m._rgb,new n(M[0]+w*(C[0]-M[0]),M[1]+w*(C[1]-M[1]),M[2]+w*(C[2]-M[2]),S)},h.push(["rgb",ge]),n.prototype.luminance=function(_,m){var w,S,M,C,O;return m==null&&(m="rgb"),arguments.length?(C=this._rgb,_===0?C=[0,0,0,this._rgb[3]]:_===1?C=[255,255,255,this[3]]:(w=Zo(this._rgb),S=1e-7,M=20,O=function(z,H){var Z,se;return se=z.interpolate(H,.5,m),Z=se.luminance(),Math.abs(_-Z)<S||!M--?se:Z>_?O(z,se):O(se,H)},w>_?C=O(y("black"),this).rgba():C=O(this,y("white")).rgba()),y(C).alpha(this.alpha())):Zo(this._rgb)},el=function(_){var m,w,S,M;return M=_/100,M<66?(S=255,w=-155.25485562709179-.44596950469579133*(w=M-2)+104.49216199393888*Pe(w),m=M<20?0:-254.76935184120902+.8274096064007395*(m=M-10)+115.67994401066147*Pe(m)):(S=351.97690566805693+.114206453784165*(S=M-55)-40.25366309332127*Pe(S),w=325.4494125711974+.07943456536662342*(w=M-50)-28.0852963507957*Pe(w),m=255),[S,w,m]},Nc=function(){var _,m,w,S,M,C,O,z;for(C=Ye(arguments),M=C[0],C[1],_=C[2],S=1e3,w=4e4,m=.4;w-S>m;)z=(w+S)*.5,O=el(z),O[2]/O[0]>=_/M?w=z:S=z;return At(z)},y.temperature=y.kelvin=function(){return function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,Wt.call(arguments).concat(["temperature"]),function(){})},f.temperature=f.kelvin=f.K=el,n.prototype.temperature=function(){return Nc(this._rgb)},n.prototype.kelvin=n.prototype.temperature,y.contrast=function(_,m){var w,S,M,C;return((M=Be(_))==="string"||M==="number")&&(_=new n(_)),((C=Be(m))==="string"||C==="number")&&(m=new n(m)),w=_.luminance(),S=m.luminance(),w>S?(w+.05)/(S+.05):(S+.05)/(w+.05)},y.distance=function(_,m,w){var S,M,C,O,z,H,Z;w==null&&(w="lab"),((z=Be(_))==="string"||z==="number")&&(_=new n(_)),((H=Be(m))==="string"||H==="number")&&(m=new n(m)),C=_.get(w),O=m.get(w),Z=0;for(M in C)S=(C[M]||0)-(O[M]||0),Z+=S*S;return Math.sqrt(Z)},y.deltaE=function(_,m,w,S){var M,C,O,z,H,Z,se,me,oe,te,he,Se,Ne,ye,et,We,Ot,Qt,Re,X,be,Ce,Fe,Ae,De,Ve,He;for(w==null&&(w=1),S==null&&(S=1),((Ot=Be(_))==="string"||Ot==="number")&&(_=new n(_)),((Qt=Be(m))==="string"||Qt==="number")&&(m=new n(m)),Re=_.lab(),M=Re[0],O=Re[1],H=Re[2],X=m.lab(),C=X[0],z=X[1],Z=X[2],se=Nt(O*O+H*H),me=Nt(z*z+Z*Z),Fe=M<16?.511:.040975*M/(1+.01765*M),be=.0638*se/(1+.0131*se)+.638,We=se<1e-6?0:p(H,O)*180/a;We<0;)We+=360;for(;We>=360;)We-=360;return Ae=We>=164&&We<=345?.56+g(.2*L(a*(We+168)/180)):.36+g(.4*L(a*(We+35)/180)),oe=se*se*se*se,et=Nt(oe/(oe+1900)),Ce=be*(et*Ae+1-et),ye=M-C,Ne=se-me,he=O-z,Se=H-Z,te=he*he+Se*Se-Ne*Ne,De=ye/(w*Fe),Ve=Ne/(S*be),He=Ce,Nt(De*De+Ve*Ve+te/(He*He))},n.prototype.get=function(_){var m,w,S,M,C,O;return S=this,C=_.split("."),M=C[0],m=C[1],O=S[M](),m?(w=M.indexOf(m),w>-1?O[w]:console.warn("unknown channel "+m+" in mode "+M)):O},n.prototype.set=function(_,m){var w,S,M,C,O,z;if(M=this,O=_.split("."),C=O[0],w=O[1],w)if(z=M[C](),S=C.indexOf(w),S>-1)if(Be(m)==="string")switch(m.charAt(0)){case"+":z[S]+=+m;break;case"-":z[S]+=+m;break;case"*":z[S]*=+m.substr(1);break;case"/":z[S]/=+m.substr(1);break;default:z[S]=+m}else z[S]=m;else console.warn("unknown channel "+w+" in mode "+C);else z=m;return y(z,C).alpha(M.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(_){return arguments.length?y.rgb([this._rgb[0],this._rgb[1],this._rgb[2],_]):this._rgb[3]},n.prototype.darken=function(_){var m,w;return _==null&&(_=1),w=this,m=w.lab(),m[0]-=i.Kn*_,y.lab(m).alpha(w.alpha())},n.prototype.brighten=function(_){return _==null&&(_=1),this.darken(-_)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(_){var m,w;return _==null&&(_=1),w=this,m=w.lch(),m[1]+=_*i.Kn,m[1]<0&&(m[1]=0),y.lch(m).alpha(w.alpha())},n.prototype.desaturate=function(_){return _==null&&(_=1),this.saturate(-_)},n.prototype.premultiply=function(){var _,m;return m=this.rgb(),_=this.alpha(),y(m[0]*_,m[1]*_,m[2]*_,_)},b=function(_,m,w){if(!b[w])throw"unknown blend mode "+w;return b[w](_,m)},A=function(_){return function(m,w){var S,M;return S=y(w).rgb(),M=y(m).rgb(),y(_(S,M),"rgb")}},re=function(_){return function(m,w){var S,M,C;for(C=[],S=M=0;M<=3;S=++M)C[S]=_(m[S],w[S]);return C}},Fr=function(_,m){return _},Kt=function(_,m){return _*m/255},Y=function(_,m){return _>m?m:_},$e=function(_,m){return _>m?_:m},zc=function(_,m){return 255*(1-(1-_/255)*(1-m/255))},xc=function(_,m){return m<128?2*_*m/255:255*(1-2*(1-_/255)*(1-m/255))},E=function(_,m){return 255*(1-(1-m/255)/(_/255))},U=function(_,m){return _===255||(_=255*(m/255)/(1-_/255),_>255)?255:_},b.normal=A(re(Fr)),b.multiply=A(re(Kt)),b.screen=A(re(zc)),b.overlay=A(re(xc)),b.darken=A(re(Y)),b.lighten=A(re($e)),b.dodge=A(re(U)),b.burn=A(re(E)),y.blend=b,y.analyze=function(_){var m,w,S,M;for(S={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},w=0,m=_.length;w<m;w++)M=_[w],M!=null&&!isNaN(M)&&(S.values.push(M),S.sum+=M,M<S.min&&(S.min=M),M>S.max&&(S.max=M),S.count+=1);return S.domain=[S.min,S.max],S.limits=function(C,O){return y.limits(S,C,O)},S},y.scale=function(_,m){var w,S,M,C,O,z,H,Z,se,me,oe,te,he,Se,Ne,ye,et,We,Ot,Qt,Re;return se="rgb",me=y("#ccc"),Se=0,O=[0,1],he=[],te=[0,0],w=!1,M=[],oe=!1,Z=0,H=1,C=!1,S={},Ne=!0,z=1,Qt=function(X){var be,Ce,Fe,Ae,De,Ve;if(X==null&&(X=["#fff","#000"]),X!=null&&Be(X)==="string"&&y.brewer!=null&&(X=y.brewer[X]||y.brewer[X.toLowerCase()]||X),Be(X)==="array"){for(X.length===1&&(X=[X[0],X[0]]),X=X.slice(0),be=Fe=0,Ae=X.length-1;0<=Ae?Fe<=Ae:Fe>=Ae;be=0<=Ae?++Fe:--Fe)Ce=X[be],Be(Ce)==="string"&&(X[be]=y(Ce));for(he.length=0,be=Ve=0,De=X.length-1;0<=De?Ve<=De:Ve>=De;be=0<=De?++Ve:--Ve)he.push(be/(X.length-1))}return Ot(),M=X},et=function(X){var be,Ce;if(w!=null){for(Ce=w.length-1,be=0;be<Ce&&X>=w[be];)be++;return be-1}return 0},Re=function(X){return X},We=function(X,be){var Ce,Fe,Ae,De,Ve,He,ct,Oe;if(be==null&&(be=!1),isNaN(X)||X===null)return me;if(be?Oe=X:w&&w.length>2?(Ce=et(X),Oe=Ce/(w.length-2)):H!==Z?Oe=(X-Z)/(H-Z):Oe=1,be||(Oe=Re(Oe)),z!==1&&(Oe=st(Oe,z)),Oe=te[0]+Oe*(1-te[0]-te[1]),Oe=Math.min(1,Math.max(0,Oe)),De=Math.floor(Oe*1e4),Ne&&S[De])Fe=S[De];else{if(Be(M)==="array")for(Ae=Ve=0,ct=he.length-1;0<=ct?Ve<=ct:Ve>=ct;Ae=0<=ct?++Ve:--Ve){if(He=he[Ae],Oe<=He){Fe=M[Ae];break}if(Oe>=He&&Ae===he.length-1){Fe=M[Ae];break}if(Oe>He&&Oe<he[Ae+1]){Oe=(Oe-He)/(he[Ae+1]-He),Fe=y.interpolate(M[Ae],M[Ae+1],Oe,se);break}}else Be(M)==="function"&&(Fe=M(Oe));Ne&&(S[De]=Fe)}return Fe},Ot=function(){return S={}},Qt(_),ye=function(X){var be;return be=y(We(X)),oe&&be[oe]?be[oe]():be},ye.classes=function(X){var be;return X!=null?(Be(X)==="array"?(w=X,O=[X[0],X[X.length-1]]):(be=y.analyze(O),X===0?w=[be.min,be.max]:w=y.limits(be,"e",X)),ye):w},ye.domain=function(X){var be,Ce,Fe,Ae,De,Ve,He;if(!arguments.length)return O;if(Z=X[0],H=X[X.length-1],he=[],Fe=M.length,X.length===Fe&&Z!==H)for(De=0,Ae=X.length;De<Ae;De++)Ce=X[De],he.push((Ce-Z)/(H-Z));else for(be=He=0,Ve=Fe-1;0<=Ve?He<=Ve:He>=Ve;be=0<=Ve?++He:--He)he.push(be/(Fe-1));return O=[Z,H],ye},ye.mode=function(X){return arguments.length?(se=X,Ot(),ye):se},ye.range=function(X,be){return Qt(X,be),ye},ye.out=function(X){return oe=X,ye},ye.spread=function(X){return arguments.length?(Se=X,ye):Se},ye.correctLightness=function(X){return X==null&&(X=!0),C=X,Ot(),C?Re=function(be){var Ce,Fe,Ae,De,Ve,He,ct,Oe,Ze;for(Ce=We(0,!0).lab()[0],Fe=We(1,!0).lab()[0],ct=Ce>Fe,Ae=We(be,!0).lab()[0],Ve=Ce+(Fe-Ce)*be,De=Ae-Ve,Oe=0,Ze=1,He=20;Math.abs(De)>.01&&He-- >0;)(function(){return ct&&(De*=-1),De<0?(Oe=be,be+=(Ze-be)*.5):(Ze=be,be+=(Oe-be)*.5),Ae=We(be,!0).lab()[0],De=Ae-Ve})();return be}:Re=function(be){return be},ye},ye.padding=function(X){return X!=null?(Be(X)==="number"&&(X=[X,X]),te=X,ye):te},ye.colors=function(X,be){var Ce,Fe,Ae,De,Ve,He,ct,Oe;if(arguments.length<2&&(be="hex"),Ve=[],arguments.length===0)Ve=M.slice(0);else if(X===1)Ve=[ye(.5)];else if(X>1)Fe=O[0],Ce=O[1]-Fe,Ve=(function(){He=[];for(var Ze=0;0<=X?Ze<X:Ze>X;0<=X?Ze++:Ze--)He.push(Ze);return He}).apply(this).map(function(Ze){return ye(Fe+Ze/(X-1)*Ce)});else{if(_=[],ct=[],w&&w.length>2)for(Ae=Oe=1,De=w.length;1<=De?Oe<De:Oe>De;Ae=1<=De?++Oe:--Oe)ct.push((w[Ae-1]+w[Ae])*.5);else ct=O;Ve=ct.map(function(Ze){return ye(Ze)})}return y[be]&&(Ve=Ve.map(function(Ze){return Ze[be]()})),Ve},ye.cache=function(X){return X!=null?(Ne=X,ye):Ne},ye.gamma=function(X){return X!=null?(z=X,ye):z},ye.nodata=function(X){return X!=null?(me=y(X),ye):me},ye},y.scales==null&&(y.scales={}),y.scales.cool=function(){return y.scale([y.hsl(180,1,.9),y.hsl(250,.7,.4)])},y.scales.hot=function(){return y.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},y.analyze=function(_,m,w){var S,M,C,O,z,H,Z;if(z={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},w==null&&(w=function(){return!0}),S=function(se){se!=null&&!isNaN(se)&&(z.values.push(se),z.sum+=se,se<z.min&&(z.min=se),se>z.max&&(z.max=se),z.count+=1)},Z=function(se,me){if(w(se,me))return m!=null&&Be(m)==="function"?S(m(se)):m!=null&&Be(m)==="string"||Be(m)==="number"?S(se[m]):S(se)},Be(_)==="array")for(O=0,C=_.length;O<C;O++)H=_[O],Z(H);else for(M in _)H=_[M],Z(H,M);return z.domain=[z.min,z.max],z.limits=function(se,me){return y.limits(z,se,me)},z},y.limits=function(_,m,w){var S,M,C,O,z,H,Z,se,me,oe,te,he,Se,Ne,ye,et,We,Ot,Qt,Re,X,be,Ce,Fe,Ae,De,Ve,He,ct,Oe,Ze,da,sr,tl,jr,Wr,Br,qr,Hr,Yr,Rc,Xr,Gr,Kr,Qr,Jr,Zr,ei,ti,ni,xn,ha,Vc,Jt,ri;if(m==null&&(m="equal"),w==null&&(w=7),Be(_)==="array"&&(_=y.analyze(_)),Ae=_.min,Me=_.max,_.sum,Jt=_.values.sort(function(nl,rl){return nl-rl}),w===1)return[Ae,Me];if(Ce=[],m.substr(0,1)==="c"&&(Ce.push(Ae),Ce.push(Me)),m.substr(0,1)==="e"){for(Ce.push(Ae),Re=Ze=1,jr=w-1;1<=jr?Ze<=jr:Ze>=jr;Re=1<=jr?++Ze:--Ze)Ce.push(Ae+Re/w*(Me-Ae));Ce.push(Me)}else if(m.substr(0,1)==="l"){if(Ae<=0)throw"Logarithmic scales are only possible for values > 0";for(De=Math.LOG10E*Pe(Ae),Fe=Math.LOG10E*Pe(Me),Ce.push(Ae),Re=ri=1,Wr=w-1;1<=Wr?ri<=Wr:ri>=Wr;Re=1<=Wr?++ri:--ri)Ce.push(st(10,De+Re/w*(Fe-De)));Ce.push(Me)}else if(m.substr(0,1)==="q"){for(Ce.push(Ae),Re=S=1,Xr=w-1;1<=Xr?S<=Xr:S>=Xr;Re=1<=Xr?++S:--S)da=(Jt.length-1)*Re/w,sr=q(da),sr===da?Ce.push(Jt[sr]):(tl=da-sr,Ce.push(Jt[sr]*(1-tl)+Jt[sr+1]*tl));Ce.push(Me)}else if(m.substr(0,1)==="k"){for(He=Jt.length,Ne=new Array(He),Ot=new Array(w),ni=!0,ct=0,et=null,et=[],et.push(Ae),Re=M=1,Gr=w-1;1<=Gr?M<=Gr:M>=Gr;Re=1<=Gr?++M:--M)et.push(Ae+Re/w*(Me-Ae));for(et.push(Me);ni;){for(X=C=0,Kr=w-1;0<=Kr?C<=Kr:C>=Kr;X=0<=Kr?++C:--C)Ot[X]=0;for(Re=O=0,Qr=He-1;0<=Qr?O<=Qr:O>=Qr;Re=0<=Qr?++O:--O){for(Vc=Jt[Re],Ve=Number.MAX_VALUE,X=z=0,Jr=w-1;0<=Jr?z<=Jr:z>=Jr;X=0<=Jr?++z:--z)Qt=g(et[X]-Vc),Qt<Ve&&(Ve=Qt,ye=X);Ot[ye]++,Ne[Re]=ye}for(Oe=new Array(w),X=H=0,Zr=w-1;0<=Zr?H<=Zr:H>=Zr;X=0<=Zr?++H:--H)Oe[X]=null;for(Re=Z=0,ei=He-1;0<=ei?Z<=ei:Z>=ei;Re=0<=ei?++Z:--Z)We=Ne[Re],Oe[We]===null?Oe[We]=Jt[Re]:Oe[We]+=Jt[Re];for(X=se=0,ti=w-1;0<=ti?se<=ti:se>=ti;X=0<=ti?++se:--se)Oe[X]*=1/Ot[X];for(ni=!1,X=me=0,Br=w-1;0<=Br?me<=Br:me>=Br;X=0<=Br?++me:--me)if(Oe[X]!==et[Re]){ni=!0;break}et=Oe,ct++,ct>200&&(ni=!1)}for(be={},X=oe=0,qr=w-1;0<=qr?oe<=qr:oe>=qr;X=0<=qr?++oe:--oe)be[X]=[];for(Re=te=0,Hr=He-1;0<=Hr?te<=Hr:te>=Hr;Re=0<=Hr?++te:--te)We=Ne[Re],be[We].push(Jt[Re]);for(xn=[],X=he=0,Yr=w-1;0<=Yr?he<=Yr:he>=Yr;X=0<=Yr?++he:--he)xn.push(be[X][0]),xn.push(be[X][be[X].length-1]);for(xn=xn.sort(function(nl,rl){return nl-rl}),Ce.push(xn[0]),Re=Se=1,Rc=xn.length-1;Se<=Rc;Re=Se+=2)ha=xn[Re],!isNaN(ha)&&Ce.indexOf(ha)===-1&&Ce.push(ha)}return Ce},R=function(_,m,w){var S,M,C,O;return S=Ye(arguments),_=S[0],m=S[1],w=S[2],isNaN(_)&&(_=0),_/=360,_<1/3?(M=(1-m)/3,O=(1+m*L(s*_)/L(o-s*_))/3,C=1-(M+O)):_<2/3?(_-=1/3,O=(1-m)/3,C=(1+m*L(s*_)/L(o-s*_))/3,M=1-(O+C)):(_-=2/3,C=(1-m)/3,M=(1+m*L(s*_)/L(o-s*_))/3,O=1-(C+M)),O=ne(w*O*3),C=ne(w*C*3),M=ne(w*M*3),[O*255,C*255,M*255,S.length>3?S[3]:1]},Ac=function(){var _,m,w,S,M,C,O,z;return O=Ye(arguments),C=O[0],m=O[1],_=O[2],s=Math.PI*2,C/=255,m/=255,_/=255,M=Math.min(C,m,_),S=(C+m+_)/3,z=1-M/S,z===0?w=0:(w=(C-m+(C-_))/2,w/=Math.sqrt((C-m)*(C-m)+(C-_)*(m-_)),w=Math.acos(w),_>m&&(w=s-w),w/=s),[w*360,z,S]},y.hsi=function(){return function(_,m,w){w.prototype=_.prototype;var S=new w,M=_.apply(S,m);return Object(M)===M?M:S}(n,Wt.call(arguments).concat(["hsi"]),function(){})},f.hsi=R,n.prototype.hsi=function(){return Ac(this._rgb)},ae=function(_,m,w,S){var M,C,O,z,H,Z,se,me,oe,te,he,Se;return S==="hsl"?(he=_.hsl(),Se=m.hsl()):S==="hsv"?(he=_.hsv(),Se=m.hsv()):S==="hcg"?(he=_.hcg(),Se=m.hcg()):S==="hsi"?(he=_.hsi(),Se=m.hsi()):(S==="lch"||S==="hcl")&&(S="hcl",he=_.hcl(),Se=m.hcl()),S.substr(0,1)==="h"&&(O=he[0],oe=he[1],Z=he[2],z=Se[0],te=Se[1],se=Se[2]),!isNaN(O)&&!isNaN(z)?(z>O&&z-O>180?M=z-(O+360):z<O&&O-z>180?M=z+360-O:M=z-O,C=O+w*M):isNaN(O)?isNaN(z)?C=Number.NaN:(C=z,(Z===1||Z===0)&&S!=="hsv"&&(me=te)):(C=O,(se===1||se===0)&&S!=="hsv"&&(me=oe)),me==null&&(me=oe+w*(te-oe)),H=Z+w*(se-Z),y[S](C,me,H)},h=h.concat(function(){var _,m,w,S;for(w=["hsv","hsl","hsi","hcl","lch","hcg"],S=[],m=0,_=w.length;m<_;m++)_t=w[m],S.push([_t,ae]);return S}()),K=function(_,m,w,S){var M,C;return M=_.num(),C=m.num(),y.num(M+(C-M)*w,"num")},h.push(["num",K]),ue=function(_,m,w,S){var M,C;return M=_.lab(),C=m.lab(),new n(M[0]+w*(C[0]-M[0]),M[1]+w*(C[1]-M[1]),M[2]+w*(C[2]-M[2]),S)},h.push(["lab",ue])}).call(Lm)}(mi,mi.exports)),mi.exports}var Rm=zm();const zi=Om(Rm);var Vm=Object.defineProperty,Dm=(e,t,n)=>t in e?Vm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pm=(e,t,n)=>(Dm(e,t+"",n),n),Qd=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},gl=(e,t,n)=>(Qd(e,t,"read from private field"),t.get(e)),Im=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Fm=(e,t,n,r)=>(Qd(e,t,"write to private field"),t.set(e,n),n),Jd='regular-table{padding:0;margin:12px 0 0 12px;font-family:inherit;--rt-hover--border-color:var(--inactive--color,#c5c9d080);}regular-table div[tabindex]{outline:none;}regular-table>div{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;}regular-table th{text-align:center;}regular-table thead tr:not(.rt-autosize) th{overflow:hidden;max-width:0px;}regular-table thead tr:last-child .rt-float,regular-table tbody .rt-float{text-align:right;}regular-table thead .rt-integer,regular-table tbody .rt-integer{text-align:right;}regular-table tbody th{text-align:left;}regular-table span.rt-tree-container{display:flex;align-items:center;height:100%;}regular-table thead .rt-string,regular-table tbody .rt-string,regular-table thead .rt-date,regular-table tbody .rt-date,regular-table thead .rt-datetime,regular-table tbody .rt-datetime{text-align:left;}regular-table thead tr:last-child th{border-bottom:1px solid#8b868045;}regular-table tbody tr:first-child td,regular-table tbody tr:first-child th{border-top:1px solid transparent!important;}regular-table th{position:relative;}regular-table tr th span.rt-tree-group{margin-left:5px;margin-right:15px;border-left:1px solid#eee;height:100%;}regular-table td,regular-table th{white-space:nowrap;font-size:12px;padding-right:5px;padding-left:5px;padding-top:0px;padding-bottom:0px;height:19px;}regular-table table *{box-sizing:border-box;}regular-table table{position:absolute;color:#666;outline:none;}regular-table span.rt-row-header-icon{color:#aaa;padding-right:4px;font-family:var(--button--font-family);}regular-table span.rt-column-header-icon{font-size:10px;padding-left:3px;display:inline-block;width:10px;font-family:var(--button--font-family);}regular-table span.rt-row-header-icon:hover{color:#1a7da1;text-shadow:0px 0px 3px#1a7da1;}regular-table .rt-selected td{background-color:#eee;}regular-table .rt-cell-clip{overflow:hidden;text-overflow:ellipsis;}regular-table td span.rt-group-name,regular-table th span.rt-group-name{margin-right:-5px;padding-right:5px;padding-left:8px;flex:1;height:100%;}regular-table th span.rt-group-name{text-align:left;}regular-table td th span.rt-group-leaf,regular-table th span.rt-group-leaf{margin-left:16px;height:100%;}regular-table .rt-column-resize{height:100%;width:10px;position:absolute;top:0;right:0;cursor:col-resize;}regular-table a{color:var(--rt-pos-cell--color);}regular-table a:visited{color:var(--active--color);}.psp-header-border:not(.psp-is-top):not(.psp-header-leaf){box-shadow:1px 0px var(--inactive--border-color,#8b868045);}.psp-header-group{box-shadow:0px 10px 0 -9px var(--inactive--border-color,#8b868045);}.psp-is-top{box-shadow:5px 4px 0px -4px var(--inactive--border-color,#8b868045);}.psp-is-top.psp-header-group:not(.psp-header-group-corner){box-shadow:5px 4px 0px -4px var(--inactive--border-color,#8b868045),0px 10px 0 -9px var(--inactive--border-color,#8b868045);}.psp-header-border.psp-header-group:not(.psp-is-top):not(.psp-header-group-corner){box-shadow:1px 0px var(--inactive--border-color,#8b868045),0px 10px 0 -9px var(--inactive--border-color,#8b868045);}perspective-viewer[settings] tr.rt-autosize .psp-header-leaf.psp-header-border:not(.psp-menu-enabled){box-shadow:1px 0px var(--inactive--border-color,#8b868045);}:host-context(perspective-viewer[settings]) tr.rt-autosize .psp-header-leaf.psp-header-border:not(.psp-menu-enabled){box-shadow:1px 0px var(--inactive--border-color,#8b868045);}.psp-header-leaf.psp-header-border{box-shadow:5px -4px 0px -4px var(--inactive--border-color,#8b868045);}tr:only-child th{box-shadow:none!important;}regular-table tbody tr:hover th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover td:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover:after{border-color:var(--rt-hover--border-color,#c5c9d080)!important;background-color:transparent;box-shadow:0px 1px 0px var(--rt-hover--border-color,#c5c9d080);}regular-table tbody tr:hover th.psp-tree-leaf.psp-menu-open:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover th.psp-tree-label.psp-menu-open:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover td.psp-menu-open:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr.psp-menu-open:hover:after{box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color),0px 1px 0px var(--rt-hover--border-color,#c5c9d080);}regular-table tbody tr:last-child:hover td.psp-menu-open:not(.psp-row-selected):not(.psp-row-subselected){box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color),inset 0px -2px 0px var(--icon--color),0px 1px 0px var(--rt-hover--border-color,#c5c9d080);}regular-table tbody tr:hover+tr th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr td:not(.psp-row-selected):not(.psp-row-subselected){border-top-color:transparent;}regular-table tbody tr th:first-child:not(:empty),regular-table tbody tr th:first-child:empty+th:not(:empty),regular-table tbody tr th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr td:first-child{border-left-width:1px;border-left-color:transparent;}regular-table tbody tr th:last-child,regular-table tbody tr td:last-child{border-right-width:0px;border-right-color:transparent;}regular-table tbody tr:hover{color:inherit;}regular-table tbody tr:hover th:first-child:not(:empty),regular-table tbody tr:hover th:first-child:empty+th:not(:empty),regular-table tbody tr:hover th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr:hover td:first-child{border-left-color:var(--rt-hover--border-color,#c5c9d080)!important;}regular-table tbody tr:hover th:last-child,regular-table tbody tr:hover td:last-child{border-right-color:var(--rt-hover--border-color,#c5c9d080)!important;}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody td,perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table thead th:not(.rt-group-corner),:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody td,:host(:not(.sub-cell-scroll-disabled)) regular-table table thead th:not(.rt-group-corner){transform:translate(var(--regular-table--transform-x,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody{transform:translate(0,var(--regular-table--transform-y,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child td,perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child th,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr:first-child td,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr:first-child th{clip-path:polygon(0 var(--regular-table--clip-y,0),0 200%,200% 200%,200% var(--regular-table--clip-y,0));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr td:first-of-type,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr td:first-of-type{clip-path:polygon(var(--regular-table--clip-x,0)0,var(--regular-table--clip-x,0)200%,200% 200%,200% 0);}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child td:first-of-type,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr:first-child td:first-of-type{clip-path:polygon(var(--regular-table--clip-x,0)var(--regular-table--clip-y,0),var(--regular-table--clip-x,0)200%,200% 200%,200% var(--regular-table--clip-y,0));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table thead tr:last-child:after,:host(:not(.sub-cell-scroll-disabled)) regular-table table thead tr:last-child:after{transform:translate(var(--regular-table--transform-x,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:not(:first-child):after,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr:not(:first-child):after{transform:translate(var(--regular-table--transform-x,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:hover:first-child:after,:host(:not(.sub-cell-scroll-disabled)) regular-table table tbody tr:hover:first-child:after{clip-path:polygon(0 var(--regular-table--clip-y,0),0 200%,200% 200%,200% var(--regular-table--clip-y,0));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table thead tr th.rt-group-corner+th:not(.rt-group-corner),:host(:not(.sub-cell-scroll-disabled)) regular-table table thead tr th.rt-group-corner+th:not(.rt-group-corner){clip-path:polygon(var(--regular-table--clip-x,0)0,var(--regular-table--clip-x,0)200%,200% 200%,200% 0);}regular-table{outline:none;}regular-table::-webkit-scrollbar,regular-table::-webkit-scrollbar-corner{background-color:transparent;height:12px;width:12px;}regular-table::-webkit-scrollbar-thumb{background-clip:content-box;background:var(--icon--color);border:5.5px solid var(--plugin--background);max-height:50%;max-width:50%;min-width:10%;min-height:10%;}perspective-viewer:not([settings]) regular-table table tr.rt-autosize+tr th{height:0px;}perspective-viewer:not([settings]) regular-table table tr.rt-autosize+tr th span{display:none;}:host-context(perspective-viewer:not([settings])) regular-table table tr.rt-autosize+tr th{height:0px;}:host-context(perspective-viewer:not([settings])) regular-table table tr.rt-autosize+tr th span{display:none;}perspective-viewer[settings] .psp-menu-enabled{padding:0 6px;font-size:8px;border-radius:3px 3px 0 0;}perspective-viewer[settings] .psp-menu-enabled:hover,perspective-viewer[settings] tr:not(.rt-autosize) th.psp-menu-open{color:var(--plugin--background);background-color:var(--icon--color);border-bottom-color:var(--icon--color);cursor:pointer;}perspective-viewer[settings] tr:not(.rt-autosize) th.psp-menu-open:before{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;height:8px;width:10px;-webkit-mask-image:var(--column-settings-icon--mask-image);mask-image:var(--column-settings-icon--mask-image);margin-right:4px;background-color:var(--plugin--background);}perspective-viewer[settings] td.psp-menu-open{box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color);}perspective-viewer[settings] tr:first-child td.psp-menu-open{border-top-color:var(--icon--color)!important;}perspective-viewer[settings] tr:last-child td.psp-menu-open{box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color),inset 0px -2px 0px var(--icon--color);}:host-context(perspective-viewer[settings]) .psp-menu-enabled{padding:0 6px;font-size:8px;border-radius:3px 3px 0 0;}:host-context(perspective-viewer[settings]) .psp-menu-enabled:hover,:host-context(perspective-viewer[settings]) tr:not(.rt-autosize) th.psp-menu-open{color:var(--plugin--background);background-color:var(--icon--color);border-bottom-color:var(--icon--color);cursor:pointer;}:host-context(perspective-viewer[settings]) tr:not(.rt-autosize) th.psp-menu-open:before{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;height:8px;width:10px;-webkit-mask-image:var(--column-settings-icon--mask-image);mask-image:var(--column-settings-icon--mask-image);margin-right:4px;background-color:var(--plugin--background);}:host-context(perspective-viewer[settings]) td.psp-menu-open{box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color);}:host-context(perspective-viewer[settings]) tr:first-child td.psp-menu-open{border-top-color:var(--icon--color)!important;}:host-context(perspective-viewer[settings]) tr:last-child td.psp-menu-open{box-shadow:inset -2px 0px 0px var(--icon--color),inset 2px 0px 0px var(--icon--color),inset 0px -2px 0px var(--icon--color);}perspective-viewer regular-table table thead tr:last-child th{border-bottom-width:1px;border-bottom-color:var(--inactive--border-color,#8b868045);}:host-context(perspective-viewer) regular-table table thead tr:last-child th{border-bottom-width:1px;border-bottom-color:var(--inactive--border-color,#8b868045);}.psp-sort-enabled:hover{cursor:pointer;}.psp-row-selected,:hover .psp-row-selected,:hover th.psp-tree-leaf.psp-row-selected,:hover th.psp-tree-label.psp-row-selected{color:white!important;background-color:#ea7319!important;border-color:#ea7319!important;}.psp-row-selected.psp-tree-label:not(:hover):before{color:white;}.psp-row-subselected,:hover .psp-row-subselected,:hover th.psp-tree-leaf.psp-row-subselected,:hover th.psp-tree-label.psp-row-subselected{background:rgba(234,115,25,0.2)!important;}.psp-error{color:red;}td:focus{outline:#666;outline-style:dotted;outline-width:1px;}perspective-viewer.dragging regular-table{pointer-events:none;}:host-context(perspective-viewer.dragging) regular-table{pointer-events:none;}.psp-header-border:last-child{border-right-width:0px;}.psp-header-sort-desc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}.psp-header-sort-asc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}.psp-header-sort-col-desc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-col-desc-icon--mask-image);mask-image:var(--sort-col-desc-icon--mask-image);}.psp-header-sort-col-asc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-col-asc-icon--mask-image);mask-image:var(--sort-col-asc-icon--mask-image);}tbody th:last-of-type{border-right:1px solid var(--inactive--border-color,#8b868045);overflow:hidden;text-overflow:ellipsis;}tbody th:empty{background-image:linear-gradient(to right,transparent 9px,var(--inactive--border-color,#eee)10px,transparent 11px);background-repeat:no-repeat;min-width:20px;max-width:20px;pointer-events:none;}.psp-tree-label{max-width:0px;min-width:0px;}.psp-tree-label:before{color:var(--icon--color);font-family:var(--button--font-family,inherit);padding-right:11px;}.psp-tree-label-expand:before{content:var(--tree-label-expand--content,"+");}.psp-tree-label-collapse:before{content:var(--tree-label-collapse--content,"-");}.psp-tree-label-expand,.psp-tree-label-collapse{cursor:pointer;}.psp-tree-label:hover:before{color:var(--active--color);text-shadow:0px 0px 5px var(--active--color);}.psp-tree-leaf{padding-left:24px;}.psp-align-right{text-align:right;}.psp-align-left{text-align:left;}.psp-positive:not(:focus){color:var(--rt-pos-cell--color);}.psp-negative:not(:focus){color:var(--rt-neg-cell--color);}regular-table table tbody td{min-width:52px!important;}.psp-is-width-override .rt-column-resize,.rt-column-resize:hover{border:1px dashed#999;border-bottom-width:0px;border-left-width:0px;}.boolean-editable{cursor:pointer;}regular-table table{user-select:none;color:inherit;border-collapse:separate;}regular-table table th{font-weight:400;}regular-table table td,regular-table table th{border-color:var(--inactive--border-color,#8b868045);height:23px;}regular-table table .psp-header-group{text-overflow:ellipsis;}regular-table table th.psp-header-leaf{border-bottom-width:0px;}regular-table table th.psp-header-leaf span{height:23px;min-height:23px;}regular-table table td,regular-table table th.psp-tree-label,regular-table table th.psp-tree-label,regular-table table th.psp-tree-leaf,regular-table table tbody tr:first-child th{border-style:solid;border-width:0px;border-top-width:1px;}regular-table table tbody th:empty{background-position:0px -10px;}regular-table table td.psp-select-region,regular-table table th.psp-select-region{background-color:var(--icon--color)!important;color:var(--plugin--background)!important;border-color:var(--plugin--background)!important;}regular-table tbody tr:hover td.psp-select-region:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr td.psp-select-region:not(.psp-row-selected):not(.psp-row-subselected){border-color:var(--plugin--background)!important;}regular-table tbody tr:hover td.psp-select-region.psp-menu-open:not(.psp-row-selected):not(.psp-row-subselected){box-shadow:inset -2px 0px 0px var(--plugin--background),inset 2px 0px 0px var(--plugin--background);}:host-context(perspective-viewer[settings]) td.psp-select-region.psp-menu-open{box-shadow:inset -2px 0px 0px var(--plugin--background),inset 2px 0px 0px var(--plugin--background);}regular-table #psp-column-edit-buttons th:not(.rt-group-corner) span:not(.rt-column-resize):before{content:var(--datagrid-column-edit-button--content,"Edit");}perspective-viewer:not([settings]) regular-table #psp-column-edit-buttons:after{content:none;}:host-context(perspective-viewer:not([settings])) regular-table #psp-column-edit-buttons:after{content:none;}regular-table table thead tr:last-child:after{width:10000px;box-sizing:border-box;display:block;height:23px;content:" ";border-bottom:1px solid var(--inactive--border-color);}regular-table table tbody tr:after{width:10000px;box-sizing:border-box;display:block;height:23px;content:" ";border-top:1px solid transparent;}regular-table table tbody tr:not(:first-child):after{border-top:1px solid var(--inactive--border-color);}regular-table table tbody tr:hover:not(:first-child):after{border-top:1px solid var(--rt-hover--border-color);}regular-table table tbody tr:hover+tr:after{border-top:1px solid var(--rt-hover--border-color);}@keyframes pulse_pos{0%{background-color:var(--pulse--background-color-start,rgba(0,128,255,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(0,128,255,0));}}@keyframes pulse_pos2{0%{background-color:var(--pulse--background-color-start,rgba(0,128,255,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(0,128,255,0));}}@keyframes pulse_neg{0%{background-color:var(--pulse--background-color-start,rgba(255,25,0,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(255,25,0,0));}}@keyframes pulse_neg2{0%{background-color:var(--pulse--background-color-start,rgba(255,25,0,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(255,25,0,0));}}',Nr=Symbol("Plugin Symbol");function Um(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}function Zd(e,t,n){var o;let r=Array.from(e.children[0].children[0].children),i=r.length,a=t.hasAttribute("settings");if(i<=1?(o=r[0])==null||o.removeAttribute("id"):r.forEach((l,s)=>{let c=a?1:0,u=s===i-(c+1)?"psp-column-titles":s===i-c?"psp-column-edit-buttons":null;u?l.setAttribute("id",u):l.removeAttribute("id")}),t.classList.toggle("psp-menu-open",!!n),a&&i>=2){let l=Array.from(r[i-2].children),s=Array.from(r[i-1].children);if(l&&s){r.slice(0,i-2).forEach(c=>{Array.from(c.children).forEach(u=>{u.classList.toggle("psp-menu-open",!1)})});for(let c=0;c<l.length;c++){let u=l[c],d=s[c],f=u.textContent===n;if(u.classList.toggle("psp-menu-open",f),d.classList.toggle("psp-menu-open",f),this._config.columns.length>1)for(let h of e.querySelectorAll("td")){let g=e.getMeta(h),p=g.column_header[g.column_header.length-2]===n;h.classList.toggle("psp-menu-open",p)}}}}}function jm(e,t){let n=Array.from(e.children[0].children[0].children);if(n.length>0){Zd.call(this,e,t,this._column_settings_selected_column);let[r]=n.splice(this._config.split_by.length,1);hu.call(this,e,r,!1);let[i]=n.splice(this._config.split_by.length,1);i&&hu.call(this,e,i,!0)}}function hu(e,t,n){var i,a;let r=e._view_cache.config.row_pivots.length-1;for(let o of t==null?void 0:t.children){let l=e.getMeta(o),s=(i=l.column_header)==null?void 0:i[this._config.split_by.length],c=this._config.sort.find(b=>b[0]===s),u=l.row_header_x===r,d=typeof l.x>"u";u=u||(l.x+1)%this._config.columns.length===0,o.classList.toggle("psp-header-border",u),o.classList.toggle("psp-header-group",!1),o.classList.toggle("psp-header-leaf",!0),o.classList.toggle("psp-is-top",!1),o.classList.toggle("psp-header-corner",d),o.classList.toggle("psp-header-sort-asc",!n&&!!c&&c[1]==="asc"),o.classList.toggle("psp-header-sort-desc",!n&&!!c&&c[1]==="desc"),o.classList.toggle("psp-header-sort-col-asc",!n&&!!c&&c[1]==="col asc"),o.classList.toggle("psp-header-sort-col-desc",!n&&!!c&&c[1]==="col desc");let f=Um.call(this,l),h=f==="integer"||f==="float",g=f==="string",p=f==="date",x=f==="datetime";o.classList.toggle("psp-align-right",h),o.classList.toggle("psp-align-left",!h),o.classList.toggle("psp-menu-enabled",(g||h||p||x)&&!d&&l.column_header_y==this._config.split_by.length+1),o.classList.toggle("psp-sort-enabled",(g||h||p||x)&&!d&&l.column_header_y===this._config.split_by.length),o.classList.toggle("psp-is-width-override",((a=e._column_sizes)==null?void 0:a.override[l.size_key])!==void 0)}}function Wm(e){let t=e._view_cache.config.row_pivots.length-1,n=Array.from(e.children[0].children[0].children),r=[],i=new Set,a=e.children[0];for(let o=0;o<n.length;o++){let l=a.rows[o],s=new Set;for(let c=0;c<l.cells.length;c++){let u=l.cells[c];u.style.backgroundColor="";let d=e.getMeta(u),f=d.row_header_x===t||d.x>=0;u.classList.toggle("psp-align-right",!1),u.classList.toggle("psp-align-left",!1),u.classList.toggle("psp-header-group",!0),u.classList.toggle("psp-header-leaf",!1),u.classList.toggle("psp-header-border",f),u.classList.toggle("psp-header-group-corner",typeof d.x>"u"),u.classList.toggle("psp-color-mode-bar",!1),u.classList.toggle("psp-header-sort-asc",!1),u.classList.toggle("psp-header-sort-desc",!1),u.classList.toggle("psp-header-sort-col-asc",!1),u.classList.toggle("psp-header-sort-col-desc",!1),u.classList.toggle("psp-sort-enabled",!1);let h=l.cells[c],g=c,p,x;for(;r[o]&&r[o][g];++g);for(s.add(g),p=g;p<g+h.colSpan;++p)for(x=o;x<o+h.rowSpan;++x)r[x]||(r[x]=[]),r[x][p]=!0;h.classList.toggle("psp-is-top",o===0||!i.has(p))}i=s}}function Bm(e,t,[,,,,,n,r],[,,,,,i,a],o){var c,u,d,f,h,g,p,x,b;let l=(u=(c=this._ids)==null?void 0:c[e.dy])==null?void 0:u.join("|"),s=(o?e.column_header.slice(0,-1):e.column_header).join("|");if((d=this.last_reverse_columns)!=null&&d.has(s)&&((f=this.last_reverse_ids)!=null&&f.has(l))){let A=(h=this.last_reverse_ids)==null?void 0:h.get(l),$=this.last_reverse_columns.get(s);this._is_old_viewport?((p=(g=this.last_meta)==null?void 0:g[$])==null?void 0:p[A])>e.user?(t.style.setProperty("--pulse--background-color-start",i),t.style.setProperty("--pulse--background-color-end",a),t.style.animationName==="pulse_neg"?t.style.animation="pulse_neg2 0.5s linear":t.style.animation="pulse_neg 0.5s linear"):((b=(x=this.last_meta)==null?void 0:x[$])==null?void 0:b[A])<e.user?(t.style.setProperty("--pulse--background-color-start",n),t.style.setProperty("--pulse--background-color-end",r),t.style.animationName==="pulse_pos"?t.style.animation="pulse_pos2 0.5s linear":t.style.animation="pulse_pos 0.5s linear"):A!==e.dy&&(t.style.animation=""):t.style.animation=""}else t.style.animation=""}function _u(e,t){return zi.mix(e,`rgb(${t[0]},${t[1]},${t[2]})`,.5).hex()}function Ri([e,t,n,r],i=[255,255,255]){function a(o,l){return((1-r)*(i[o]/255)+r*(l/255))*255}return[a(0,e),a(1,t),a(2,n)]}function Vi([e,t,n]){return Math.sqrt(e*e*.299+t*t*.587+n*n*.114)>130?"#161616":"#ffffff"}function qm(e){let[t,n,r]=e.rgb(),[i,a,o]=e.set("hsl.h",(e.get("hsl.h")-15)%360).rgb(),[l,s,c]=e.set("hsl.h",(e.get("hsl.h")+15)%360).rgb();return`linear-gradient(to right top,rgb(${i},${a},${o}),rgb(${t},${n},${r}) 50%,rgb(${l},${s},${c}))`}function en(e){let t=zi(e),n=qm(t),r=t.rgb();return[e,...r,n,`rgba(${r[0]},${r[1]},${r[2]},1)`,`rgba(${r[0]},${r[1]},${r[2]},0)`]}function Hm(e,t,n,r){let i=n.user>0,a=n.user<0,o;(e==null?void 0:e.pos_bg_color)!==void 0?o=e.pos_bg_color:o=this._pos_bg_color;let l;(e==null?void 0:e.neg_bg_color)!==void 0?l=e.neg_bg_color:l=this._neg_bg_color;let s=i?o:a?l:["",...this._plugin_background,""];{let[g,p,x,b,A]=s;if(t.style.position="",(e==null?void 0:e.number_bg_mode)==="color")t.style.animation="",t.style.backgroundColor=g;else if((e==null?void 0:e.number_bg_mode)==="gradient"){let $=Math.max(0,Math.min(1,Math.abs(n.user/e.bg_gradient))),E=this._plugin_background,y=Vi(Ri([p,x,b,$],E));t.style.animation="",t.style.color=y,t.style.backgroundColor=`rgba(${p},${x},${b},${$})`}else(e==null?void 0:e.number_bg_mode)==="pulse"?(Bm.call(this,n,t,o,l,r),t.style.backgroundColor=""):((e==null?void 0:e.number_bg_mode)==="disabled"||(e==null||e.number_bg_mode),t.style.animation="",t.style.backgroundColor="")}let[c,u,d,f,h]=(e==null?void 0:e.pos_fg_color)!==void 0?i?e.pos_fg_color:a?e.neg_fg_color:["",...this._plugin_background,""]:i?this._pos_fg_color:a?this._neg_fg_color:["",...this._plugin_background,""];if((e==null?void 0:e.number_fg_mode)==="disabled")if((e==null?void 0:e.number_bg_mode)==="color"){let g=this._plugin_background,p=Vi(Ri([s[1],s[2],s[3],1],g));t.style.color=p}else(e==null?void 0:e.number_bg_mode)==="gradient"||(t.style.color="");else(e==null?void 0:e.number_fg_mode)==="bar"?(t.style.color="",t.style.position="relative",h!==""&&t.children.length>0&&t.children[0].nodeType===Node.ELEMENT_NODE&&(t.children[0].style.background=h)):((e==null?void 0:e.number_fg_mode)==="color"||!(e!=null&&e.number_fg_mode))&&(t.style.color=c)}function Ym(e,t,n){var c;let r=(c=n.column_header)==null?void 0:c[this._config.split_by.length],[i,a,o,l,s]=(e==null?void 0:e.color)!==void 0?e.color:this._color;if((e==null?void 0:e.string_color_mode)==="foreground"&&n.user!==null)t.style.color=i,t.style.backgroundColor="",(e==null?void 0:e.format)==="link"&&(t.children[0].style.color=i);else if((e==null?void 0:e.string_color_mode)==="background"&&n.user!==null){let u=this._plugin_background,d=Vi(Ri([a,o,l,1],u));t.style.color=d,t.style.backgroundColor=i}else if((e==null?void 0:e.string_color_mode)==="series"&&n.user!==null){this._series_color_map.has(r)||(this._series_color_map.set(r,new Map),this._series_color_seed.set(r,0));let u=this._series_color_map.get(r);if(!u.has(n.user)){let k=this._series_color_seed.get(r);u.set(n.user,k),this._series_color_seed.set(r,k+1)}let d=u.get(n.user),[f,h,g]=zi(i).hsl();f=f+d*150%360;let p=zi(f,h,g,"hsl"),[x,b,A]=p.rgb(),$=p.hex(),E=this._plugin_background,y=Vi(Ri([x,b,A,1],E));t.style.color=y,t.style.backgroundColor=$}else t.style.backgroundColor="",t.style.color=""}function Xm(e,t,n){var s;(s=n.column_header)==null||s[this._config.split_by.length];let[r,i,a,o,l]=(e==null?void 0:e.color)!==void 0?e.color:this._color;if((e==null?void 0:e.datetime_color_mode)==="foreground"&&n.user!==null)t.style.color=r,t.style.backgroundColor="";else if((e==null?void 0:e.datetime_color_mode)==="background"&&n.user!==null){let c=this._plugin_background,u=Vi(Ri([i,a,o,1],c));t.style.color=u,t.style.backgroundColor=r}else t.style.backgroundColor="",t.style.color=""}function Gm(e,t,n){let[r]=n.user===!0?this._pos_fg_color:n.user===!1?this._neg_fg_color:["",0,0,0,""];t.style.backgroundColor="",t.style.color=r}function Km(e,t,n){var l,s;let r=typeof n.value!=null&&typeof n.value!=null&&((s=(l=n.value)==null?void 0:l.toString())==null?void 0:s.trim().length)>0,i=n.row_header_x>=this._config.group_by.length,a=e.getMeta({dx:0,dy:n.y-n.y0+1}),o=a&&a.row_header&&typeof a.row_header[n.row_header_x+1]<"u";t.classList.toggle("psp-tree-label",r&&!i),t.classList.toggle("psp-tree-label-expand",r&&!i&&!o),t.classList.toggle("psp-tree-label-collapse",r&&!i&&o),t.classList.toggle("psp-tree-leaf",r&&i)}function Qm(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}function Jm(e,t){var i;let n=e[Nr]||{},r=t.hasAttribute("settings");for(let a of e.children[0].children[1].children)for(let o of a.children){let l=e.getMeta(o),s=(i=l.column_header)==null?void 0:i[this._config.split_by.length],c=Qm.call(this,l),u=n[s],d=c==="integer"||c==="float";d?Hm.call(this,u,o,l,r):c==="boolean"?Gm.call(this,u,o,l):c==="string"?Ym.call(this,u,o,l):c==="date"||c==="datetime"?Xm.call(this,u,o,l):(o.style.backgroundColor="",o.style.color=""),o.classList.toggle("psp-bool-type",c==="boolean"&&l.user!==null);let f=o.tagName==="TH";f&&Km.call(this,e,o,l),o.classList.toggle("psp-align-right",!f&&d),o.classList.toggle("psp-align-left",f||!d),o.classList.toggle("psp-color-mode-bar",(u==null?void 0:u.number_fg_mode)==="bar"&&d)}}async function Zm(e,t,n,r){let i=e.getMeta(r).column_header[this._config.split_by.length],a=(n.shiftKey?ew:tw).call(this,i);this._preserve_focus_state=!0,await t.restore({sort:a})}function ew(e){let t=[],n=!1;for(let r of this._config.sort){let[i,a]=r;if(i===e){n=!0;let o=eh.call(this,e,a);o&&t.push(o)}else t.push(r)}return n||t.push([e,"desc"]),t}function tw(e){for(let[t,n]of this._config.sort)if(t===e){let r=eh.call(this,e,n);return r?[r]:[]}return[[e,"desc"]]}function eh(e,t){let n=this._config.split_by.length>0?rw:nw,r=t?n[t]:"desc";if(r)return[e,r]}var nw={desc:"asc",asc:void 0},rw={desc:"asc",asc:"col desc","col desc":"col asc","col asc":void 0};async function iw(e,t){let n=e.getMeta(t.target),r=t.target.classList.contains("psp-tree-label-collapse");t.shiftKey&&r?this._view.set_depth(n.row_header.filter(i=>i!==void 0).length-2):t.shiftKey?this._view.set_depth(n.row_header.filter(i=>i!==void 0).length-1):r?this._view.collapse(n.y):this._view.expand(n.y),this._num_rows=await this._view.num_rows(),this._num_columns=await this._view.num_columns(),e.draw()}async function aw(e,t,n){var i;if(n.which!==1)return;let r=n.target;if(r.tagName!=="A"){for(;r.tagName!=="TD"&&r.tagName!=="TH";)if(r=r.parentElement,!e.contains(r))return;if(r.classList.contains("psp-tree-label")){iw.call(this,e,n),n.stopImmediatePropagation();return}if(r.classList.contains("psp-menu-enabled")){let a=(i=e.getMeta(r).column_header)==null?void 0:i[this._config.split_by.length];await t.toggleColumnSettings(a),n.preventDefault(),n.stopImmediatePropagation()}else r.classList.contains("psp-sort-enabled")&&(Zm.call(this,e,t,n,r),n.stopImmediatePropagation())}}function ow(e,t){if(t.which!==1)return;let n=t.target;for(;n.tagName!=="TD"&&n.tagName!=="TH";)if(n=n.parentElement,!e.contains(n))return;(n.classList.contains("psp-tree-label")&&t.offsetX<26||n.classList.contains("psp-header-leaf")&&!n.classList.contains("psp-header-corner"))&&t.stopImmediatePropagation()}function gu(e,t=!1){let n=this._config.group_by.length===0&&this._config.split_by.length===0,r=e.hasAttribute("selectable"),i=t||e.children[0].dataset.editMode==="EDIT";return n&&!r&&i}function lw(e,t,n){var a;let r=e[Nr]||{},i=gu.call(this,t);n.classList.toggle("edit-mode-allowed",gu.call(this,t,!0));for(let o of e.querySelectorAll("td")){let l=e.getMeta(o),s=this.get_psp_type(l);if(i&&this._is_editable[l.x]){let c=l.column_header[this._config.split_by.length];s==="string"&&((a=r[c])==null?void 0:a.format)==="link"?(o.toggleAttribute("contenteditable",!1),o.classList.toggle("boolean-editable",!1)):s==="boolean"?(o.toggleAttribute("contenteditable",!1),o.classList.toggle("boolean-editable",l.user!==null)):(i!==o.hasAttribute("contenteditable")&&o.toggleAttribute("contenteditable",i),o.classList.toggle("boolean-editable",!1))}else o.toggleAttribute("contenteditable",!1),o.classList.toggle("boolean-editable",!1)}}var th=(e,t,n)=>{let r=e.querySelectorAll("td"),i=n.get(e),a=e.getRootNode();if(i){for(let o of r){let l=e.getMeta(o);if(l.x===i.x&&l.y===i.y)return a.activeElement!==o&&o.focus({preventScroll:!0}),!0}document.activeElement!==document.body&&e.contains(a.activeElement)&&a.activeElement.blur()}};function nh(e,t,n){let r=e.getMeta(n),i=t._schema[t._column_paths[r.x]];if(r){let a=n.textContent,o=t._ids[r.y-r.y0][0];if(i==="float"||i==="integer"){if(a=parseFloat(a.replace(/,/g,"")),isNaN(a))return!1}else if(i==="date"||i==="datetime"){if(a=Date.parse(a),isNaN(a))return!1}else i==="boolean"&&(a=a==="true"?!1:a==="false"?!0:null);let l={__INDEX__:o,[t._column_paths[r.x]]:a};return t._table.update([l],{port_id:t._edit_port}),!0}}function sw(e,t,n){let r=e.getMeta(n.target);if(typeof(r==null?void 0:r.x)<"u"){let i=this._is_editable[r.x],a=this.get_psp_type(r)==="boolean",o=n.target.textContent==="-";i&&a&&!o&&nh(e,this,n.target)}}function cw(e){let t;return async function(...n){if(t&&await t&&t)return;let r;t=new Promise(i=>r=i),await e.apply(this,n),t=void 0,r()}}function pu(){if(this.isContentEditable){let e=this.getRootNode().getSelection().getRangeAt(0),t=e.cloneRange();return t.selectNodeContents(this),t.setEnd(e.endContainer,e.endOffset),t.toString().length}else return this.target.selectionStart}var cr=cw(async function(e,t,n,r,i){let a=e.getMeta(n),o=this._column_paths.length,l=this._num_rows,s=t.get(e);if(!s)return;a.x+r<o&&0<=a.x+r&&(s.x=a.x+r),a.y+i<l&&0<=a.y+i&&(s.y=a.y+i);let c=Math.max(a.x0-10,0),u=Math.min(a.x0+10,o),d=Math.max(a.y0-5,0),f=Math.min(a.y0+10,l),h=a.x0+r,g=a.y0+i;for(;!th(e,void 0,t)&&h>=c&&h<u&&g>=d&&g<f;)await e.scrollToCell(h,g,o,l),t.set(e,s),h+=r,g+=i});function uw(e,t,n){return t.getMeta(n).y===e._num_rows-1}function fw(e,t,n,r){let i=e.getRootNode().activeElement;switch(r.target.classList.remove("psp-error"),r.key){case"Enter":r.preventDefault(),uw(this,e,i)?(i.blur(),n.delete(e)):r.shiftKey?cr.call(this,e,n,i,0,-1):cr.call(this,e,n,i,0,1);break;case"ArrowLeft":pu.call(i)==0&&(r.preventDefault(),cr.call(this,e,n,i,-1,0));break;case"ArrowUp":r.preventDefault(),cr.call(this,e,n,i,0,-1);break;case"ArrowRight":pu.call(i)==i.textContent.length&&(r.preventDefault(),cr.call(this,e,n,i,1,0));break;case"ArrowDown":r.preventDefault(),cr.call(this,e,n,i,0,1);break}}function vs(e,t=!1){let n=this._config.group_by.length===0&&this._config.split_by.length===0,r=e.hasAttribute("selectable"),i=t||e.children[0]._edit_mode==="EDIT";return n&&!r&&i}function dw(e,t,n,r){if(this._edit_mode==="EDIT"){if(!vs.call(this,t))return;fw.call(this,e,t,n,r)}else console.debug(`Mode ${this._edit_mode} for "keydown" event not yet implemented`)}function hw(e,t,n){if(this._edit_mode==="EDIT"){if(!vs.call(this,t))return;sw.call(this,e,t,n)}else this._edit_mode==="READ_ONLY"||this._edit_mode==="SELECT_COLUMN"||this._edit_mode==="SELECT_ROW"||this._edit_mode==="SELECT_REGION"||console.debug(`Mode ${this._edit_mode} for "click" event not yet implemented`)}function _w(e,t,n,r){if(vs.call(this,t)&&n.has(e)){r.target.classList.remove("psp-error");let i=n.get(e);n.delete(e),i.content!==r.target.textContent&&(nh(e,this,r.target)||(r.target.textContent=i.content,r.target.classList.add("psp-error"),r.target.focus()))}}function gw(e,t,n,r){let i=e.getMeta(r.target);if(i){let a={x:i.x,y:i.y,content:r.target.textContent};n.set(e,a)}}async function rh({_view:e,_config:t},n,r){let i=t.group_by,a=t.split_by,o=n>=0?n:0,l=o+1,s=await e.to_json({start_row:o,end_row:l}),c=s.map(x=>x.__ROW_PATH__)[0]||[],u=i.map((x,b)=>{let A=c[b];return A?[x,"==",A]:void 0}).filter(x=>x),d=i.length>0?r+1:r,f=Object.keys(s[0])[d],h={row:s[0]},g=[];if(f){let x=f.split("|");h.column_names=[x[a.length]],g=a.map((b,A)=>{let $=x[A];return $?[b,"==",$]:void 0}).filter(b=>b).filter(([,,b])=>b!=="__ROW_PATH__")}let p=t.filter.concat(u).concat(g);return h.config={filter:p},h}async function pw(e,t,n,r){let i=e.getMeta(r.target);if(!t.hasAttribute("selectable")||r.handled||r.which!==1||!i)return;let a=this._ids[i.y-i.y0];if(i&&i.y>=0){let o=n.get(e),l=!!o&&o.reduce((h,g,p)=>h&&g===a[p],!0),s=!!o&&a.length===o.length&&l,c={selected:!s},{row:u,column_names:d,config:f}=await rh(this,i.y,i.x);s?(n.delete(e),c={...c,row:u,config:{filter:structuredClone(this._config.filter)}}):(n.set(e,a),c={...c,row:u,column_names:d,config:f}),await e.draw({preserve_width:!0}),r.handled=!0,t.dispatchEvent(new CustomEvent("perspective-select",{bubbles:!0,composed:!0,detail:c}))}}function bw(e,t,n){if(!t.hasAttribute("selectable"))return;let r=n.has(e),i=n.get(e);for(let a of e.querySelectorAll("td"))if(!r)a.classList.toggle("psp-row-selected",!1),a.classList.toggle("psp-row-subselected",!1);else{let o=e.getMeta(a),l=this._ids[o.y-o.y0],s=i.reduce((c,u,d)=>c&&u===l[d],!0);a.classList.toggle("psp-row-selected",l.length===i.length&&s),a.classList.toggle("psp-row-subselected",l.length!==i.length&&s)}for(let a of e.querySelectorAll("tbody th")){let o=e.getMeta(a),l=this._ids[o.y-o.y0];if(!r||l[o.row_header_x])a.classList.toggle("psp-row-selected",!1),a.classList.toggle("psp-row-subselected",!1);else{let s=i.reduce((c,u,d)=>c&&u===l[d],!0);a.classList.toggle("psp-row-selected",l.length===i.length&&s),a.classList.toggle("psp-row-subselected",l.length!==i.length&&s)}}}async function mw(e,t,n){n.delete(e);for(let r of e.querySelectorAll("td,th"))r.classList.toggle("psp-row-selected",!1),r.classList.toggle("psp-row-subselected",!1)}var bu={datetime:Intl.DateTimeFormat,date:Intl.DateTimeFormat,integer:Intl.NumberFormat,float:Intl.NumberFormat,boolean:class{format(e){return e?"true":"false"}}},ww={types:{float:{format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},datetime:{format:{dateStyle:"short",timeStyle:"medium"}},date:{format:{dateStyle:"short"}}}},yw=class{constructor(){this._formatters=new Map}create_datetime_formatter(e,t){var r,i,a,o,l,s,c,u,d,f,h,g,p,x;let n={dateStyle:"short",timeStyle:"medium"};if(((r=t.date_format)==null?void 0:r.format)!=="custom"){let b={...n,timeZone:(i=t.date_format)==null?void 0:i.timeZone,dateStyle:(a=t.date_format)==null?void 0:a.dateStyle,timeStyle:(o=t.date_format)==null?void 0:o.timeStyle};return b.dateStyle==="disabled"?b.dateStyle=void 0:b.dateStyle===void 0&&(b.dateStyle="short"),b.timeStyle==="disabled"?b.timeStyle=void 0:b.timeStyle===void 0&&(b.timeStyle="medium"),new Intl.DateTimeFormat(navigator.languages,b)}else{let b={timeZone:(l=t.date_format)==null?void 0:l.timeZone,second:(s=t.date_format)==null?void 0:s.second,minute:(c=t.date_format)==null?void 0:c.minute,hour:(u=t.date_format)==null?void 0:u.hour,day:(d=t.date_format)==null?void 0:d.day,weekday:(f=t.date_format)==null?void 0:f.weekday,month:(h=t.date_format)==null?void 0:h.month,year:(g=t.date_format)==null?void 0:g.year,hour12:(p=t.date_format)==null?void 0:p.hour12,fractionalSecondDigits:(x=t.date_format)==null?void 0:x.fractionalSecondDigits};return b.year==="disabled"?b.year=void 0:b.year===void 0&&(b.year="2-digit"),b.month==="disabled"?b.month=void 0:b.month===void 0&&(b.month="numeric"),b.day==="disabled"?b.day=void 0:b.day===void 0&&(b.day="numeric"),b.weekday==="disabled"&&(b.weekday=void 0),b.hour==="disabled"?b.hour=void 0:b.hour===void 0&&(b.hour="numeric"),b.minute==="disabled"?b.minute=void 0:b.minute===void 0&&(b.minute="numeric"),b.second==="disabled"?b.second=void 0:b.second===void 0&&(b.second="numeric"),b.hour12===void 0&&(b.hour12=!0),new Intl.DateTimeFormat(navigator.languages,b)}}create_date_formatter(e,t){var r;let n={dateStyle:(r=t.date_format)==null?void 0:r.dateStyle,timeZone:"utc"};return n.dateStyle==="disabled"?n.dateStyle=void 0:n.dateStyle===void 0&&(n.dateStyle="short"),new Intl.DateTimeFormat(navigator.languages,n)}create_number_formatter(e,t){var r;let n=(r=ww.types[e])==null?void 0:r.format;return t.number_format!==void 0&&(n=t.number_format),new bu[e](navigator.languages,n)}create_boolean_formatter(e,t){return new bu[e](navigator.languages,{})}get(e,t){let n=[e,...Object.values(t.date_format??{}),...Object.values(t.number_format??{})].join("-");return this._formatters.has(n)||(e==="date"?this._formatters.set(n,this.create_date_formatter(e,t)):e==="datetime"?this._formatters.set(n,this.create_datetime_formatter(e,t)):e==="integer"||e==="float"?this._formatters.set(n,this.create_number_formatter(e,t)):e==="boolean"?this._formatters.set(n,this.create_boolean_formatter(e,t)):this._formatters.set(n,!1)),this._formatters.get(n)}},ih=new yw,mu=1;function vw(e,t){return ih.get(e,t)}function ah(e,t,n={},r=!1){if(t===null)return"-";let i=r&&this._table_schema[e]||this._schema[e]||"string",a=n[e]||{};if((i==="integer"||i==="float")&&(a==null?void 0:a.number_fg_mode)==="bar"){let o=Math.max(0,Math.min(mu,Math.abs(t/a.fg_gradient)*mu)),l=this._div_factory.get(),s=t>=0?"left":"right",c=(o*100).toFixed(2);return l.setAttribute("style",`width:calc(${c}% - 4px);position:absolute;${s}:2px;height:80%;top:10%;pointer-events:none;`),l}else if((a==null?void 0:a.format)==="link"&&i==="string"){let o=document.createElement("a");return o.setAttribute("href",t),o.setAttribute("target","_blank"),o.textContent=t,o}else if((a==null?void 0:a.format)==="bold"&&i==="string"){let o=document.createElement("b");return o.textContent=t,o}else if((a==null?void 0:a.format)==="italics"&&i==="string"){let o=document.createElement("i");return o.textContent=t,o}else{let o=ih.get(i,a);return o?o.format(t):t}}function*xw(e=[],t,n){let r=n[Nr];for(let i of e){i=["TOTAL",...i];let a=i[i.length-1];i=i.slice(0,i.length-1).fill("");let o=ah.call(this,t[i.length-1],a,r,!0);o instanceof HTMLElement?i=i.concat(o):i=i.concat({toString:()=>o}),i.length=t.length+1,yield i}}function kw(e){let t,n,r,i,a;return async function(o,l,s,c,u){var A,$,E,y;let d={},f;c-l>0&&u-s>0?(this._is_old_viewport=((A=this._last_window)==null?void 0:A.start_row)===s&&(($=this._last_window)==null?void 0:$.end_row)===u&&((E=this._last_window)==null?void 0:E.start_col)===l&&((y=this._last_window)==null?void 0:y.end_col)===c,f={start_row:s,start_col:l,end_row:u,end_col:c,id:!0},d=JSON.parse(await this._view.to_columns_string(f)),this._last_window=f,this._ids=d.__ID__,this._reverse_columns=this._column_paths.slice(l,c).reduce((k,D,L)=>(k.set(D,L),k),new Map),this._reverse_ids=this._ids.reduce((k,D,L)=>(k.set(D==null?void 0:D.join("|"),L),k),new Map)):this._div_factory.clear();let h=[],g=[],p=[],x=[],b=e.hasAttribute("settings");for(let k=l;k<Math.min(c,this._column_paths.length);++k){let D=this._column_paths[k],L=D.split("|"),G=d[D]||new Array(u-s).fill(null);h.push(G.map(Y=>ah.call(this,L[this._config.split_by.length],Y,o[Nr]))),g.push(G),b&&L.push(""),p.push(L),x.push(D)}return c-l>0&&u-s>0&&(this.last_column_paths=n,this.last_meta=t,this.last_ids=r,this.last_reverse_ids=i,this.last_reverse_columns=a,n=x,t=g,r=this._ids,i=this._reverse_ids,a=this._reverse_columns),{num_rows:this._num_rows,num_columns:this._column_paths.length,row_headers:Array.from(xw.call(this,d.__ROW_PATH__,this._config.group_by,o)),column_headers:p,data:h,metadata:g,column_header_merge_depth:Math.max(0,this._config.split_by.length)}}}function ma(e,t,n){let r=window.getComputedStyle(e).getPropertyValue(t).trim();return r.length>0?r:n}var Sw=class{constructor(t){this._name=t,this._elements=[],this._index=0}clear(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));let t=this._elements[this._index];return this._index+=1,t}};function Mw(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}async function wu(e,t,n,r={}){var Y;let i=await n.get_config(),a=Array.isArray(i.expressions)?Object.fromEntries(i.expressions.map(U=>[U[0],U[1]])):i.expressions,[o,l,s,c,u,d,f]=await Promise.all([t.schema(),t.validate_expressions(a),n.num_rows(),n.schema(),n.expression_schema(),n.column_paths(),this.parentElement.getEditPort()]),h=zi(ma(e,"--plugin--background","#FFFFFF")).rgb(),g=en(ma(e,"--rt-pos-cell--color","#338DCD")),p=en(ma(e,"--rt-neg-cell--color","#FF5942")),x=en(_u(g[0],h)),b=en(_u(p[0],h)),A=en(ma(e,"--active--color","#ff0000")),$={...c,...u},E={...o,...l.expression_schema},y=d.filter(U=>U!=="__ROW_PATH__"&&U!=="__ID__"),k=[],D=[];for(let U of y){let re=U.split("|")[i.split_by.length];D.push($[re]),k.push(!!o[re])}let L=this._edit_mode||"READ_ONLY";this._edit_button.dataset.editMode=L;let G=Object.assign(r,{_edit_port:f,_view:n,_table:t,_table_schema:E,_config:i,_num_rows:s,_schema:$,_ids:[],_plugin_background:h,_color:A,_pos_fg_color:g,_neg_fg_color:p,_pos_bg_color:x,_neg_bg_color:b,_column_paths:y,_column_types:D,_is_editable:k,_edit_mode:L,_selection_state:{selected_areas:[],dirty:!1},_row_header_types:i.group_by.map(U=>E[U]),_series_color_map:new Map,_series_color_seed:new Map,get_psp_type:Mw});return G._div_factory=G._div_factory||new Sw("div"),e.setDataListener(kw(this.parentElement).bind(G,e),{virtual_mode:((Y=window.getComputedStyle(e).getPropertyValue("--datagrid-virtual-mode"))==null?void 0:Y.trim())||"both"}),G}async function Ew(e,t,n){let r=e.getMeta(n.target);if(!r)return;let{x:i,y:a}=r,{row:o,column_names:l,config:s}=await rh(this,a,i);t.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{row:o,column_names:l,config:s}}))}var Aw="mouse-selected-area",$w=(e,t,{className:n=Aw,selected:r=[]}={})=>(e.model._selection_state={selected_areas:r,dirty:!0},t.addEventListener("mousedown",Tw(e,t,n)),t.addEventListener("mouseover",Cw(e,t,n)),t.addEventListener("mouseup",Nw(e,t,n)),t.addStyleListener(()=>Di(e,t,n)),t),Tw=(e,t,n)=>r=>{if(e.model._edit_mode==="SELECT_REGION"||e.model._edit_mode==="SELECT_ROW"||e.model._edit_mode==="SELECT_COLUMN"){e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES={};let i=t.getMeta(r.target);if(i&&i.x!==void 0&&i.y!==void 0){e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES={x:i.x,y:i.y},e.model._selection_state.old_selected_areas=e.model._selection_state.selected_areas,e.model._selection_state.selected_areas=[];let a={x0:i.x,x1:i.x,y0:i.y,y1:i.y};e.model._selection_state.potential_selection=a,Di(e,t,n,e.model._selection_state.selected_areas.concat([a]));return}}e.model._selection_state.selected_areas=[]},Cw=(e,t,n)=>r=>{if((e.model._edit_mode==="SELECT_REGION"||e.model._edit_mode==="SELECT_ROW"||e.model._edit_mode==="SELECT_COLUMN")&&e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES&&e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x!==void 0){let i=t.getMeta(r.target);if(i&&i.x!==void 0&&i.y!==void 0){let a={x0:Math.min(i.x,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x),x1:Math.max(i.x,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x),y0:Math.min(i.y,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.y),y1:Math.max(i.y,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.y)};e.model._selection_state.potential_selection=a,Di(e,t,n,e.model._selection_state.selected_areas.concat([a]))}}},Nw=(e,t,n)=>r=>{var i;if(e.model._edit_mode==="SELECT_REGION"||e.model._edit_mode==="SELECT_ROW"||e.model._edit_mode==="SELECT_COLUMN"){let a=t.getMeta(r.target);if(((i=e.model._selection_state.old_selected_areas)==null?void 0:i.length)>0){let o=e.model._selection_state.old_selected_areas[0];if(o.x0===o.x1&&o.y0===o.y1&&o.x0===a.x&&o.y0===a.y){e.model._selection_state.selected_areas=[],e.model._selection_state.old_selected_areas=[],e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES={},e.model._selection_state.potential_selection=void 0,Di(e,t,n,[]);return}}if(e.model._selection_state.old_selected_areas=[],e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES&&e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x!==void 0&&a.x!==void 0&&a.y!==void 0){let o={x0:Math.min(a.x,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x),x1:Math.max(a.x,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.x),y0:Math.min(a.y,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.y),y1:Math.max(a.y,e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES.y)};e.model._selection_state.selected_areas.push(o),Di(e,t,n)}e.model._selection_state.CURRENT_MOUSEDOWN_COORDINATES={},e.model._selection_state.potential_selection=void 0}};function Ow(e,t,{x0:n,x1:r,y0:i,y1:a}){let o={},l=t.model._edit_mode;n!==void 0&&["SELECT_COLUMN","SELECT_REGION"].indexOf(l)>-1&&(o.start_col=n),r!==void 0&&["SELECT_COLUMN","SELECT_REGION"].indexOf(l)>-1&&(o.end_col=r+1),i!==void 0&&["SELECT_ROW","SELECT_REGION"].indexOf(l)>-1&&(o.start_row=i),a!==void 0&&["SELECT_ROW","SELECT_REGION"].indexOf(l)>-1&&(o.end_row=a+1),e.setSelection(o)}var Di=(e,t,n,r)=>{if(e.model._edit_mode==="SELECT_REGION"||e.model._edit_mode==="SELECT_ROW"||e.model._edit_mode==="SELECT_COLUMN"){r=e.model._selection_state.selected_areas.slice(0),e.model._selection_state.potential_selection&&r.push(e.model._selection_state.potential_selection);let i=t.querySelectorAll("tbody td");if(r.length>0)Ow(e.parentElement,e,r[0]),Lw(e,t,r,n);else{e.parentElement.setSelection();for(let a of i)a.classList.remove(n)}}else if(e.model._selection_state.dirty){e.model._selection_state.dirty=!1;let i=t.querySelectorAll("tbody td");for(let a of i)a.classList.remove(n)}},Lw=(e,t,n,r)=>{if(e.model._edit_mode==="SELECT_REGION"&&n.length>0){let i=t.querySelectorAll("tbody td");for(let a of i){let o=t.getMeta(a),l=!1;for(let{x0:s,x1:c,y0:u,y1:d}of n)s!==void 0&&u!==void 0&&c!==void 0&&d!==void 0&&s<=o.x&&o.x<=c&&u<=o.y&&o.y<=d&&(l=!0,e.model._selection_state.dirty=!0,a.classList.add(r));l||a.classList.remove(r)}}else if(e.model._edit_mode==="SELECT_ROW"&&n.length>0){let i=t.querySelectorAll("tbody td");for(let a of i){let o=t.getMeta(a),l=!1;for(let{x0:s,x1:c,y0:u,y1:d}of n)s!==void 0&&u!==void 0&&c!==void 0&&d!==void 0&&u<=o.y&&o.y<=d&&(e.model._selection_state.dirty=!0,l=!0,a.classList.add(r));l||a.classList.remove(r)}}else if(e.model._edit_mode==="SELECT_COLUMN"&&n.length>0){let i=t.querySelectorAll("tbody td");for(let a of i){let o=t.getMeta(a),l=!1;for(let{x0:s,x1:c,y0:u,y1:d}of n)s!==void 0&&u!==void 0&&c!==void 0&&d!==void 0&&s<=o.x&&o.x<=c&&(e.model._selection_state.dirty=!0,l=!0,a.classList.add(r));l||a.classList.remove(r)}}};async function zw(e){let t=this.parentElement,n=await t.getTable(!0);if(this._initialized)await wu.call(this,this.regular_table,n,e,this.model);else{this.innerHTML="",this.shadowRoot?this.shadowRoot.appendChild(this.regular_table):this.appendChild(this.regular_table),this.model=await wu.call(this,this.regular_table,n,e),$w(this,this.regular_table,{className:"psp-select-region"}),this.regular_table.addStyleListener(Jm.bind(this.model,this.regular_table,t)),this.regular_table.addStyleListener(Wm.bind(this.model,this.regular_table)),this.regular_table.addStyleListener(jm.bind(this.model,this.regular_table,t)),this.regular_table.addEventListener("click",ow.bind(this.model,this.regular_table)),this.regular_table.addEventListener("mousedown",aw.bind(this.model,this.regular_table,t));let r=new WeakMap;this.regular_table.addStyleListener(bw.bind(this.model,this.regular_table,t,r)),this.regular_table.addEventListener("mousedown",pw.bind(this.model,this.regular_table,t,r)),this.regular_table.addEventListener("psp-deselect-all",mw.bind(this.model,this.regular_table,t,r)),this.regular_table.addEventListener("click",Ew.bind(this.model,this.regular_table,t));let i=new WeakMap;this.regular_table.addStyleListener(lw.bind(this.model,this.regular_table,t,this)),this.regular_table.addStyleListener(th.bind(this.model,this.regular_table,t,i)),this.regular_table.addEventListener("click",hw.bind(this.model,this.regular_table,t)),this.regular_table.addEventListener("focusin",gw.bind(this.model,this.regular_table,t,i)),this.regular_table.addEventListener("focusout",_w.bind(this.model,this.regular_table,t,i)),this.regular_table.addEventListener("keydown",dw.bind(this.model,this.regular_table,t,i)),t.addEventListener("perspective-toggle-column-settings",a=>{if(this.isConnected){if(Zd.call(this.model,this.regular_table,t,a.detail.column_name),!a.detail.open){this.model._column_settings_selected_column=null;return}this.model._column_settings_selected_column=a.detail.column_name}}),this._initialized=!0}}function oh(e,t=!1){if(!this._initialized)return;t&&(this._cached_column_sizes=e);let n={},{group_by:r,columns:i}=this.model._config,a=(r==null?void 0:r.length)>0?r.length+1:0;for(let o of Object.keys(e))if(o==="__ROW_PATH__")n[a-1]=e[o];else{let l=this.model._column_paths.indexOf(o);n[l+a]=e[o]}this.regular_table._column_sizes.override=n}function lh(){if(!this._initialized)return[];if(this._cached_column_sizes){let a=this._cached_column_sizes;return this._cached_column_sizes=void 0,a}let e=this.regular_table._column_sizes.override,{group_by:t,columns:n}=this.model._config,r=(t==null?void 0:t.length)>0?t.length+1:0,i={};for(let a of Object.keys(e))if(e[a]!==void 0){let o=a-r;o>-1?i[this.model._column_paths[o]]=e[a]:o===-1&&(i.__ROW_PATH__=e[a])}return i}var Na=["READ_ONLY","EDIT","SELECT_ROW","SELECT_COLUMN","SELECT_REGION"];function sh(e=void 0){var t;typeof e>"u"&&(e=Na[(Na.indexOf(this._edit_mode)+1)%Na.length]),(t=this.parentElement)==null||t.setSelection(),this._edit_mode=e,this.model&&(this.model._edit_mode=e,this.model._selection_state={selected_areas:[],dirty:!0}),this._edit_button!==void 0&&(this._edit_button.dataset.editMode=e),this.dataset.editMode=e}function ch(e=void 0){typeof e>"u"&&(e=!this._is_scroll_lock),this._is_scroll_lock=e,this.classList.toggle("sub-cell-scroll-disabled",e),this._scroll_lock!==void 0&&this._scroll_lock.classList.toggle("lock-scroll",e)}function Rw(e,t){e=JSON.parse(JSON.stringify(e)),t=JSON.parse(JSON.stringify(t));let n={};if(e.columns)for(let[a,o]of Object.entries(e.columns))o.column_size_override!==void 0&&(n[a]=o.column_size_override,delete o.column_size_override);let r={};if(t)for(let[a,o]of Object.entries(t))r[a]={...o,pos_fg_color:o.pos_fg_color?en(o.pos_fg_color):void 0,neg_fg_color:o.neg_fg_color?en(o.neg_fg_color):void 0,pos_bg_color:o.pos_bg_color?en(o.pos_bg_color):void 0,neg_bg_color:o.neg_bg_color?en(o.neg_bg_color):void 0,color:o.color?en(o.color):void 0};"edit_mode"in e&&(Na.indexOf(e.edit_mode)!==-1?sh.call(this,e.edit_mode):console.error("Unknown edit mode "+e.edit_mode)),"scroll_lock"in e&&ch.call(this,e.scroll_lock);let i=this.regular_table;oh.call(this,n,!0),i[Nr]=r}function Vw(){if(this.regular_table){let e={columns:{},scroll_lock:!!this._is_scroll_lock,edit_mode:this._edit_mode},t=lh.call(this);for(let n of Object.keys(t||{}))e.columns[n]||(e.columns[n]={}),e.columns[n].column_size_override=t[n];return JSON.parse(JSON.stringify(e))}return{}}async function Dw(e){if(this.parentElement&&await this.activate(e),!this.isConnected||this.offsetParent==null)return;let t=lh.call(this),n=this.regular_table.draw({invalid_columns:!0});this.model._preserve_focus_state?this.model._preserve_focus_state=!1:(this.regular_table.scrollTop=0,this.regular_table.scrollLeft=0,this.regular_table.dispatchEvent(new CustomEvent("psp-deselect-all",{bubbles:!1})),this.regular_table._resetAutoSize()),oh.call(this,t),await n,this._toolbar.classList.toggle("aggregated",this.model._config.group_by.length>0||this.model._config.split_by.length>0)}function Pw(e,t){return e==="integer"||e==="float"?{datagrid_number_style:{fg_gradient:0,pos_fg_color:this.model._pos_fg_color[0],neg_fg_color:this.model._neg_fg_color[0],number_fg_mode:"color",bg_gradient:0,pos_bg_color:this.model._pos_bg_color[0],neg_bg_color:this.model._neg_bg_color[0],number_bg_mode:"disabled"},number_string_format:!0}:e==="date"||e==="datetime"||e==="string"?{[e==="date"||e==="datetime"?"datagrid_datetime_style":"datagrid_string_style"]:{color:this.model._color[0],bg_color:this.model._color[0]}}:null}var fr,uh=class extends HTMLElement{constructor(){super(),this.regular_table=document.createElement("regular-table"),this.regular_table.part="regular-table",this._is_scroll_lock=!1,this._edit_mode="READ_ONLY";let t=uh;t.renderTarget=="shadow"&&(gl(t,fr)||(Fm(t,fr,new CSSStyleSheet),gl(t,fr).replaceSync(Jd)),this.attachShadow({mode:"open"}).adoptedStyleSheets.push(gl(t,fr)))}connectedCallback(){this._toolbar||(this._toolbar=document.createElement("perspective-viewer-datagrid-toolbar"));let t=this.parentElement;t&&t.appendChild(this._toolbar)}disconnectedCallback(){this._toolbar.parentElement.removeChild(this._toolbar)}async activate(t){return await zw.call(this,t)}get name(){return"Datagrid"}get category(){return"Basic"}get select_mode(){return"toggle"}get min_config_columns(){}get config_column_names(){return["Columns"]}get priority(){return 1}can_render_column_styles(t,n){return t!=="boolean"}column_style_controls(t,n){return Pw.call(this,t,n)}async draw(t){return await Dw.call(this,t)}async update(t){this.model._num_rows=await t.num_rows(),await this.regular_table.draw()}async render(t){let n=await this.parentElement.getView(),r=await n.to_columns(t),i=await n.column_paths().then(l=>l.slice(t.start_col,t.end_col)),a=t.end_row-t.start_row,o="";for(let l=0;l<a;l++){for(let s of i){let c=r[s],u=this.model._schema[s],d=vw(u,this.regular_table[Nr][s.split("|").at(-1)]||{});d?o+=d.format(c[l])+"	":o+=c[l]+"	"}o+=`
`}return o.trim()}async resize(){!this.isConnected||this.offsetParent==null||this._initialized&&await this.regular_table.draw()}async clear(){this.regular_table._resetAutoSize(),this.regular_table.clear()}save(){return Vw.call(this)}restore(t,n){return Rw.call(this,t,n)}async restyle(t){await this.draw(t)}delete(){this.regular_table.table_model&&this.regular_table._resetAutoSize(),this.regular_table.clear()}},Wl=uh,ad,od;fr=new WeakMap,Pm(Wl,"renderTarget",(ad=window.CSS)!=null&&ad.supports&&((od=window.CSS)!=null&&od.supports("selector(:host-context(foo))"))?"shadow":"light"),Im(Wl,fr,void 0);var Iw=':host{position:relative;display:block;}:host #container{position:absolute;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;top:0;left:0;right:0;bottom:0;}:host #toolbar{display:flex;align-items:center;height:36px;}:host #toolbar .hover-target{margin:0;display:inline-flex;align-items:center;height:48px;cursor:pointer;}:host #toolbar .hover-target:hover{outline:4px solid var(--icon--color);background-color:var(--icon--color);}:host #slot-container{flex:1;position:relative;}#scroll_lock.lock-scroll:before{-webkit-mask-image:var(--toolbar-scroll-lock-active--content);}#scroll_lock:before{-webkit-mask-image:var(--toolbar-scroll-lock--content);}#select_mode:before{content:"highlight_alt";}#edit_mode:before{-webkit-mask-image:"";}#edit_mode[data-edit-mode="READ_ONLY"]:before{-webkit-mask-image:var(--toolbar-edit-mode--read-only--content);}#edit_mode[data-edit-mode="EDIT"]:before{-webkit-mask-image:var(--toolbar-edit-mode--edit--content);}:host(.aggregated) #toolbar #edit_mode[data-edit-mode="EDIT"]:before{-webkit-mask-image:var(--toolbar-edit-mode--read-only--content);}#edit_mode[data-edit-mode="SELECT_ROW"]:before{-webkit-mask-image:var(--toolbar-edit-mode--select-row--content);}#edit_mode[data-edit-mode="SELECT_COLUMN"]:before{-webkit-mask-image:var(--toolbar-edit-mode--select-column--content);}#edit_mode[data-edit-mode="SELECT_REGION"]:before{-webkit-mask-image:var(--toolbar-edit-mode--select-region--content);}#edit_mode[data-edit-mode="READ_ONLY"] span:before{content:var(--edit-mode--read-only--content,"Read Only");}#edit_mode[data-edit-mode="EDIT"] span:before{content:var(--edit-mode--edit--content,"Editable");}#edit_mode[data-edit-mode="SELECT_ROW"] span:before{content:var(--edit-mode--select-row--content,"Row Select");}#edit_mode[data-edit-mode="SELECT_COLUMN"] span:before{content:var(--edit-mode--select-column--content,"Column Select");}#edit_mode[data-edit-mode="SELECT_REGION"] span:before{content:var(--edit-mode--select-region--content,"Region Select");}#scroll_lock span:before{content:var(--scroll-lock-toggle--content,"Free Scroll");}#scroll_lock.lock-scroll span:before{content:var(--scroll-lock-alt-toggle--content,"Align Scroll");}.button:before{width:21px;height:21px;content:"";-webkit-mask-size:cover;mask-size:cover;background-color:var(--icon--color);}.button.editable:before,.button.lock-scroll:before{color:inherit;}.button{display:inline-flex;justify-content:center;align-items:center;user-select:none;padding:0 5px;border:1px solid transparent;border-radius:3px;border:1px solid transparent;box-sizing:border-box;display:inline-flex;font-size:var(--label--font-size,0.75em);height:22px;user-select:none;white-space:nowrap;width:37px;}.button>span{display:none;margin:0;padding:0;}.hover-target:hover .button{position:relative;background-color:var(--icon--color);color:var(--plugin--background);opacity:1;display:flex;align-items:center;cursor:pointer;}.hover-target:hover .button:before{background-color:var(--plugin--background);}.hover-target:hover .button>span{display:block;position:absolute;top:calc(100% + 3px);left:50%;translate:-50%;margin:0;padding:5px;height:auto;white-space:pre-wrap;line-height:1;font-size:9px;background-color:var(--icon--color);width:35px;text-align:center;border-radius:0 0 3px 3px;}',Fw=class extends HTMLElement{connectedCallback(){if(this._initialized)return;this._initialized=!0,this.setAttribute("slot","plugin-settings"),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`
            <style>
                ${Iw}
            </style>
            <div id="toolbar">
                <span class="hover-target">
                    <span id="scroll_lock" class="button">
                        <span></span>
                    </span>
                </span>
                <span class="hover-target">
                    <span id="edit_mode" class="button" data-edit-mode="READ_ONLY">
                        <span></span>
                    </span>
                </span>
            </div>
        `;let t=this.parentElement,n=t.querySelector("perspective-viewer-datagrid");n._scroll_lock=this.shadowRoot.querySelector("#scroll_lock"),n._scroll_lock.addEventListener("click",()=>ch.call(n)),n._edit_button=this.shadowRoot.querySelector("#edit_mode"),n._edit_button.addEventListener("click",()=>{sh.call(n),n.regular_table.draw(),t.dispatchEvent(new Event("perspective-config-update"))})}};function Uw(){let e=document.createElement("style");e.textContent=Jd,document.head.insertBefore(e,document.head.firstChild)}async function jw(){customElements.define("perspective-viewer-datagrid-toolbar",Fw),customElements.define("perspective-viewer-datagrid",Wl),await customElements.whenDefined("perspective-viewer"),customElements.get("perspective-viewer").registerPlugin("perspective-viewer-datagrid")}jw();Uw();function Ai(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ww(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xs(e){let t,n,r;e.length!==2?(t=Ai,n=(l,s)=>Ai(e(l),s),r=(l,s)=>e(l)-s):(t=e===Ai||e===Ww?e:Bw,n=e,r=e);function i(l,s,c=0,u=l.length){if(c<u){if(t(s,s)!==0)return u;do{const d=c+u>>>1;n(l[d],s)<0?c=d+1:u=d}while(c<u)}return c}function a(l,s,c=0,u=l.length){if(c<u){if(t(s,s)!==0)return u;do{const d=c+u>>>1;n(l[d],s)<=0?c=d+1:u=d}while(c<u)}return c}function o(l,s,c=0,u=l.length){const d=i(l,s,c,u-1);return d>c&&r(l[d-1],s)>-r(l[d],s)?d-1:d}return{left:i,center:o,right:a}}function Bw(){return 0}function qw(e){return e===null?NaN:+e}const Hw=xs(Ai),Yw=Hw.right;xs(qw).center;function Xw(e,t){let n=0,r,i=0,a=0;for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));if(n>1)return a/(n-1)}function Gw(e,t){const n=Xw(e);return n&&Math.sqrt(n)}class yu extends Map{constructor(t,n=Jw){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(vu(this,t))}has(t){return super.has(vu(this,t))}set(t,n){return super.set(Kw(this,t),n)}delete(t){return super.delete(Qw(this,t))}}function vu({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Kw({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Qw({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Jw(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Zw=Math.sqrt(50),e1=Math.sqrt(10),t1=Math.sqrt(2);function qa(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Zw?10:a>=e1?5:a>=t1?2:1;let l,s,c;return i<0?(c=Math.pow(10,-i)/o,l=Math.round(e*c),s=Math.round(t*c),l/c<e&&++l,s/c>t&&--s,c=-c):(c=Math.pow(10,i)*o,l=Math.round(e/c),s=Math.round(t/c),l*c<e&&++l,s*c>t&&--s),s<l&&.5<=n&&n<2?qa(e,t,n*2):[l,s,c]}function Bl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?qa(t,e,n):qa(e,t,n);if(!(a>=i))return[];const l=a-i+1,s=new Array(l);if(r)if(o<0)for(let c=0;c<l;++c)s[c]=(a-c)/-o;else for(let c=0;c<l;++c)s[c]=(a-c)*o;else if(o<0)for(let c=0;c<l;++c)s[c]=(i+c)/-o;else for(let c=0;c<l;++c)s[c]=(i+c)*o;return s}function ql(e,t,n){return t=+t,e=+e,n=+n,qa(e,t,n)[2]}function Hl(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ql(t,e,n):ql(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Gn(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Nn(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function n1(e,t){let n=0,r=0;for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);if(n)return r/n}function r1(e,t=i1){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function i1(e,t){return[e,t]}function ks(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}const fh=(e,t,n)=>{const r=t[n];if(typeof r!="function")throw new Error(`Attempt to rebind ${n} which isn't a function on the source object`);return(...i)=>{var a=r.apply(t,i);return a===t?e:a}},mt=(e,t,...n)=>{for(const r of n)e[r]=fh(e,t,r);return e},a1=e=>t=>e.reduce((n,r)=>n&&r(n),t),ze=(e,t,...n)=>{const r=a1(n);for(const i of Object.keys(t)){const a=r(i);a&&(e[a]=fh(e,t,i))}return e},o1=e=>e.map(t=>typeof t=="string"?new RegExp(`^${t}$`):t),Ft=(...e)=>(e=o1(e),t=>e.every(n=>!n.test(t))&&t),Ha=e=>t=>e[t],l1=e=>e[0].toUpperCase()+e.slice(1),Tn=e=>t=>e+l1(t);function s1(e){return e}function c1(e){}function u1(e){return typeof e=="function"?e:()=>e}function xu(e){return typeof e=="number"&&isNaN(e)?void 0:e}function f1(){let e=()=>10,t=c1,n=s1,r=a=>a!=null;var i=function(a){const o=e.apply(this,arguments),l=a.slice(0,o).map(n);return a.map((s,c)=>(c>=o&&(l.shift(),l.push(n(s,c))),c<o-1||l.some(u=>!r(u))?t(void 0,c):t(l,c)))};return i.period=(...a)=>a.length?(e=u1(a[0]),i):e,i.accumulator=(...a)=>a.length?(t=a[0],i):t,i.defined=(...a)=>a.length?(r=a[0],i):r,i.value=(...a)=>a.length?(n=a[0],i):n,i}function d1(){let e=2;const t=f1().accumulator(r=>{const i=r&&Gw(r),a=r&&n1(r);return{average:a,upper:xu(a+e*i),lower:xu(a-e*i)}}),n=r=>t(r);return n.multiplier=(...r)=>r.length?(e=r[0],n):e,mt(n,t,"period","value"),n}function Or(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function h1(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ku=Symbol("implicit");function Ji(){var e=new yu,t=[],n=[],r=ku;function i(a){let o=e.get(a);if(o===void 0){if(r!==ku)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new yu;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ji(t,n).unknown(r)},Or.apply(i,arguments),i}function Zi(){var e=Ji().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,s=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,h=i<r,g=h?i:r,p=h?r:i;a=(p-g)/Math.max(1,f-s+c*2),l&&(a=Math.floor(a)),g+=(p-g-a*(f-s))*u,o=a*(1-s),l&&(g=Math.round(g),o=Math.round(o));var x=ks(f).map(function(b){return g+a*b});return n(h?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(l=!!f,d()):l},e.padding=function(f){return arguments.length?(s=Math.min(1,c=+f),d()):s},e.paddingInner=function(f){return arguments.length?(s=Math.min(1,f),d()):s},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return Zi(t(),[r,i]).round(l).paddingInner(s).paddingOuter(c).align(u)},Or.apply(d(),arguments)}function Ss(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dh(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ea(){}var Pi=.7,Ya=1/Pi,mr="\\s*([+-]?\\d+)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_1=/^#([0-9a-f]{3,8})$/,g1=new RegExp(`^rgb\\(${mr},${mr},${mr}\\)$`),p1=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),b1=new RegExp(`^rgba\\(${mr},${mr},${mr},${Ii}\\)$`),m1=new RegExp(`^rgba\\(${nn},${nn},${nn},${Ii}\\)$`),w1=new RegExp(`^hsl\\(${Ii},${nn},${nn}\\)$`),y1=new RegExp(`^hsla\\(${Ii},${nn},${nn},${Ii}\\)$`),Su={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ss(ea,an,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Mu,formatHex:Mu,formatHex8:v1,formatHsl:x1,formatRgb:Eu,toString:Eu});function Mu(){return this.rgb().formatHex()}function v1(){return this.rgb().formatHex8()}function x1(){return hh(this).formatHsl()}function Eu(){return this.rgb().formatRgb()}function an(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Au(t):n===3?new Et(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wa(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wa(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g1.exec(e))?new Et(t[1],t[2],t[3],1):(t=p1.exec(e))?new Et(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=b1.exec(e))?wa(t[1],t[2],t[3],t[4]):(t=m1.exec(e))?wa(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=w1.exec(e))?Cu(t[1],t[2]/100,t[3]/100,1):(t=y1.exec(e))?Cu(t[1],t[2]/100,t[3]/100,t[4]):Su.hasOwnProperty(e)?Au(Su[e]):e==="transparent"?new Et(NaN,NaN,NaN,0):null}function Au(e){return new Et(e>>16&255,e>>8&255,e&255,1)}function wa(e,t,n,r){return r<=0&&(e=t=n=NaN),new Et(e,t,n,r)}function k1(e){return e instanceof ea||(e=an(e)),e?(e=e.rgb(),new Et(e.r,e.g,e.b,e.opacity)):new Et}function Yl(e,t,n,r){return arguments.length===1?k1(e):new Et(e,t,n,r??1)}function Et(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ss(Et,Yl,dh(ea,{brighter(e){return e=e==null?Ya:Math.pow(Ya,e),new Et(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pi:Math.pow(Pi,e),new Et(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Et(Kn(this.r),Kn(this.g),Kn(this.b),Xa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$u,formatHex:$u,formatHex8:S1,formatRgb:Tu,toString:Tu}));function $u(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}`}function S1(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}${qn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tu(){const e=Xa(this.opacity);return`${e===1?"rgb(":"rgba("}${Kn(this.r)}, ${Kn(this.g)}, ${Kn(this.b)}${e===1?")":`, ${e})`}`}function Xa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qn(e){return e=Kn(e),(e<16?"0":"")+e.toString(16)}function Cu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ht(e,t,n,r)}function hh(e){if(e instanceof Ht)return new Ht(e.h,e.s,e.l,e.opacity);if(e instanceof ea||(e=an(e)),!e)return new Ht;if(e instanceof Ht)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new Ht(o,l,s,e.opacity)}function M1(e,t,n,r){return arguments.length===1?hh(e):new Ht(e,t,n,r??1)}function Ht(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ss(Ht,M1,dh(ea,{brighter(e){return e=e==null?Ya:Math.pow(Ya,e),new Ht(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pi:Math.pow(Pi,e),new Ht(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Et(pl(e>=240?e-240:e+120,i,r),pl(e,i,r),pl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ht(Nu(this.h),ya(this.s),ya(this.l),Xa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xa(this.opacity);return`${e===1?"hsl(":"hsla("}${Nu(this.h)}, ${ya(this.s)*100}%, ${ya(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Nu(e){return e=(e||0)%360,e<0?e+360:e}function ya(e){return Math.max(0,Math.min(1,e||0))}function pl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ms=e=>()=>e;function E1(e,t){return function(n){return e+n*t}}function A1(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function $1(e){return(e=+e)==1?_h:function(t,n){return n-t?A1(t,n,e):Ms(isNaN(t)?n:t)}}function _h(e,t){var n=t-e;return n?E1(e,n):Ms(isNaN(e)?t:e)}const Ga=function e(t){var n=$1(t);function r(i,a){var o=n((i=Yl(i)).r,(a=Yl(a)).r),l=n(i.g,a.g),s=n(i.b,a.b),c=_h(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=s(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function T1(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function C1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function N1(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Rn(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function O1(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Bt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function L1(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Rn(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Xl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bl=new RegExp(Xl.source,"g");function z1(e){return function(){return e}}function R1(e){return function(t){return e(t)+""}}function gh(e,t){var n=Xl.lastIndex=bl.lastIndex=0,r,i,a,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=Xl.exec(e))&&(i=bl.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,s.push({i:o,x:Bt(r,i)})),n=bl.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?R1(s[0].x):z1(t):(t=s.length,function(c){for(var u=0,d;u<t;++u)l[(d=s[u]).i]=d.x(c);return l.join("")})}function Rn(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ms(t):(n==="number"?Bt:n==="string"?(r=an(t))?(t=r,Ga):gh:t instanceof an?Ga:t instanceof Date?O1:C1(t)?T1:Array.isArray(t)?N1:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?L1:Bt)(e,t)}function ph(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Ou=180/Math.PI,Gl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bh(e,t,n,r,i,a){var o,l,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Ou,skewX:Math.atan(s)*Ou,scaleX:o,scaleY:l}}var va;function V1(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Gl:bh(t.a,t.b,t.c,t.d,t.e,t.f)}function D1(e){return e==null||(va||(va=document.createElementNS("http://www.w3.org/2000/svg","g")),va.setAttribute("transform",e),!(e=va.transform.baseVal.consolidate()))?Gl:(e=e.matrix,bh(e.a,e.b,e.c,e.d,e.e,e.f))}function mh(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,f,h,g){if(c!==d||u!==f){var p=h.push("translate(",null,t,null,n);g.push({i:p-4,x:Bt(c,d)},{i:p-2,x:Bt(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Bt(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function l(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Bt(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function s(c,u,d,f,h,g){if(c!==d||u!==f){var p=h.push(i(h)+"scale(",null,",",null,")");g.push({i:p-4,x:Bt(c,d)},{i:p-2,x:Bt(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),l(c.skewX,u.skewX,d,f),s(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var g=-1,p=f.length,x;++g<p;)d[(x=f[g]).i]=x.x(h);return d.join("")}}}var P1=mh(V1,"px, ","px)","deg)"),I1=mh(D1,", ",")",")"),F1=1e-12;function Lu(e){return((e=Math.exp(e))+1/e)/2}function U1(e){return((e=Math.exp(e))-1/e)/2}function j1(e){return((e=Math.exp(2*e))-1)/(e+1)}const W1=function e(t,n,r){function i(a,o){var l=a[0],s=a[1],c=a[2],u=o[0],d=o[1],f=o[2],h=u-l,g=d-s,p=h*h+g*g,x,b;if(p<F1)b=Math.log(f/c)/t,x=function(D){return[l+D*h,s+D*g,c*Math.exp(t*D*b)]};else{var A=Math.sqrt(p),$=(f*f-c*c+r*p)/(2*c*n*A),E=(f*f-c*c-r*p)/(2*f*n*A),y=Math.log(Math.sqrt($*$+1)-$),k=Math.log(Math.sqrt(E*E+1)-E);b=(k-y)/t,x=function(D){var L=D*b,G=Lu(y),Y=c/(n*A)*(G*j1(t*L+y)-U1(y));return[l+Y*h,s+Y*g,c*G/Lu(t*L+y)]}}return x.duration=b*1e3*t/Math.SQRT2,x}return i.rho=function(a){var o=Math.max(.001,+a),l=o*o,s=l*l;return e(o,l,s)},i}(Math.SQRT2,2,4);function B1(e){return function(){return e}}function Kl(e){return+e}var zu=[0,1];function Dt(e){return e}function Ql(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:B1(isNaN(t)?NaN:.5)}function q1(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function H1(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Ql(i,r),a=n(o,a)):(r=Ql(r,i),a=n(a,o)),function(l){return a(r(l))}}function Y1(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Ql(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var s=Yw(e,l,1,r)-1;return a[s](i[s](l))}}function wo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Es(){var e=zu,t=zu,n=Rn,r,i,a,o=Dt,l,s,c;function u(){var f=Math.min(e.length,t.length);return o!==Dt&&(o=q1(e[0],e[f-1])),l=f>2?Y1:H1,s=c=null,d}function d(f){return f==null||isNaN(f=+f)?a:(s||(s=l(e.map(r),t,n)))(r(o(f)))}return d.invert=function(f){return o(i((c||(c=l(t,e.map(r),Bt)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Kl),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=ph,u()},d.clamp=function(f){return arguments.length?(o=f?!0:Dt,u()):o!==Dt},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return r=f,i=h,u()}}function wh(){return Es()(Dt,Dt)}function X1(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ka(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Sr(e){return e=Ka(Math.abs(e)),e?e[1]:NaN}function G1(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function K1(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Q1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fi(e){if(!(t=Q1.exec(e)))throw new Error("invalid format: "+e);var t;return new As({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fi.prototype=As.prototype;function As(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}As.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function J1(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var yh;function Z1(e,t){var n=Ka(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(yh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ka(e,Math.max(0,t+a-1))[0]}function Ru(e,t){var n=Ka(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Vu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:X1,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ru(e*100,t),r:Ru,s:Z1,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Du(e){return e}var Pu=Array.prototype.map,Iu=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function ey(e){var t=e.grouping===void 0||e.thousands===void 0?Du:G1(Pu.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Du:K1(Pu.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"âˆ’":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Fi(d);var f=d.fill,h=d.align,g=d.sign,p=d.symbol,x=d.zero,b=d.width,A=d.comma,$=d.precision,E=d.trim,y=d.type;y==="n"?(A=!0,y="g"):Vu[y]||($===void 0&&($=12),E=!0,y="g"),(x||f==="0"&&h==="=")&&(x=!0,f="0",h="=");var k=p==="$"?n:p==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",D=p==="$"?r:/[%p]/.test(y)?o:"",L=Vu[y],G=/[defgprs%]/.test(y);$=$===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function Y(U){var re=k,q=D,N,W,R;if(y==="c")q=L(U)+q,U="";else{U=+U;var Q=U<0||1/U<0;if(U=isNaN(U)?s:L(Math.abs(U),$),E&&(U=J1(U)),Q&&+U==0&&g!=="+"&&(Q=!1),re=(Q?g==="("?g:l:g==="-"||g==="("?"":g)+re,q=(y==="s"?Iu[8+yh/3]:"")+q+(Q&&g==="("?")":""),G){for(N=-1,W=U.length;++N<W;)if(R=U.charCodeAt(N),48>R||R>57){q=(R===46?i+U.slice(N+1):U.slice(N))+q,U=U.slice(0,N);break}}}A&&!x&&(U=t(U,1/0));var V=re.length+U.length+q.length,j=V<b?new Array(b-V+1).join(f):"";switch(A&&x&&(U=t(j+U,j.length?b-q.length:1/0),j=""),h){case"<":U=re+U+q+j;break;case"=":U=re+j+U+q;break;case"^":U=j.slice(0,V=j.length>>1)+re+U+q+j.slice(V);break;default:U=j+re+U+q;break}return a(U)}return Y.toString=function(){return d+""},Y}function u(d,f){var h=c((d=Fi(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Sr(f)/3)))*3,p=Math.pow(10,-g),x=Iu[8+g/3];return function(b){return h(p*b)+x}}return{format:c,formatPrefix:u}}var xa,wr,vh;ty({thousands:",",grouping:[3],currency:["$",""]});function ty(e){return xa=ey(e),wr=xa.format,vh=xa.formatPrefix,xa}function ny(e){return Math.max(0,-Sr(Math.abs(e)))}function ry(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sr(t)/3)))*3-Sr(Math.abs(e)))}function iy(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sr(t)-Sr(e))+1}function ay(e,t,n,r){var i=Hl(e,t,n),a;switch(r=Fi(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=ry(i,o))&&(r.precision=a),vh(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=iy(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=ny(i))&&(r.precision=a-(r.type==="%")*2);break}}return wr(r)}function yo(e){var t=e.domain;return e.ticks=function(n){var r=t();return Bl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return ay(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],s,c,u=10;for(l<o&&(c=o,o=l,l=c,c=i,i=a,a=c);u-- >0;){if(c=ql(o,l,n),c===s)return r[i]=o,r[a]=l,t(r);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;s=c}return e},e}function On(){var e=wh();return e.copy=function(){return wo(e,On())},Or.apply(e,arguments),yo(e)}function Ct(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Kl),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ct(e).unknown(t)},e=arguments.length?Array.from(e,Kl):[0,1],yo(n)}function xh(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Fu(e){return Math.log(e)}function Uu(e){return Math.exp(e)}function oy(e){return-Math.log(-e)}function ly(e){return-Math.exp(-e)}function sy(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cy(e){return e===10?sy:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uy(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ju(e){return(t,n)=>-e(-t,n)}function fy(e){const t=e(Fu,Uu),n=t.domain;let r=10,i,a;function o(){return i=uy(r),a=cy(r),n()[0]<0?(i=ju(i),a=ju(a),e(oy,ly)):e(Fu,Uu),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const s=n();let c=s[0],u=s[s.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),h=i(u),g,p;const x=l==null?10:+l;let b=[];if(!(r%1)&&h-f<x){if(f=Math.floor(f),h=Math.ceil(h),c>0){for(;f<=h;++f)for(g=1;g<r;++g)if(p=f<0?g/a(-f):g*a(f),!(p<c)){if(p>u)break;b.push(p)}}else for(;f<=h;++f)for(g=r-1;g>=1;--g)if(p=f>0?g/a(-f):g*a(f),!(p<c)){if(p>u)break;b.push(p)}b.length*2<x&&(b=Bl(c,u,x))}else b=Bl(f,h,Math.min(h-f,x)).map(a);return d?b.reverse():b},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Fi(s)).precision==null&&(s.trim=!0),s=wr(s)),l===1/0)return s;const c=Math.max(1,r*l/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?s(u):""}},t.nice=()=>n(xh(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function kh(){const e=fy(Es()).domain([1,10]);return e.copy=()=>wo(e,kh()).base(e.base()),Or.apply(e,arguments),e}function Wu(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dy(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hy(e){return e<0?-e*e:e*e}function _y(e){var t=e(Dt,Dt),n=1;function r(){return n===1?e(Dt,Dt):n===.5?e(dy,hy):e(Wu(n),Wu(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},yo(t)}function Sh(){var e=_y(Es());return e.copy=function(){return wo(e,Sh()).exponent(e.exponent())},Or.apply(e,arguments),e}const ml=new Date,wl=new Date;function ot(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const s=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return s;let c;do s.push(c=new Date(+a)),t(a,l),e(a);while(c<a&&a<o);return s},i.filter=a=>ot(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(ml.setTime(+a),wl.setTime(+o),e(ml),e(wl),Math.floor(n(ml,wl))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Qa=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qa.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Qa);Qa.range;const dn=1e3,Pt=dn*60,hn=Pt*60,pn=hn*24,$s=pn*7,Bu=pn*30,yl=pn*365,dr=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getUTCSeconds());dr.range;const Ts=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dn)},(e,t)=>{e.setTime(+e+t*Pt)},(e,t)=>(t-e)/Pt,e=>e.getMinutes());Ts.range;const gy=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Pt)},(e,t)=>(t-e)/Pt,e=>e.getUTCMinutes());gy.range;const Cs=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dn-e.getMinutes()*Pt)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getHours());Cs.range;const py=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getUTCHours());py.range;const ta=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pt)/pn,e=>e.getDate()-1);ta.range;const Ns=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pn,e=>e.getUTCDate()-1);Ns.range;const by=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pn,e=>Math.floor(e/pn));by.range;function ir(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Pt)/$s)}const vo=ir(0),Ja=ir(1),my=ir(2),wy=ir(3),Mr=ir(4),yy=ir(5),vy=ir(6);vo.range;Ja.range;my.range;wy.range;Mr.range;yy.range;vy.range;function ar(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$s)}const Mh=ar(0),Za=ar(1),xy=ar(2),ky=ar(3),Er=ar(4),Sy=ar(5),My=ar(6);Mh.range;Za.range;xy.range;ky.range;Er.range;Sy.range;My.range;const Os=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Os.range;const Ey=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ey.range;const bn=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});bn.range;const Zn=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Zn.range;function Ay(e,t,n,r,i,a){const o=[[dr,1,dn],[dr,5,5*dn],[dr,15,15*dn],[dr,30,30*dn],[a,1,Pt],[a,5,5*Pt],[a,15,15*Pt],[a,30,30*Pt],[i,1,hn],[i,3,3*hn],[i,6,6*hn],[i,12,12*hn],[r,1,pn],[r,2,2*pn],[n,1,$s],[t,1,Bu],[t,3,3*Bu],[e,1,yl]];function l(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:s(c,u,d),g=h?h.range(c,+u+1):[];return f?g.reverse():g}function s(c,u,d){const f=Math.abs(u-c)/d,h=xs(([,,x])=>x).right(o,f);if(h===o.length)return e.every(Hl(c/yl,u/yl,d));if(h===0)return Qa.every(Math.max(Hl(c,u,d),1));const[g,p]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return g.every(p)}return[l,s]}const[$y,Ty]=Ay(bn,Os,vo,ta,Cs,Ts);function vl(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xl(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function li(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Cy(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,c=si(i),u=ci(i),d=si(a),f=ci(a),h=si(o),g=ci(o),p=si(l),x=ci(l),b=si(s),A=ci(s),$={a:Q,A:V,b:j,B:I,c:null,d:Ku,e:Ku,f:Zy,g:cv,G:fv,H:Ky,I:Qy,j:Jy,L:Eh,m:ev,M:tv,p:ae,q:ue,Q:Zu,s:ef,S:nv,u:rv,U:iv,V:av,w:ov,W:lv,x:null,X:null,y:sv,Y:uv,Z:dv,"%":Ju},E={a:F,A:K,b:ge,B:xe,c:null,d:Qu,e:Qu,f:pv,g:Ev,G:$v,H:hv,I:_v,j:gv,L:$h,m:bv,M:mv,p:Ee,q:Ie,Q:Zu,s:ef,S:wv,u:yv,U:vv,V:xv,w:kv,W:Sv,x:null,X:null,y:Mv,Y:Av,Z:Tv,"%":Ju},y={a:Y,A:U,b:re,B:q,c:N,d:Xu,e:Xu,f:Hy,g:Yu,G:Hu,H:Gu,I:Gu,j:jy,L:qy,m:Uy,M:Wy,p:G,q:Fy,Q:Xy,s:Gy,S:By,u:Ry,U:Vy,V:Dy,w:zy,W:Py,x:W,X:R,y:Yu,Y:Hu,Z:Iy,"%":Yy};$.x=k(n,$),$.X=k(r,$),$.c=k(t,$),E.x=k(n,E),E.X=k(r,E),E.c=k(t,E);function k(le,ke){return function($e){var ne=[],Pe=-1,Te=0,_t=le.length,Me,Kt,Fr;for($e instanceof Date||($e=new Date(+$e));++Pe<_t;)le.charCodeAt(Pe)===37&&(ne.push(le.slice(Te,Pe)),(Kt=qu[Me=le.charAt(++Pe)])!=null?Me=le.charAt(++Pe):Kt=Me==="e"?" ":"0",(Fr=ke[Me])&&(Me=Fr($e,Kt)),ne.push(Me),Te=Pe+1);return ne.push(le.slice(Te,Pe)),ne.join("")}}function D(le,ke){return function($e){var ne=li(1900,void 0,1),Pe=L(ne,le,$e+="",0),Te,_t;if(Pe!=$e.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ke&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Te=xl(li(ne.y,0,1)),_t=Te.getUTCDay(),Te=_t>4||_t===0?Za.ceil(Te):Za(Te),Te=Ns.offset(Te,(ne.V-1)*7),ne.y=Te.getUTCFullYear(),ne.m=Te.getUTCMonth(),ne.d=Te.getUTCDate()+(ne.w+6)%7):(Te=vl(li(ne.y,0,1)),_t=Te.getDay(),Te=_t>4||_t===0?Ja.ceil(Te):Ja(Te),Te=ta.offset(Te,(ne.V-1)*7),ne.y=Te.getFullYear(),ne.m=Te.getMonth(),ne.d=Te.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),_t="Z"in ne?xl(li(ne.y,0,1)).getUTCDay():vl(li(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(_t+5)%7:ne.w+ne.U*7-(_t+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,xl(ne)):vl(ne)}}function L(le,ke,$e,ne){for(var Pe=0,Te=ke.length,_t=$e.length,Me,Kt;Pe<Te;){if(ne>=_t)return-1;if(Me=ke.charCodeAt(Pe++),Me===37){if(Me=ke.charAt(Pe++),Kt=y[Me in qu?ke.charAt(Pe++):Me],!Kt||(ne=Kt(le,$e,ne))<0)return-1}else if(Me!=$e.charCodeAt(ne++))return-1}return ne}function G(le,ke,$e){var ne=c.exec(ke.slice($e));return ne?(le.p=u.get(ne[0].toLowerCase()),$e+ne[0].length):-1}function Y(le,ke,$e){var ne=h.exec(ke.slice($e));return ne?(le.w=g.get(ne[0].toLowerCase()),$e+ne[0].length):-1}function U(le,ke,$e){var ne=d.exec(ke.slice($e));return ne?(le.w=f.get(ne[0].toLowerCase()),$e+ne[0].length):-1}function re(le,ke,$e){var ne=b.exec(ke.slice($e));return ne?(le.m=A.get(ne[0].toLowerCase()),$e+ne[0].length):-1}function q(le,ke,$e){var ne=p.exec(ke.slice($e));return ne?(le.m=x.get(ne[0].toLowerCase()),$e+ne[0].length):-1}function N(le,ke,$e){return L(le,t,ke,$e)}function W(le,ke,$e){return L(le,n,ke,$e)}function R(le,ke,$e){return L(le,r,ke,$e)}function Q(le){return o[le.getDay()]}function V(le){return a[le.getDay()]}function j(le){return s[le.getMonth()]}function I(le){return l[le.getMonth()]}function ae(le){return i[+(le.getHours()>=12)]}function ue(le){return 1+~~(le.getMonth()/3)}function F(le){return o[le.getUTCDay()]}function K(le){return a[le.getUTCDay()]}function ge(le){return s[le.getUTCMonth()]}function xe(le){return l[le.getUTCMonth()]}function Ee(le){return i[+(le.getUTCHours()>=12)]}function Ie(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ke=k(le+="",$);return ke.toString=function(){return le},ke},parse:function(le){var ke=D(le+="",!1);return ke.toString=function(){return le},ke},utcFormat:function(le){var ke=k(le+="",E);return ke.toString=function(){return le},ke},utcParse:function(le){var ke=D(le+="",!0);return ke.toString=function(){return le},ke}}}var qu={"-":"",_:" ",0:"0"},lt=/^\s*\d+/,Ny=/^%/,Oy=/[\\^$*+?|[\]().{}]/g;function je(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Ly(e){return e.replace(Oy,"\\$&")}function si(e){return new RegExp("^(?:"+e.map(Ly).join("|")+")","i")}function ci(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function zy(e,t,n){var r=lt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ry(e,t,n){var r=lt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Vy(e,t,n){var r=lt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Dy(e,t,n){var r=lt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Py(e,t,n){var r=lt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Hu(e,t,n){var r=lt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yu(e,t,n){var r=lt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Iy(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Fy(e,t,n){var r=lt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Uy(e,t,n){var r=lt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Xu(e,t,n){var r=lt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function jy(e,t,n){var r=lt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Gu(e,t,n){var r=lt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Wy(e,t,n){var r=lt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function By(e,t,n){var r=lt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qy(e,t,n){var r=lt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Hy(e,t,n){var r=lt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Yy(e,t,n){var r=Ny.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Xy(e,t,n){var r=lt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Gy(e,t,n){var r=lt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ku(e,t){return je(e.getDate(),t,2)}function Ky(e,t){return je(e.getHours(),t,2)}function Qy(e,t){return je(e.getHours()%12||12,t,2)}function Jy(e,t){return je(1+ta.count(bn(e),e),t,3)}function Eh(e,t){return je(e.getMilliseconds(),t,3)}function Zy(e,t){return Eh(e,t)+"000"}function ev(e,t){return je(e.getMonth()+1,t,2)}function tv(e,t){return je(e.getMinutes(),t,2)}function nv(e,t){return je(e.getSeconds(),t,2)}function rv(e){var t=e.getDay();return t===0?7:t}function iv(e,t){return je(vo.count(bn(e)-1,e),t,2)}function Ah(e){var t=e.getDay();return t>=4||t===0?Mr(e):Mr.ceil(e)}function av(e,t){return e=Ah(e),je(Mr.count(bn(e),e)+(bn(e).getDay()===4),t,2)}function ov(e){return e.getDay()}function lv(e,t){return je(Ja.count(bn(e)-1,e),t,2)}function sv(e,t){return je(e.getFullYear()%100,t,2)}function cv(e,t){return e=Ah(e),je(e.getFullYear()%100,t,2)}function uv(e,t){return je(e.getFullYear()%1e4,t,4)}function fv(e,t){var n=e.getDay();return e=n>=4||n===0?Mr(e):Mr.ceil(e),je(e.getFullYear()%1e4,t,4)}function dv(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+je(t/60|0,"0",2)+je(t%60,"0",2)}function Qu(e,t){return je(e.getUTCDate(),t,2)}function hv(e,t){return je(e.getUTCHours(),t,2)}function _v(e,t){return je(e.getUTCHours()%12||12,t,2)}function gv(e,t){return je(1+Ns.count(Zn(e),e),t,3)}function $h(e,t){return je(e.getUTCMilliseconds(),t,3)}function pv(e,t){return $h(e,t)+"000"}function bv(e,t){return je(e.getUTCMonth()+1,t,2)}function mv(e,t){return je(e.getUTCMinutes(),t,2)}function wv(e,t){return je(e.getUTCSeconds(),t,2)}function yv(e){var t=e.getUTCDay();return t===0?7:t}function vv(e,t){return je(Mh.count(Zn(e)-1,e),t,2)}function Th(e){var t=e.getUTCDay();return t>=4||t===0?Er(e):Er.ceil(e)}function xv(e,t){return e=Th(e),je(Er.count(Zn(e),e)+(Zn(e).getUTCDay()===4),t,2)}function kv(e){return e.getUTCDay()}function Sv(e,t){return je(Za.count(Zn(e)-1,e),t,2)}function Mv(e,t){return je(e.getUTCFullYear()%100,t,2)}function Ev(e,t){return e=Th(e),je(e.getUTCFullYear()%100,t,2)}function Av(e,t){return je(e.getUTCFullYear()%1e4,t,4)}function $v(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Er(e):Er.ceil(e),je(e.getUTCFullYear()%1e4,t,4)}function Tv(){return"+0000"}function Ju(){return"%"}function Zu(e){return+e}function ef(e){return Math.floor(+e/1e3)}var ur,Ch;Cv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cv(e){return ur=Cy(e),Ch=ur.format,ur.parse,ur.utcFormat,ur.utcParse,ur}function Nv(e){return new Date(e)}function Ov(e){return e instanceof Date?+e:+new Date(+e)}function Nh(e,t,n,r,i,a,o,l,s,c){var u=wh(),d=u.invert,f=u.domain,h=c(".%L"),g=c(":%S"),p=c("%I:%M"),x=c("%I %p"),b=c("%a %d"),A=c("%b %d"),$=c("%B"),E=c("%Y");function y(k){return(s(k)<k?h:l(k)<k?g:o(k)<k?p:a(k)<k?x:r(k)<k?i(k)<k?b:A:n(k)<k?$:E)(k)}return u.invert=function(k){return new Date(d(k))},u.domain=function(k){return arguments.length?f(Array.from(k,Ov)):f().map(Nv)},u.ticks=function(k){var D=f();return e(D[0],D[D.length-1],k??10)},u.tickFormat=function(k,D){return D==null?y:c(D)},u.nice=function(k){var D=f();return(!k||typeof k.range!="function")&&(k=t(D[0],D[D.length-1],k??10)),k?f(xh(D,k)):u},u.copy=function(){return wo(u,Nh(e,t,n,r,i,a,o,l,s,c))},u}function Oh(){return Or.apply(Nh($y,Ty,bn,Os,vo,ta,Cs,Ts,dr,Ch).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Lv(){var e=0,t=1,n,r,i,a,o=Dt,l=!1,s;function c(d){return d==null||isNaN(d=+d)?s:o(i===0?.5:(d=(a(d)-n)*i,l?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(l=!!d,c):l},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(f){var h,g;return arguments.length?([h,g]=f,o=d(h,g),c):[o(0),o(1)]}}return c.range=u(Rn),c.rangeRound=u(ph),c.unknown=function(d){return arguments.length?(s=d,c):s},function(d){return a=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),c}}function zv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Lh(){var e=yo(Lv()(Dt));return e.copy=function(){return zv(e,Lh())},h1.apply(e,arguments)}function zh(){let e=[o=>o],t=[0,0],n="percent",r=null,i=[];const a=o=>{const l=new Array(o.length);for(const c of e)for(let u=0;u<o.length;u++){const d=c(o[u],u);Array.isArray(d)?l.push(...d):l.push(d)}const s=[Nn(l),Gn(l)];if(s[0]=s[0]==null?Nn(i):Nn([s[0],...i]),s[1]=s[1]==null?Gn(i):Gn([s[1],...i]),r!=null){const c=Math.max(Math.abs(s[1]-r),Math.abs(s[0]-r));s[0]=r-c,s[1]=r+c}switch(n){case"domain":{s[0]-=t[0],s[1]+=t[1];break}case"percent":{const c=s[1]-s[0];s[0]-=t[0]*c,s[1]+=t[1]*c;break}default:throw new Error(`Unknown padUnit: ${n}`)}return s};return a.accessors=(...o)=>o.length?(e=o[0],a):e,a.pad=(...o)=>o.length?(t=o[0],a):t,a.padUnit=(...o)=>o.length?(n=o[0],a):n,a.include=(...o)=>o.length?(i=o[0],a):i,a.symmetricalAbout=(...o)=>o.length?(r=o[0],a):r,a}function Rv(){let e=[],t=[0,0],n="percent",r=null,i=[];const a=zh(),o=s=>s!=null?s.valueOf():null,l=s=>{const c=e.map(u=>(...d)=>{const f=u(...d);return Array.isArray(f)?f.map(o):o(f)});return a.accessors(c).pad(t).padUnit(n).symmetricalAbout(r!=null?r.valueOf():null).include(i.map(u=>u.valueOf())),a(s).map(u=>new Date(u))};return l.accessors=(...s)=>s.length?(e=s[0],l):e,l.pad=(...s)=>s.length?(t=s[0],l):t,l.padUnit=(...s)=>s.length?(n=s[0],l):n,l.include=(...s)=>s.length?(i=s[0],l):i,l.symmetricalAbout=(...s)=>s.length?(r=s[0],l):r,l}const Jl=Math.PI,Zl=2*Jl,jn=1e-6,Vv=Zl-jn;function Rh(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Dv(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Rh;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ls{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Rh:Dv(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,s=r-t,c=i-n,u=o-t,d=l-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>jn)if(!(Math.abs(d*s-c*u)>jn)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,g=i-l,p=s*s+c*c,x=h*h+g*g,b=Math.sqrt(p),A=Math.sqrt(f),$=a*Math.tan((Jl-Math.acos((p+f-x)/(2*b*A)))/2),E=$/A,y=$/b;Math.abs(E-1)>jn&&this._append`L${t+E*u},${n+E*d}`,this._append`A${a},${a},0,0,${+(d*h>u*g)},${this._x1=t+y*s},${this._y1=n+y*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),c=t+l,u=n+s,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>jn||Math.abs(this._y1-u)>jn)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%Zl+Zl),f>Vv?this._append`A${r},${r},0,1,${d},${t-l},${n-s}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>jn&&this._append`A${r},${r},0,${+(f>=Jl)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function xo(){return new Ls}xo.prototype=Ls.prototype;const rt=e=>typeof e=="function"?e:()=>e,Pv=()=>{let e=null,t=c=>c.date,n=c=>c.open,r=c=>c.high,i=c=>c.low,a=c=>c.close,o="vertical",l=rt(3);const s=function(c){const u=e||xo();return c.forEach(function(d,f){const h=t(d,f),g=n(d,f),p=r(d,f),x=i(d,f),b=a(d,f),A=l(d,f)/2;o==="vertical"?(u.moveTo(h,x),u.lineTo(h,p),u.moveTo(h,g),u.lineTo(h-A,g),u.moveTo(h,b),u.lineTo(h+A,b)):(u.moveTo(x,h),u.lineTo(p,h),u.moveTo(g,h),u.lineTo(g,h+A),u.moveTo(b,h),u.lineTo(b,h-A))}),e?null:u.toString()};return s.context=(...c)=>c.length?(e=c[0],s):e,s.x=(...c)=>c.length?(t=rt(c[0]),s):t,s.open=(...c)=>c.length?(n=rt(c[0]),s):n,s.high=(...c)=>c.length?(r=rt(c[0]),s):r,s.low=(...c)=>c.length?(i=rt(c[0]),s):i,s.close=(...c)=>c.length?(a=rt(c[0]),s):a,s.width=(...c)=>c.length?(l=rt(c[0]),s):l,s.orient=(...c)=>c.length?(o=c[0],s):o,s},Vh=()=>{let e=null,t=s=>s.x,n=s=>s.y,r="center",i="center",a=s=>s.height,o=rt(3);const l=function(s,c){const u=e||xo();return s.forEach(function(d,f){const h=t.call(this,d,c||f),g=n.call(this,d,c||f),p=a.call(this,d,c||f),x=o.call(this,d,c||f);let b;switch(r){case"left":b=x;break;case"right":b=0;break;case"center":b=x/2;break;default:throw new Error("Invalid horizontal alignment "+r)}let A;switch(i){case"bottom":A=-p;break;case"top":A=0;break;case"center":A=p/2;break;default:throw new Error("Invalid vertical alignment "+i)}u.rect(h-b,g-A,x,p)},this),e?null:u.toString()};return l.context=(...s)=>s.length?(e=s[0],l):e,l.x=(...s)=>s.length?(t=rt(s[0]),l):t,l.y=(...s)=>s.length?(n=rt(s[0]),l):n,l.width=(...s)=>s.length?(o=rt(s[0]),l):o,l.horizontalAlign=(...s)=>s.length?(r=s[0],l):r,l.height=(...s)=>s.length?(a=rt(s[0]),l):a,l.verticalAlign=(...s)=>s.length?(i=s[0],l):i,l},Iv=()=>{let e=null,t=s=>s.date,n=s=>s.open,r=s=>s.high,i=s=>s.low,a=s=>s.close,o=rt(3);const l=function(s){const c=e||xo();return s.forEach(function(u,d){const f=t(u,d),h=n(u,d),g=r(u,d),p=i(u,d),x=a(u,d),b=o(u,d),A=b/2;c.rect(f-A,h,b,x-h),c.moveTo(f,Math.min(x,h)),c.lineTo(f,g),c.moveTo(f,Math.max(x,h)),c.lineTo(f,p)}),e?null:c.toString()};return l.context=(...s)=>s.length?(e=s[0],l):e,l.x=(...s)=>s.length?(t=rt(s[0]),l):t,l.open=(...s)=>s.length?(n=rt(s[0]),l):n,l.high=(...s)=>s.length?(r=rt(s[0]),l):r,l.low=(...s)=>s.length?(i=rt(s[0]),l):i,l.close=(...s)=>s.length?(a=rt(s[0]),l):a,l.width=(...s)=>s.length?(o=rt(s[0]),l):o,l};var es="http://www.w3.org/1999/xhtml";const tf={svg:"http://www.w3.org/2000/svg",xhtml:es,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ko(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),tf.hasOwnProperty(t)?{space:tf[t],local:e}:e}function Fv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===es&&t.documentElement.namespaceURI===es?t.createElement(e):t.createElementNS(n,e)}}function Uv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Dh(e){var t=ko(e);return(t.local?Uv:Fv)(t)}function jv(){}function zs(e){return e==null?jv:function(){return this.querySelector(e)}}function Wv(e){typeof e!="function"&&(e=zs(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=new Array(o),s,c,u=0;u<o;++u)(s=a[u])&&(c=e.call(s,s.__data__,u,a))&&("__data__"in s&&(c.__data__=s.__data__),l[u]=c);return new yt(r,this._parents)}function Ph(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Bv(){return[]}function Ih(e){return e==null?Bv:function(){return this.querySelectorAll(e)}}function qv(e){return function(){return Ph(e.apply(this,arguments))}}function Hv(e){typeof e=="function"?e=qv(e):e=Ih(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],l=o.length,s,c=0;c<l;++c)(s=o[c])&&(r.push(e.call(s,s.__data__,c,o)),i.push(s));return new yt(r,i)}function Fh(e){return function(){return this.matches(e)}}function Uh(e){return function(t){return t.matches(e)}}var Yv=Array.prototype.find;function Xv(e){return function(){return Yv.call(this.children,e)}}function Gv(){return this.firstElementChild}function Kv(e){return this.select(e==null?Gv:Xv(typeof e=="function"?e:Uh(e)))}var Qv=Array.prototype.filter;function Jv(){return Array.from(this.children)}function Zv(e){return function(){return Qv.call(this.children,e)}}function e2(e){return this.selectAll(e==null?Jv:Zv(typeof e=="function"?e:Uh(e)))}function t2(e){typeof e!="function"&&(e=Fh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,c=0;c<o;++c)(s=a[c])&&e.call(s,s.__data__,c,a)&&l.push(s);return new yt(r,this._parents)}function jh(e){return new Array(e.length)}function n2(){return new yt(this._enter||this._groups.map(jh),this._parents)}function eo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}eo.prototype={constructor:eo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function r2(e){return function(){return e}}function i2(e,t,n,r,i,a){for(var o=0,l,s=t.length,c=a.length;o<c;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new eo(e,a[o]);for(;o<s;++o)(l=t[o])&&(i[o]=l)}function a2(e,t,n,r,i,a,o){var l,s,c=new Map,u=t.length,d=a.length,f=new Array(u),h;for(l=0;l<u;++l)(s=t[l])&&(f[l]=h=o.call(s,s.__data__,l,t)+"",c.has(h)?i[l]=s:c.set(h,s));for(l=0;l<d;++l)h=o.call(e,a[l],l,a)+"",(s=c.get(h))?(r[l]=s,s.__data__=a[l],c.delete(h)):n[l]=new eo(e,a[l]);for(l=0;l<u;++l)(s=t[l])&&c.get(f[l])===s&&(i[l]=s)}function o2(e){return e.__data__}function l2(e,t){if(!arguments.length)return Array.from(this,o2);var n=t?a2:i2,r=this._parents,i=this._groups;typeof e!="function"&&(e=r2(e));for(var a=i.length,o=new Array(a),l=new Array(a),s=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],f=d.length,h=s2(e.call(u,u&&u.__data__,c,r)),g=h.length,p=l[c]=new Array(g),x=o[c]=new Array(g),b=s[c]=new Array(f);n(u,d,p,x,b,h,t);for(var A=0,$=0,E,y;A<g;++A)if(E=p[A]){for(A>=$&&($=A+1);!(y=x[$])&&++$<g;);E._next=y||null}}return o=new yt(o,r),o._enter=l,o._exit=s,o}function s2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function c2(){return new yt(this._exit||this._groups.map(jh),this._parents)}function u2(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function f2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),s=0;s<o;++s)for(var c=n[s],u=r[s],d=c.length,f=l[s]=new Array(d),h,g=0;g<d;++g)(h=c[g]||u[g])&&(f[g]=h);for(;s<i;++s)l[s]=n[s];return new yt(l,this._parents)}function d2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function h2(e){e||(e=_2);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,s=i[a]=new Array(l),c,u=0;u<l;++u)(c=o[u])&&(s[u]=c);s.sort(t)}return new yt(i,this._parents).order()}function _2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function g2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function p2(){return Array.from(this)}function b2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function m2(){let e=0;for(const t of this)++e;return e}function w2(){return!this.node()}function y2(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function v2(e){return function(){this.removeAttribute(e)}}function x2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function k2(e,t){return function(){this.setAttribute(e,t)}}function S2(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function M2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function E2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function A2(e,t){var n=ko(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?x2:v2:typeof t=="function"?n.local?E2:M2:n.local?S2:k2)(n,t))}function Wh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $2(e){return function(){this.style.removeProperty(e)}}function T2(e,t,n){return function(){this.style.setProperty(e,t,n)}}function C2(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function N2(e,t,n){return arguments.length>1?this.each((t==null?$2:typeof t=="function"?C2:T2)(e,t,n??"")):Ar(this.node(),e)}function Ar(e,t){return e.style.getPropertyValue(t)||Wh(e).getComputedStyle(e,null).getPropertyValue(t)}function O2(e){return function(){delete this[e]}}function L2(e,t){return function(){this[e]=t}}function z2(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function R2(e,t){return arguments.length>1?this.each((t==null?O2:typeof t=="function"?z2:L2)(e,t)):this.node()[e]}function Bh(e){return e.trim().split(/^|\s+/)}function Rs(e){return e.classList||new qh(e)}function qh(e){this._node=e,this._names=Bh(e.getAttribute("class")||"")}qh.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Hh(e,t){for(var n=Rs(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Yh(e,t){for(var n=Rs(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function V2(e){return function(){Hh(this,e)}}function D2(e){return function(){Yh(this,e)}}function P2(e,t){return function(){(t.apply(this,arguments)?Hh:Yh)(this,e)}}function I2(e,t){var n=Bh(e+"");if(arguments.length<2){for(var r=Rs(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?P2:t?V2:D2)(n,t))}function F2(){this.textContent=""}function U2(e){return function(){this.textContent=e}}function j2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function W2(e){return arguments.length?this.each(e==null?F2:(typeof e=="function"?j2:U2)(e)):this.node().textContent}function B2(){this.innerHTML=""}function q2(e){return function(){this.innerHTML=e}}function H2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Y2(e){return arguments.length?this.each(e==null?B2:(typeof e=="function"?H2:q2)(e)):this.node().innerHTML}function X2(){this.nextSibling&&this.parentNode.appendChild(this)}function G2(){return this.each(X2)}function K2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Q2(){return this.each(K2)}function J2(e){var t=typeof e=="function"?e:Dh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Z2(){return null}function ex(e,t){var n=typeof e=="function"?e:Dh(e),r=t==null?Z2:typeof t=="function"?t:zs(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function tx(){var e=this.parentNode;e&&e.removeChild(this)}function nx(){return this.each(tx)}function rx(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ix(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ax(e){return this.select(e?ix:rx)}function ox(e){return arguments.length?this.property("__data__",e):this.node().__data__}function lx(e){return function(t){e.call(this,t,this.__data__)}}function sx(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function cx(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function ux(e,t,n){return function(){var r=this.__on,i,a=lx(t);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function fx(e,t,n){var r=sx(e+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,c=l.length,u;s<c;++s)for(i=0,u=l[s];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(l=t?ux:cx,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function Xh(e,t,n){var r=Wh(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function dx(e,t){return function(){return Xh(this,e,t)}}function hx(e,t){return function(){return Xh(this,e,t.apply(this,arguments))}}function _x(e,t){return this.each((typeof t=="function"?hx:dx)(e,t))}function*gx(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Vs=[null];function yt(e,t){this._groups=e,this._parents=t}function Lr(){return new yt([[document.documentElement]],Vs)}function px(){return this}yt.prototype=Lr.prototype={constructor:yt,select:Wv,selectAll:Hv,selectChild:Kv,selectChildren:e2,filter:t2,data:l2,enter:n2,exit:c2,join:u2,merge:f2,selection:px,order:d2,sort:h2,call:g2,nodes:p2,node:b2,size:m2,empty:w2,each:y2,attr:A2,style:N2,property:R2,classed:I2,text:W2,html:Y2,raise:G2,lower:Q2,append:J2,insert:ex,remove:nx,clone:ax,datum:ox,on:fx,dispatch:_x,[Symbol.iterator]:gx};function ce(e){return typeof e=="string"?new yt([[document.querySelector(e)]],[document.documentElement]):new yt([[e]],Vs)}function bx(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Zt(e,t){if(e=bx(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function mx(e){return typeof e=="string"?new yt([document.querySelectorAll(e)],[document.documentElement]):new yt([Ph(e)],Vs)}const nf=1e-6,ln=e=>e.selection()!==e,Qe=(e,t)=>{e=e||"g";let n=(a,o)=>o,r=null;const i=function(a,o){o=o||(g=>g);const l=a.selection(),s=ln(a)?a:null;let u=l.selectChildren(t==null?e:`${e}.${t}`).data(o,n);const d=u.enter().append(e).attr("class",t);let f=u.exit();u=u.merge(d);const h=s||r;return h&&(u=u.transition(h).style("opacity",1),d.style("opacity",nf),f=f.transition(h).style("opacity",nf)),f.remove(),u.enter=()=>d,u.exit=()=>f,u};return i.element=(...a)=>a.length?(e=a[0],i):e,i.className=(...a)=>a.length?(t=a[0],i):t,i.key=(...a)=>a.length?(n=a[0],i):n,i.transition=(...a)=>a.length?(r=a[0],i):r,i};function qe(e){return function(){return e}}const rf=Math.abs,gt=Math.atan2,un=Math.cos,wx=Math.max,kl=Math.min,St=Math.sin,dt=Math.sqrt,xt=1e-12,Ln=Math.PI,to=Ln/2,na=2*Ln;function yx(e){return e>1?0:e<-1?Ln:Math.acos(e)}function af(e){return e>=1?to:e<=-1?-to:Math.asin(e)}function So(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Ls(t)}function vx(e){return e.innerRadius}function xx(e){return e.outerRadius}function kx(e){return e.startAngle}function Sx(e){return e.endAngle}function Mx(e){return e&&e.padAngle}function Ex(e,t,n,r,i,a,o,l){var s=n-e,c=r-t,u=o-i,d=l-a,f=d*s-u*c;if(!(f*f<xt))return f=(u*(t-a)-d*(e-i))/f,[e+f*s,t+f*c]}function ka(e,t,n,r,i,a,o){var l=e-n,s=t-r,c=(o?a:-a)/dt(l*l+s*s),u=c*s,d=-c*l,f=e+u,h=t+d,g=n+u,p=r+d,x=(f+g)/2,b=(h+p)/2,A=g-f,$=p-h,E=A*A+$*$,y=i-a,k=f*p-g*h,D=($<0?-1:1)*dt(wx(0,y*y*E-k*k)),L=(k*$-A*D)/E,G=(-k*A-$*D)/E,Y=(k*$+A*D)/E,U=(-k*A+$*D)/E,re=L-x,q=G-b,N=Y-x,W=U-b;return re*re+q*q>N*N+W*W&&(L=Y,G=U),{cx:L,cy:G,x01:-u,y01:-d,x11:L*(i/y-1),y11:G*(i/y-1)}}function Ax(){var e=vx,t=xx,n=qe(0),r=null,i=kx,a=Sx,o=Mx,l=null,s=So(c);function c(){var u,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),g=i.apply(this,arguments)-to,p=a.apply(this,arguments)-to,x=rf(p-g),b=p>g;if(l||(l=u=s()),h<f&&(d=h,h=f,f=d),!(h>xt))l.moveTo(0,0);else if(x>na-xt)l.moveTo(h*un(g),h*St(g)),l.arc(0,0,h,g,p,!b),f>xt&&(l.moveTo(f*un(p),f*St(p)),l.arc(0,0,f,p,g,b));else{var A=g,$=p,E=g,y=p,k=x,D=x,L=o.apply(this,arguments)/2,G=L>xt&&(r?+r.apply(this,arguments):dt(f*f+h*h)),Y=kl(rf(h-f)/2,+n.apply(this,arguments)),U=Y,re=Y,q,N;if(G>xt){var W=af(G/f*St(L)),R=af(G/h*St(L));(k-=W*2)>xt?(W*=b?1:-1,E+=W,y-=W):(k=0,E=y=(g+p)/2),(D-=R*2)>xt?(R*=b?1:-1,A+=R,$-=R):(D=0,A=$=(g+p)/2)}var Q=h*un(A),V=h*St(A),j=f*un(y),I=f*St(y);if(Y>xt){var ae=h*un($),ue=h*St($),F=f*un(E),K=f*St(E),ge;if(x<Ln)if(ge=Ex(Q,V,F,K,ae,ue,j,I)){var xe=Q-ge[0],Ee=V-ge[1],Ie=ae-ge[0],le=ue-ge[1],ke=1/St(yx((xe*Ie+Ee*le)/(dt(xe*xe+Ee*Ee)*dt(Ie*Ie+le*le)))/2),$e=dt(ge[0]*ge[0]+ge[1]*ge[1]);U=kl(Y,(f-$e)/(ke-1)),re=kl(Y,(h-$e)/(ke+1))}else U=re=0}D>xt?re>xt?(q=ka(F,K,Q,V,h,re,b),N=ka(ae,ue,j,I,h,re,b),l.moveTo(q.cx+q.x01,q.cy+q.y01),re<Y?l.arc(q.cx,q.cy,re,gt(q.y01,q.x01),gt(N.y01,N.x01),!b):(l.arc(q.cx,q.cy,re,gt(q.y01,q.x01),gt(q.y11,q.x11),!b),l.arc(0,0,h,gt(q.cy+q.y11,q.cx+q.x11),gt(N.cy+N.y11,N.cx+N.x11),!b),l.arc(N.cx,N.cy,re,gt(N.y11,N.x11),gt(N.y01,N.x01),!b))):(l.moveTo(Q,V),l.arc(0,0,h,A,$,!b)):l.moveTo(Q,V),!(f>xt)||!(k>xt)?l.lineTo(j,I):U>xt?(q=ka(j,I,ae,ue,f,-U,b),N=ka(Q,V,F,K,f,-U,b),l.lineTo(q.cx+q.x01,q.cy+q.y01),U<Y?l.arc(q.cx,q.cy,U,gt(q.y01,q.x01),gt(N.y01,N.x01),!b):(l.arc(q.cx,q.cy,U,gt(q.y01,q.x01),gt(q.y11,q.x11),!b),l.arc(0,0,f,gt(q.cy+q.y11,q.cx+q.x11),gt(N.cy+N.y11,N.cx+N.x11),b),l.arc(N.cx,N.cy,U,gt(N.y11,N.x11),gt(N.y01,N.x01),!b))):l.arc(0,0,f,y,E,b)}if(l.closePath(),u)return l=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Ln/2;return[un(d)*u,St(d)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:qe(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:qe(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:qe(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:qe(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:qe(+u),c):i},c.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:qe(+u),c):a},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:qe(+u),c):o},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function Gh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Kh(e){this._context=e}Kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qh(e){return new Kh(e)}function Jh(e){return e[0]}function Zh(e){return e[1]}function zr(e,t){var n=qe(!0),r=null,i=Qh,a=null,o=So(l);e=typeof e=="function"?e:e===void 0?Jh:qe(e),t=typeof t=="function"?t:t===void 0?Zh:qe(t);function l(s){var c,u=(s=Gh(s)).length,d,f=!1,h;for(r==null&&(a=i(h=o())),c=0;c<=u;++c)!(c<u&&n(d=s[c],c,s))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,c,s),+t(d,c,s));if(h)return a=null,h+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:qe(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:qe(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:qe(!!s),l):n},l.curve=function(s){return arguments.length?(i=s,r!=null&&(a=i(r)),l):i},l.context=function(s){return arguments.length?(s==null?r=a=null:a=i(r=s),l):r},l}function e_(e,t,n){var r=null,i=qe(!0),a=null,o=Qh,l=null,s=So(c);e=typeof e=="function"?e:e===void 0?Jh:qe(+e),t=typeof t=="function"?t:qe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Zh:qe(+n);function c(d){var f,h,g,p=(d=Gh(d)).length,x,b=!1,A,$=new Array(p),E=new Array(p);for(a==null&&(l=o(A=s())),f=0;f<=p;++f){if(!(f<p&&i(x=d[f],f,d))===b)if(b=!b)h=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=h;--g)l.point($[g],E[g]);l.lineEnd(),l.areaEnd()}b&&($[f]=+e(x,f,d),E[f]=+t(x,f,d),l.point(r?+r(x,f,d):$[f],n?+n(x,f,d):E[f]))}if(A)return l=null,A+""||null}function u(){return zr().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:qe(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:qe(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:qe(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:qe(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:qe(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:qe(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:qe(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(l=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=l=null:l=o(a=d),c):a},c}const Mo={draw(e,t){const n=dt(t/Ln);e.moveTo(n,0),e.arc(0,0,n,0,na)}},t_={draw(e,t){const n=dt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},n_=dt(1/3),$x=n_*2,r_={draw(e,t){const n=dt(t/$x),r=n*n_;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},i_={draw(e,t){const n=dt(t),r=-n/2;e.rect(r,r,n,n)}},Tx=.8908130915292852,a_=St(Ln/10)/St(7*Ln/10),Cx=St(na/10)*a_,Nx=-un(na/10)*a_,o_={draw(e,t){const n=dt(t*Tx),r=Cx*n,i=Nx*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=na*a/5,l=un(o),s=St(o);e.lineTo(s*n,-l*n),e.lineTo(l*r-s*i,s*r+l*i)}e.closePath()}},Sl=dt(3),l_={draw(e,t){const n=-dt(t/(Sl*3));e.moveTo(0,n*2),e.lineTo(-Sl*n,-n),e.lineTo(Sl*n,-n),e.closePath()}},Lt=-.5,zt=dt(3)/2,ts=1/dt(12),Ox=(ts/2+1)*3,s_={draw(e,t){const n=dt(t/Ox),r=n/2,i=n*ts,a=r,o=n*ts+n,l=-a,s=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(l,s),e.lineTo(Lt*r-zt*i,zt*r+Lt*i),e.lineTo(Lt*a-zt*o,zt*a+Lt*o),e.lineTo(Lt*l-zt*s,zt*l+Lt*s),e.lineTo(Lt*r+zt*i,Lt*i-zt*r),e.lineTo(Lt*a+zt*o,Lt*o-zt*a),e.lineTo(Lt*l+zt*s,Lt*s-zt*l),e.closePath()}};function Ds(e,t){let n=null,r=So(i);e=typeof e=="function"?e:qe(e||Mo),t=typeof t=="function"?t:qe(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:qe(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:qe(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}const Yt=e=>typeof e=="function"?e:()=>e;function Ps(){const e=arguments;return function(t,n){for(let r=0,i=e.length;r<i;r++)if(e[r](t,n)==null)return!1;return!0}}const Is=(e,t)=>{switch(e){case"left":return t/2;case"right":return-t/2;default:return 0}},ra=e=>{const t=Object.assign({},e),n=()=>{};return Object.keys(t).forEach(r=>{n[r]=(...i)=>i.length?(t[r]=i[0],n):t[r]}),n},or=()=>{let e=()=>0,t=l=>l.x,n=l=>l.y,r="center",i=()=>5,a="vertical";const o=ra({decorate:()=>{},defined:(l,s)=>Ps(e,t,n)(l,s),xScale:Ct(),yScale:Ct()});return o.values=(l,s)=>{const c=i(l,s),u=Is(r,c),d=o.xScale(),f=o.yScale();if(a==="vertical"){const h=f(n(l,s),s),g=f(e(l,s),s),p=d(t(l,s),s)+u;return{d:l,x:p,y:h,y0:g,width:c,height:h-g,origin:[p,h],baseOrigin:[p,g],transposedX:p,transposedY:h}}else{const h=d(n(l,s),s),g=d(e(l,s),s),p=f(t(l,s),s)+u;return{d:l,x:p,y:h,y0:g,width:c,height:h-g,origin:[h,p],baseOrigin:[g,p],transposedX:h,transposedY:p}}},o.xValues=()=>a==="vertical"?[t]:[e,n],o.yValues=()=>a!=="vertical"?[t]:[e,n],o.baseValue=(...l)=>l.length?(e=Yt(l[0]),o):e,o.crossValue=(...l)=>l.length?(t=Yt(l[0]),o):t,o.mainValue=(...l)=>l.length?(n=Yt(l[0]),o):n,o.bandwidth=(...l)=>l.length?(i=Yt(l[0]),o):i,o.align=(...l)=>l.length?(r=l[0],o):r,o.orient=(...l)=>l.length?(a=l[0],o):a,o},Lx="#c60",zx="#6c0",Rx="#000",Vx="#ddd",Dx="#999",Xt={red:Lx,green:zx,black:Rx,gray:Vx,darkGray:Dx},c_=()=>{const e=or(),t=zr().x((i,a)=>e.values(i,a).transposedX).y((i,a)=>e.values(i,a).transposedY),n=Qe("path","line"),r=i=>{ln(i)&&n.transition(i),t.defined(e.defined()),i.each((a,o,l)=>{const s=n(ce(l[o]),[a]);s.enter().attr("fill","none").attr("stroke",Xt.black),s.attr("d",t),e.decorate()(s,a,o)})};return ze(r,e,Ft("baseValue","bandwidth","align")),mt(r,n,"key"),mt(r,t,"curve"),r},Px=()=>{const e=or(),t=zr().x((r,i)=>e.values(r,i).transposedX).y((r,i)=>e.values(r,i).transposedY),n=r=>{const i=t.context();i.beginPath(),i.strokeStyle=Xt.black,i.fillStyle="transparent",e.decorate()(i,r),t.defined(e.defined())(r),i.fill(),i.stroke(),i.closePath()};return ze(n,e,Ft("baseValue","bandwidth","align")),mt(n,t,"curve","context"),n};On().copy.toString();kh().copy.toString();Sh().copy.toString();Oh().copy.toString();Ct();const u_=()=>{const e=Ds(),t=or(),n=Qe("g","point"),r=a=>"translate("+a[0]+", "+a[1]+")",i=a=>{ln(a)&&n.transition(a),a.each((o,l,s)=>{const c=o.filter(t.defined()),u=n(ce(s[l]),c);u.enter().attr("transform",(d,f)=>r(t.values(d,f).origin)).attr("fill",Xt.gray).attr("stroke",Xt.black).append("path"),u.attr("transform",(d,f)=>r(t.values(d,f).origin)).select("path").attr("d",e),t.decorate()(u,o,l)})};return ze(i,t,Ft("baseValue","bandwidth","align")),mt(i,n,"key"),mt(i,e,"type","size"),i},Ix=()=>{const e=Ds(),t=or(),n=r=>{const i=r.filter(t.defined()),a=e.context();i.forEach((o,l)=>{a.save();const s=t.values(o,l);a.translate(s.origin[0],s.origin[1]),a.beginPath(),a.strokeStyle=Xt.black,a.fillStyle=Xt.gray,t.decorate()(a,o,l),e(o,l),a.fill(),a.stroke(),a.closePath(),a.restore()})};return ze(n,t,Ft("baseValue","bandwidth","align")),mt(n,e,"size","type","context"),n},ns=()=>{const e=Vh().x(0).y(0),t=or(),n=Qe("g","bar"),r=l=>t.orient()==="vertical"?l.height:l.width,i=l=>t.orient()==="vertical"?l.width:l.height,a=l=>"translate("+l[0]+", "+l[1]+")",o=l=>{ln(l)&&n.transition(l),l.each((s,c,u)=>{const d=t.orient();if(d!=="vertical"&&d!=="horizontal")throw new Error("The bar series does not support an orientation of "+d);const f=s.filter(t.defined()),h=f.map(t.values);e.width(0).height(0),t.orient()==="vertical"?(e.verticalAlign("top"),e.horizontalAlign("center")):(e.horizontalAlign("right"),e.verticalAlign("center"));const g=n(ce(u[c]),f);g.enter().attr("transform",(p,x)=>a(h[x].baseOrigin)).attr("class","bar "+t.orient()).attr("fill",Xt.darkGray).append("path").attr("d",(p,x)=>(i(e)(h[x].width),e([p]))),g.attr("transform",(p,x)=>a(h[x].origin)).select("path").attr("d",(p,x)=>(i(e)(h[x].width),r(e)(-h[x].height),e([p]))),t.decorate()(g,f,c)})};return ze(o,t),mt(o,n,"key"),o},Fx=()=>{const e=or(),t=e_(),n=Qe("path","area"),r=i=>{ln(i)&&n.transition(i),t.defined(e.defined()),i.each((a,o,l)=>{const s=a.map(e.values);t.x((d,f)=>s[f].transposedX).y((d,f)=>s[f].transposedY);const c=e.orient()==="vertical"?"y":"x";t[c+"0"]((d,f)=>s[f].y0),t[c+"1"]((d,f)=>s[f].y);const u=n(ce(l[o]),[a]);u.enter().attr("fill",Xt.gray),u.attr("d",t),e.decorate()(u,a,o)})};return ze(r,e,Ft("bandwidth","align")),mt(r,n,"key"),mt(r,t,"curve"),r},Ux=()=>{const e=or(),t=e_(),n=r=>{const i=t.context();t.defined(e.defined());const a=r.map(e.values);t.x((l,s)=>a[s].transposedX).y((l,s)=>a[s].transposedY);const o=e.orient()==="vertical"?"y":"x";t[o+"0"]((l,s)=>a[s].y0),t[o+"1"]((l,s)=>a[s].y),i.beginPath(),i.fillStyle=Xt.gray,i.strokeStyle="transparent",e.decorate()(i,r),t(r),i.fill(),i.stroke(),i.closePath()};return ze(n,e,Ft("bandwidth","align")),mt(n,t,"curve","context"),n},jx=()=>{let e,t=c=>c.date,n=c=>c.open,r=c=>c.high,i=c=>c.low,a=c=>c.close,o=()=>5,l="center",s=(c,u)=>e.xScale()(t(c,u));return e=ra({decorate:()=>{},defined:(c,u)=>Ps(t,n,i,r,a)(c,u),xScale:Ct(),yScale:Ct()}),e.values=(c,u)=>{const d=a(c,u),f=n(c,u),h=o(c,u),g=Is(l,h);let p="";return d>f?p="up":d<f&&(p="down"),{cross:s(c,u)+g,open:e.yScale()(f),high:e.yScale()(r(c,u)),low:e.yScale()(i(c,u)),close:e.yScale()(d),width:h,direction:p}},e.xValues=()=>[t],e.yValues=()=>[n,r,i,a],e.crossValue=(...c)=>c.length?(t=c[0],e):t,e.openValue=(...c)=>c.length?(n=c[0],e):n,e.highValue=(...c)=>c.length?(r=c[0],e):r,e.lowValue=(...c)=>c.length?(i=c[0],e):i,e.yValue=e.closeValue=(...c)=>c.length?(a=c[0],e):a,e.bandwidth=(...c)=>c.length?(o=Yt(c[0]),e):o,e.align=(...c)=>c.length?(l=c[0],e):l,e},f_=e=>{const t=jx(),n=r=>{const i=r.filter(t.defined()),a=e.context();i.forEach((o,l)=>{a.save();const s=t.values(o,l);a.translate(s.cross,s.high),a.beginPath(),e.x(0).open(()=>s.open-s.high).width(s.width).high(0).low(()=>s.low-s.high).close(()=>s.close-s.high)([o]);const c=s.direction==="up"?Xt.green:Xt.red;a.strokeStyle=c,a.fillStyle=c,t.decorate()(a,o,l),a.fill(),a.stroke(),a.closePath(),a.restore()})};return mt(n,e,"context"),ze(n,t),n},Wx=()=>f_(Iv()),Bx=()=>f_(Pv()),d_=()=>{let e=[],t=i=>i,n=(i,a)=>a;const r=ra({decorate:()=>{},xScale:Ct(),yScale:Ct()});return r.xValues=()=>e.map(i=>i.xValues()).reduce((i,a)=>i.concat(a)),r.yValues=()=>e.map(i=>i.yValues()).reduce((i,a)=>i.concat(a)),r.mapping=(...i)=>i.length?(t=i[0],r):t,r.key=(...i)=>i.length?(n=i[0],r):n,r.series=(...i)=>i.length?(e=i[0],r):e,r},Rr=()=>{const e=d_(),t=Qe("g"),n=Qe("g","multi"),r=i=>{ln(i)&&(n.transition(i),t.transition(i));const a=e.mapping(),o=e.series(),l=e.xScale(),s=e.yScale();i.each((c,u,d)=>{const f=n(ce(d[u]),o);f.each((h,g,p)=>{h.xScale(l).yScale(s);const x=a(c,g,o);t(ce(p[g]),[x]).call(h)}),f.selection().order(),e.decorate()(f,c,u)})};return ze(r,e),mt(r,n,"key"),r},Eo=()=>{let e=null;const t=d_(),n=r=>{const i=t.mapping(),a=t.series(),o=t.xScale(),l=t.yScale();a.forEach((s,c)=>{const u=i(r,c,a);s.context(e).xScale(o).yScale(l);let d;s.decorate?(d=s.decorate(),s.decorate((f,h,g)=>{t.decorate()(f,r,c),d(f,h,g)})):t.decorate()(e,r,c),s(u),d&&s.decorate(d)})};return n.context=(...r)=>r.length?(e=r[0],n):e,ze(n,t),n},qx=e=>{let t=()=>50,n="center";const r=Zi(),i=ra({decorate:()=>{},xScale:On(),yScale:On()});return i.offsetScaleForDatum=(a,o,l)=>{const s=t(o,l),c=Is(n,s),u=s/2;return r.domain(ks(0,a.length)).range([-u+c,u+c])},i.bandwidth=(...a)=>a.length?(t=Yt(a[0]),i):t,i.align=(...a)=>a.length?(n=a[0],i):n,ze(i,r,Ha({paddingInner:"paddingOuter"})),i},Hx=e=>{const t=qx(),n=Qe("g","grouped"),r=i=>{ln(i)&&n.transition(i),i.each((a,o,l)=>{const s=n(ce(l[o]),a);s.enter().append("g"),s.select("g").each((c,u,d)=>{const f=ce(d[u]),h=e.orient()!=="horizontal",g=(p,x)=>{const b=t.offsetScaleForDatum(a,p,x);return(h?t.xScale():t.yScale())(p)+b(u)+b.bandwidth()/2};h?(e.xScale(g),e.yScale(t.yScale())):(e.yScale(g),e.xScale(t.xScale())),e.bandwidth&&e.bandwidth((p,x)=>t.offsetScaleForDatum(a,p,x).bandwidth()),e.decorate((p,x)=>t.decorate()(p,x,u)),f.call(e)})})};return ze(r,e,Ft("decorate","xScale","yScale")),ze(r,t,Ft("offsetScaleForDatum")),r},no=()=>{let e="vertical",t=c_();const n=Rr(),r=i=>i.each((a,o,l)=>{e==="vertical"?n.series(a[0].map(s=>t)).mapping((s,c)=>s.map(u=>u[c])):n.series(a.map(s=>t)).mapping((s,c)=>s[c]),ce(l[o]).call(n)});return r.series=(...i)=>i.length?(t=i[0],r):t,r.orient=(...i)=>i.length?(e=i[0],r):e,ze(r,n,Ft("series","mapping")),r},Yx=e=>e.sort(Ai).filter((t,n,r)=>r.indexOf(t,n+1)===-1),Fs=e=>{let t=.75;const n=a=>{if(a.length<=1)return 10;a=Yx(a);const o=r1(a).map(s=>Math.abs(s[0]-s[1])),l=Nn(o);return t*l},r=(a,o,l)=>{if(a.bandwidth)return a.bandwidth();{const c=(Array.isArray(o)?[].concat(...o):o).filter(e.defined()).map(l()).map(a);return n(c)}},i=a=>{const o=l=>{if(e.xBandwidth&&e.yBandwidth)e.xBandwidth(r(e.xScale(),l,e.xValue)),e.yBandwidth(r(e.yScale(),l,e.yValue));else{const s=e.orient&&e.orient()==="horizontal"?e.yScale():e.xScale();e.bandwidth(r(s,l,e.crossValue))}};a instanceof Lr?a.each((l,s,c)=>{o(l),e(ce(c[s]))}):(o(a),e(a))};return ze(i,e),i.widthFraction=(...a)=>a.length?(t=a[0],i):t,i};function Ao(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function $o(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Xx=$o(Ao("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));$o(Ao("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));$o(Ao("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));$o(Ao("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Gx=()=>{let e=l=>l.x,t=l=>l.y,n=l=>l.color,r=()=>5,i=()=>5,a=Xx;const o=ra({decorate:()=>{},defined:(l,s)=>Ps(e,t,n)(l,s),xScale:Ct(),yScale:Ct()});return o.pathGenerator=Vh().x(0).y(0),o.colorScale=l=>{const s=l.map(n);return On().domain([Nn(s),Gn(s)])},o.values=(l,s)=>({x:o.xScale()(e(l,s)),y:o.yScale()(t(l,s)),colorValue:n(l,s),width:i(l,s),height:r(l,s)}),o.xValues=()=>[e],o.yValues=()=>[t],o.xValue=(...l)=>l.length?(e=Yt(l[0]),o):e,o.yValue=(...l)=>l.length?(t=Yt(l[0]),o):t,o.colorValue=(...l)=>l.length?(n=Yt(l[0]),o):n,o.colorInterpolate=(...l)=>l.length?(a=l[0],o):a,o.xBandwidth=(...l)=>l.length?(i=Yt(l[0]),o):i,o.yBandwidth=(...l)=>l.length?(r=Yt(l[0]),o):r,ze(o,o.pathGenerator,Ha({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),o},Kx=()=>{const e=Gx(),t=n=>{const r=n.filter(e.defined()),i=e.colorInterpolate(),a=e.colorScale(r),o=e.pathGenerator.context();r.forEach((l,s)=>{o.save(),o.beginPath();const c=e.values(l,s);o.translate(c.x,c.y),o.fillStyle=i(a(c.colorValue)),o.strokeStyle="transparent",e.decorate()(o,l,s),e.pathGenerator.height(c.height).width(c.width)([l]),o.fill(),o.stroke(),o.closePath(),o.restore()})};return mt(t,e.pathGenerator,"context"),ze(t,e),t},ro=()=>{let e=Ct(),t=[10],n=null;const r=()=>n??(e.ticks?e.ticks(...t):e.domain());return r.scale=(...i)=>i.length?(e=i[0],r):e,r.ticks=(...i)=>(t=i,r),r.tickArguments=(...i)=>i.length?(t=i[0],r):t,r.tickValues=(...i)=>i.length?(n=i[0],r):n,r},of=e=>e,Qx=()=>{let e=()=>{},t=()=>{};const n=ro(),r=ro(),i=Qe("line","gridline-y").key(of),a=Qe("line","gridline-x").key(of),o=l=>{ln(l)&&(i.transition(l),a.transition(l)),l.each((s,c,u)=>{const d=u[c],f=ce(u[c]),h=n.scale(),g=r.scale(),p=d.__x_scale__||h;d.__x_scale__=h.copy();const x=n(),b=i(f,x);b.enter().attr("x1",p).attr("x2",p).attr("y1",g.range()[0]).attr("y2",g.range()[1]).attr("stroke","#bbb"),b.attr("x1",h).attr("x2",h).attr("y1",g.range()[0]).attr("y2",g.range()[1]),b.exit().attr("x1",h).attr("x2",h),e(b,x,c);const A=d.__y_scale__||g;d.__y_scale__=g.copy();const $=r(),E=a(f,$);E.enter().attr("y1",A).attr("y2",A).attr("x1",h.range()[0]).attr("x2",h.range()[1]).attr("stroke","#bbb"),E.attr("y1",g).attr("y2",g).attr("x1",h.range()[0]).attr("x2",h.range()[1]),E.exit().attr("y1",g).attr("y2",g),t(E,$,c)})};return o.yDecorate=(...l)=>l.length?(t=l[0],o):t,o.xDecorate=(...l)=>l.length?(e=l[0],o):e,ze(o,i,Ha({key:"xKey"})),ze(o,a,Ha({key:"yKey"})),ze(o,n,Tn("x")),ze(o,r,Tn("y")),o},Jx=()=>{let e=()=>{},t=()=>{};const n=ro(),r=ro(),i=zr(),a=()=>{const o=i.context(),l=n.scale(),s=r.scale();n().forEach((c,u)=>{o.save(),o.beginPath(),o.strokeStyle="#bbb",o.fillStyle="transparent",e(o,c,u),i.context(o)(s.domain().map(d=>[l(c),s(d)])),o.fill(),o.stroke(),o.closePath(),o.restore()}),r().forEach((c,u)=>{o.save(),o.beginPath(),o.strokeStyle="#bbb",o.fillStyle="transparent",t(o,c,u),i.context(o)(l.domain().map(d=>[l(d),s(c)])),o.fill(),o.stroke(),o.closePath(),o.restore()})};return a.yDecorate=(...o)=>o.length?(t=o[0],a):t,a.xDecorate=(...o)=>o.length?(e=o[0],a):e,ze(a,n,Tn("x")),ze(a,r,Tn("y")),mt(a,i,"context"),a},Zx=e=>e,h_=(e,t,n,r)=>e[t]?e[t].apply(e,n):r,e3=e=>e.tickValues()??h_(e.scale(),"ticks",e.tickArguments(),e.scale().domain()),t3=e=>e.tickFormat()??h_(e.scale(),"tickFormat",e.tickArguments(),Zx),n3=e=>e,__=(e,t,n={})=>{let r=[10],i=null,a=()=>{},o=null,l=6,s=6,c=3;const u=zr(),d=Qe("g","tick").key(n3),f=Qe("path","domain"),h=()=>({offset:[0,s+c]}),g=()=>({path:[[0,0],[0,s]]}),p=n.labelOffset||h,x=n.tickPath||g,b=(k,D)=>{let L=0;return k.bandwidth&&(L=k.bandwidth()/2,k.round()&&(L=Math.round(L))),G=>D(k(G)+L,0)},A=(k,D)=>E()?`translate(${D}, ${k})`:`translate(${k}, ${D})`,$=k=>E()?k.map(D=>[D[1],D[0]]):k,E=()=>e==="left"||e==="right",y=k=>{ln(k)&&(d.transition(k),f.transition(k)),k.each((D,L,G)=>{const Y=G[L],U=ce(Y);Y.__scale__||U.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e==="right"?"start":e==="left"?"end":"middle");const re=Y.__scale__||t;Y.__scale__=t.copy();const q=e3(y),N=t3(y),W=e==="bottom"||e==="right"?1:-1,R=([F,K])=>[F,W*K],Q=t.range(),V=$([[Q[0],W*l],[Q[0],0],[Q[1],0],[Q[1],W*l]]),j=f(U,[D]);j.enter().attr("stroke","#000"),j.attr("d",u(V));const I=d(U,q),ae=q.map((F,K)=>p(F,K,q)),ue=q.map((F,K)=>x(F,K,q));I.enter().attr("transform",b(re,A)).append("path").attr("stroke","#000"),I.enter().append("text").attr("transform",(F,K)=>A(...R(ae[K].offset))).attr("fill","#000"),I.exit().attr("transform",b(t,A)),I.select("path").attr("visibility",(F,K)=>ue[K].hidden&&"hidden").attr("d",(F,K)=>u($(ue[K].path.map(R)))),I.select("text").attr("visibility",(F,K)=>ae[K].hidden&&"hidden").attr("transform",(F,K)=>A(...R(ae[K].offset))).attr("dy",()=>{let F="0em";return E()?F="0.32em":e==="bottom"&&(F="0.71em"),F}).text(N),I.attr("transform",b(t,A)),a(I,D,L)})};return y.tickFormat=(...k)=>k.length?(o=k[0],y):o,y.tickSize=(...k)=>k.length?(s=l=Number(k[0]),y):s,y.tickSizeInner=(...k)=>k.length?(s=Number(k[0]),y):s,y.tickSizeOuter=(...k)=>k.length?(l=Number(k[0]),y):l,y.tickPadding=(...k)=>k.length?(c=k[0],y):c,y.decorate=(...k)=>k.length?(a=k[0],y):a,y.scale=(...k)=>k.length?(t=k[0],y):t,y.ticks=(...k)=>(r=[...k],y),y.tickArguments=(...k)=>k.length?(r=k[0]==null?[]:[...k[0]],y):r!==null?r.slice():null,y.tickValues=(...k)=>k.length?(i=k[0]==null?[]:[...k[0]],y):i!==null?i.slice():null,y.orient=()=>e,y},To=(e,t)=>{let n=!1;const i=__(e,t,{labelOffset:(o,l,s)=>{let c=0,u=i.tickSizeInner()+i.tickPadding(),d=!1;if(n){const f=t(o),h=l<s.length-1?t(s[l+1]):t.range()[1];c=(h-f)/2,u=i.tickPadding(),d=l===s.length-1&&f===h}return{offset:[c,u],hidden:d}}}),a=o=>i(o);return a.tickCenterLabel=(...o)=>o.length?(n=o[0],a):n,ze(a,i),a},Us=e=>To("top",e),js=e=>To("bottom",e),Ws=e=>To("left",e),Co=e=>To("right",e),No=(e,t)=>{let n=null;const r=(s,c,u)=>{if(t.step)return t.step();const d=t(s);return c<u.length-1?t(u[c+1])/d:(t.range()[1]-d)*2},o=__(e,t,{labelOffset:()=>({offset:[0,o.tickPadding()]}),tickPath:(s,c,u)=>{let d=0;return n?d=n(s,c):d=r(s,c,u)/2,{path:[[d,0],[d,o.tickSizeInner()]],hidden:c===u.length-1}}}),l=s=>{o(s)};return l.tickOffset=(...s)=>s.length?(n=s[0],l):n,ze(l,o),l},g_=e=>No("top",e),p_=e=>No("bottom",e),b_=e=>No("left",e),m_=e=>No("right",e),Bs="__d3fc-elements__",ia=e=>e[Bs]||{},w_=(e,t)=>void(e[Bs]=t),r3=e=>delete e[Bs],i3=e=>e.tagName==="D3FC-GROUP"?[e,...e.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg")]:[e],a3=e=>{const{width:t,height:n}=ia(e),r=e.useDevicePixelRatio&&window.devicePixelRatio!=null?window.devicePixelRatio:1,i=e.clientWidth*r,a=e.clientHeight*r,o=i!==t||a!==n,l=e.children[0];w_(e,{pixelRatio:r,width:i,height:a,resized:o,child:l})};if(typeof CustomEvent!="function")throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");const o3=e=>{const t=ia(e),n=new CustomEvent("measure",{detail:t});e.dispatchEvent(n)},l3=e=>{const t=ia(e),n=new CustomEvent("draw",{detail:t});e.dispatchEvent(n)},s3=e=>{const t=e.map(i3).reduce((n,r)=>n.concat(r));t.forEach(a3),t.forEach(o3),t.forEach(l3)},y_=e=>ia(e.ownerDocument).queue||[],c3=(e,t)=>{let{requestId:n}=ia(e.ownerDocument);n==null&&(n=requestAnimationFrame(()=>{const r=y_(e);s3(r),u3(e)})),w_(e.ownerDocument,{queue:t,requestId:n})},u3=e=>r3(e.ownerDocument),lf=(e,t)=>{let n=e;do if(n.parentNode===t)return!0;while(n=n.parentNode);return!1},qs=e=>{const t=y_(e);if(t.indexOf(e)>-1||t.some(a=>lf(e,a)))return;const i=t.filter(a=>!lf(a,e));i.push(e),c3(e,i)};if(typeof HTMLElement!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");const f3=e=>{e.__measureListener__==null&&(e.__measureListener__=t=>e.setMeasurements(t.detail),e.addEventListener("measure",e.__measureListener__))},d3=e=>{e.__measureListener__!=null&&(e.removeEventListener("measure",e.__measureListener__),e.__measureListener__=null)},v_=(e,t)=>class extends HTMLElement{static get observedAttributes(){return["use-device-pixel-ratio"]}attributeChangedCallback(n){switch(n){case"use-device-pixel-ratio":this.requestRedraw();break}}connectedCallback(){this.childNodes.length===0&&this.appendChild(e()),f3(this)}disconnectedCallback(){d3(this)}setMeasurements({width:n,height:r}){const{childNodes:[i,...a]}=this;if(a.length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");t(this,i,{width:n,height:r})}get useDevicePixelRatio(){return this.hasAttribute("use-device-pixel-ratio")&&this.getAttribute("use-device-pixel-ratio")!=="false"}set useDevicePixelRatio(n){n&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!n&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}requestRedraw(){qs(this)}};class h3 extends v_(()=>document.createElement("canvas"),(t,n,{width:r,height:i})=>{n.setAttribute("width",r),n.setAttribute("height",i),t.setWebglViewport&&n.getContext("webgl").viewport(0,0,r,i)}){get setWebglViewport(){return this.hasAttribute("set-webgl-viewport")&&this.getAttribute("set-webgl-viewport")!=="false"}set setWebglViewport(t){t&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!t&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}const Ml=e=>{e.autoResize?_3(e):x_(e)},_3=e=>{e.__autoResizeListener__==null&&(e.__autoResizeListener__=()=>qs(e),addEventListener("resize",e.__autoResizeListener__))},x_=e=>{e.__autoResizeListener__!=null&&(removeEventListener("resize",e.__autoResizeListener__),e.__autoResizeListener__=null)};class g3 extends HTMLElement{connectedCallback(){Ml(this)}disconnectedCallback(){x_(this)}requestRedraw(){qs(this)}get autoResize(){return this.hasAttribute("auto-resize")&&this.getAttribute("auto-resize")!=="false"}set autoResize(t){t&&!this.autoResize?this.setAttribute("auto-resize",""):!t&&this.autoResize&&this.removeAttribute("auto-resize"),Ml(this)}static get observedAttributes(){return["auto-resize"]}attributeChangedCallback(t){switch(t){case"auto-resize":Ml(this);break}}}const p3=v_(()=>document.createElementNS("http://www.w3.org/2000/svg","svg"),(e,t,{width:n,height:r})=>{t.setAttribute("viewBox",`0 0 ${n} ${r}`)}),sf="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",$i=document.createElement("style");$i.setAttribute("type","text/css");document.querySelector("head").appendChild($i);$i.styleSheet?$i.styleSheet.cssText+=sf:$i.textContent+=sf;if(typeof customElements!="object"||typeof customElements.define!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");const rs=[],Hs=(e,t)=>{customElements.get(e)?rs.push(e):customElements.define(e,t)};Hs("d3fc-canvas",h3);Hs("d3fc-group",g3);Hs("d3fc-svg",p3);rs.length>0&&console.warn(`The d3fc components "${rs.join(", ")}" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.`);var b3={value:()=>{}};function aa(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Oa(n)}function Oa(e){this._=e}function m3(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Oa.prototype=aa.prototype={constructor:Oa,on:function(e,t){var n=this._,r=m3(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=w3(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=cf(n[i],e.name,t);else if(t==null)for(i in n)n[i]=cf(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Oa(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function w3(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function cf(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=b3,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}const y3=()=>{const e=aa("point");function t(i){const a=Zt(i);e.call("point",this,[{x:a[0],y:a[1]}])}function n(){e.call("point",this,[])}const r=i=>{i.on("mouseenter.pointer",t).on("mousemove.pointer",t).on("mouseleave.pointer",n)};return mt(r,e,"on"),r},uf=(...e)=>{const t={},n=r=>{for(const i of Object.keys(t))r[i].apply(null,t[i]);return r};for(const r of e)n[r]=(...i)=>i.length?(t[r]=i,n):t[r];return n},ff=`d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}
d3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}
d3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}
d3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}
d3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}
d3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}`,Ti=document.createElement("style");Ti.setAttribute("type","text/css");document.querySelector("head").appendChild(Ti);Ti.styleSheet?Ti.styleSheet.cssText+=ff:Ti.textContent+=ff;const vt=e=>typeof e=="function"?e:()=>e,v3=(...e)=>{const{xScale:t,yScale:n,xAxis:r,yAxis:i}=x3(...e);let a=vt(""),o=vt(""),l=vt(""),s=vt(null),c=vt(null),u=vt("right"),d=vt("bottom"),f=null,h=null,g=null,p=!1,x=!0,b=uf("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),A=()=>{},$=uf("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),E=()=>{},y=()=>{};const k=Qe("d3fc-group","cartesian-chart"),D=Qe("d3fc-canvas","webgl-plot-area"),L=Qe("d3fc-canvas","canvas-plot-area"),G=Qe("d3fc-svg","svg-plot-area"),Y=Qe("d3fc-svg","x-axis").key(V=>V),U=Qe("d3fc-svg","y-axis").key(V=>V),re=Qe("div","chart-label"),q=Qe("div","x-label").key(V=>V),N=Qe("div","y-label").key(V=>V),W=V=>j=>ln(V)?j.transition(V):j,R=V=>{const j=W(V);V.each((I,ae,ue)=>{const F=k(ce(ue[ae]),[I]);F.enter().attr("auto-resize",""),re(F,[d(I)]).attr("class",K=>K==="top"?"chart-label bottom-label":"chart-label top-label").style("margin-bottom",K=>K==="top"?0:"1em").style("margin-top",K=>K==="top"?"1em":0).text(a(I)),q(F,[d(I)]).attr("class",K=>`x-label ${K}-label`).text(o(I)),N(F,[u(I)]).attr("class",K=>`y-label ${K}-label`).text(l(I)),D(F,f?[I]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",x).on("draw",(K,ge)=>{const{child:xe,pixelRatio:Ee}=K.detail;f.context(p?null:xe.getContext("webgl")).pixelRatio(Ee).xScale(t).yScale(n),f(ge)}),F.select(".webgl-plot-area>canvas").on("webglcontextlost",K=>{console.warn("WebGLRenderingContext lost"),K.preventDefault(),p=!0,F.node().requestRedraw()}).on("webglcontextrestored",()=>{console.info("WebGLRenderingContext restored"),p=!1,F.node().requestRedraw()}),L(F,h?[I]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",x).on("draw",(K,ge)=>{const{child:xe,pixelRatio:Ee}=K.detail,Ie=xe.getContext("2d");Ie.save(),x&&Ie.scale(Ee,Ee),h.context(Ie).xScale(t).yScale(n),h(ge),Ie.restore()}),G(F,g?[I]:[]).classed("plot-area",!0).on("draw",(K,ge)=>{const{child:xe}=K.detail;g.xScale(t).yScale(n),j(ce(xe).datum(ge)).call(g)}),Y(F,[d(I)]).attr("class",K=>`x-axis ${K}-axis`).style("height",s(I)).on("measure",(K,ge)=>{const{width:xe,height:Ee,child:Ie}=K.detail;ge==="top"&&ce(Ie).attr("viewBox",`0 ${-Ee} ${xe} ${Ee}`),t.range([0,xe])}).on("draw",(K,ge)=>{const{child:xe}=K.detail,Ee=ge==="top"?r.top(t):r.bottom(t);Ee.decorate(A),j(ce(xe).datum(ge)).call(b(Ee))}),U(F,[u(I)]).attr("class",K=>`y-axis ${K}-axis`).style("width",c(I)).on("measure",(K,ge)=>{const{width:xe,height:Ee,child:Ie}=K.detail;ge==="left"&&ce(Ie).attr("viewBox",`${-xe} 0 ${xe} ${Ee}`),n.range([Ee,0])}).on("draw",(K,ge)=>{const{child:xe}=K.detail,Ee=ge==="left"?i.left(n):i.right(n);Ee.decorate(E),j(ce(xe).datum(ge)).call($(Ee))}),F.each((K,ge,xe)=>xe[ge].requestRedraw()),y(F,I,ae)})},Q=Ft(/range\w*/,/tickFormat/);return ze(R,t,Q,Tn("x")),ze(R,n,Q,Tn("y")),ze(R,b,Tn("x")),ze(R,$,Tn("y")),R.xOrient=(...V)=>V.length?(d=vt(V[0]),R):d,R.yOrient=(...V)=>V.length?(u=vt(V[0]),R):u,R.xDecorate=(...V)=>V.length?(A=V[0],R):A,R.yDecorate=(...V)=>V.length?(E=V[0],R):E,R.chartLabel=(...V)=>V.length?(a=vt(V[0]),R):a,R.xLabel=(...V)=>V.length?(o=vt(V[0]),R):o,R.yLabel=(...V)=>V.length?(l=vt(V[0]),R):l,R.xAxisHeight=(...V)=>V.length?(s=vt(V[0]),R):s,R.yAxisWidth=(...V)=>V.length?(c=vt(V[0]),R):c,R.webglPlotArea=(...V)=>V.length?(f=V[0],R):f,R.canvasPlotArea=(...V)=>V.length?(h=V[0],R):h,R.svgPlotArea=(...V)=>V.length?(g=V[0],R):g,R.decorate=(...V)=>V.length?(y=V[0],R):y,R.useDevicePixelRatio=(...V)=>V.length?(x=V[0],R):x,R},x3=(...e)=>{const t={xScale:Ct(),yScale:Ct(),xAxis:{bottom:js,top:Us},yAxis:{right:Co,left:Ws}};return e.length===1&&!e[0].domain&&!e[0].range?Object.assign(t,e[0]):Object.assign(t,{xScale:e[0]||t.xScale,yScale:e[1]||t.yScale})},k3={passive:!1},Ui={capture:!0,passive:!1};function El(e){e.stopImmediatePropagation()}function yr(e){e.preventDefault(),e.stopImmediatePropagation()}function k_(e){var t=e.document.documentElement,n=ce(e).on("dragstart.drag",yr,Ui);"onselectstart"in t?n.on("selectstart.drag",yr,Ui):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function S_(e,t){var n=e.document.documentElement,r=ce(e).on("dragstart.drag",null);t&&(r.on("click.drag",yr,Ui),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Sa=e=>()=>e;function is(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:l,dx:s,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}is.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function S3(e){return!e.ctrlKey&&!e.button}function M3(){return this.parentNode}function E3(e,t){return t??{x:e.x,y:e.y}}function A3(){return navigator.maxTouchPoints||"ontouchstart"in this}function as(){var e=S3,t=M3,n=E3,r=A3,i={},a=aa("start","drag","end"),o=0,l,s,c,u,d=0;function f(E){E.on("mousedown.drag",h).filter(r).on("touchstart.drag",x).on("touchmove.drag",b,k3).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(E,y){if(!(u||!e.call(this,E,y))){var k=$(this,t.call(this,E,y),E,y,"mouse");k&&(ce(E.view).on("mousemove.drag",g,Ui).on("mouseup.drag",p,Ui),k_(E.view),El(E),c=!1,l=E.clientX,s=E.clientY,k("start",E))}}function g(E){if(yr(E),!c){var y=E.clientX-l,k=E.clientY-s;c=y*y+k*k>d}i.mouse("drag",E)}function p(E){ce(E.view).on("mousemove.drag mouseup.drag",null),S_(E.view,c),yr(E),i.mouse("end",E)}function x(E,y){if(e.call(this,E,y)){var k=E.changedTouches,D=t.call(this,E,y),L=k.length,G,Y;for(G=0;G<L;++G)(Y=$(this,D,E,y,k[G].identifier,k[G]))&&(El(E),Y("start",E,k[G]))}}function b(E){var y=E.changedTouches,k=y.length,D,L;for(D=0;D<k;++D)(L=i[y[D].identifier])&&(yr(E),L("drag",E,y[D]))}function A(E){var y=E.changedTouches,k=y.length,D,L;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),D=0;D<k;++D)(L=i[y[D].identifier])&&(El(E),L("end",E,y[D]))}function $(E,y,k,D,L,G){var Y=a.copy(),U=Zt(G||k,y),re,q,N;if((N=n.call(E,new is("beforestart",{sourceEvent:k,target:f,identifier:L,active:o,x:U[0],y:U[1],dx:0,dy:0,dispatch:Y}),D))!=null)return re=N.x-U[0]||0,q=N.y-U[1]||0,function W(R,Q,V){var j=U,I;switch(R){case"start":i[L]=W,I=o++;break;case"end":delete i[L],--o;case"drag":U=Zt(V||Q,y),I=o;break}Y.call(R,E,new is(R,{sourceEvent:Q,subject:N,target:f,identifier:L,active:I,x:U[0]+re,y:U[1]+q,dx:U[0]-j[0],dy:U[1]-j[1],dispatch:Y}),D)}}return f.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Sa(!!E),f):e},f.container=function(E){return arguments.length?(t=typeof E=="function"?E:Sa(E),f):t},f.subject=function(E){return arguments.length?(n=typeof E=="function"?E:Sa(E),f):n},f.touchable=function(E){return arguments.length?(r=typeof E=="function"?E:Sa(!!E),f):r},f.on=function(){var E=a.on.apply(a,arguments);return E===a?f:E},f.clickDistance=function(E){return arguments.length?(d=(E=+E)*E,f):Math.sqrt(d)},f}var $r=0,wi=0,ui=0,M_=1e3,io,yi,ao=0,er=0,Oo=0,ji=typeof performance=="object"&&performance.now?performance:Date,E_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ys(){return er||(E_($3),er=ji.now()+Oo)}function $3(){er=0}function oo(){this._call=this._time=this._next=null}oo.prototype=A_.prototype={constructor:oo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ys():+n)+(t==null?0:+t),!this._next&&yi!==this&&(yi?yi._next=this:io=this,yi=this),this._call=e,this._time=n,os()},stop:function(){this._call&&(this._call=null,this._time=1/0,os())}};function A_(e,t,n){var r=new oo;return r.restart(e,t,n),r}function T3(){Ys(),++$r;for(var e=io,t;e;)(t=er-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$r}function df(){er=(ao=ji.now())+Oo,$r=wi=0;try{T3()}finally{$r=0,N3(),er=0}}function C3(){var e=ji.now(),t=e-ao;t>M_&&(Oo-=t,ao=e)}function N3(){for(var e,t=io,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:io=n);yi=e,os(r)}function os(e){if(!$r){wi&&(wi=clearTimeout(wi));var t=e-er;t>24?(e<1/0&&(wi=setTimeout(df,e-ji.now()-Oo)),ui&&(ui=clearInterval(ui))):(ui||(ao=ji.now(),ui=setInterval(C3,M_)),$r=1,E_(df))}}function hf(e,t,n){var r=new oo;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var O3=aa("start","end","cancel","interrupt"),L3=[],$_=0,_f=1,ls=2,La=3,gf=4,ss=5,za=6;function Lo(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;z3(e,n,{name:t,index:r,group:i,on:O3,tween:L3,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:$_})}function Xs(e,t){var n=Gt(e,t);if(n.state>$_)throw new Error("too late; already scheduled");return n}function sn(e,t){var n=Gt(e,t);if(n.state>La)throw new Error("too late; already running");return n}function Gt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function z3(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=A_(a,0,n.time);function a(c){n.state=_f,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,h;if(n.state!==_f)return s();for(u in r)if(h=r[u],h.name===n.name){if(h.state===La)return hf(o);h.state===gf?(h.state=za,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=za,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(hf(function(){n.state===La&&(n.state=gf,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=ls,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ls){for(n.state=La,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function l(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(s),n.state=ss,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===ss&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=za,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Ra(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>ls&&r.state<ss,r.state=za,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function R3(e){return this.each(function(){Ra(this,e)})}function V3(e,t){var n,r;return function(){var i=sn(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function D3(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=sn(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},s=0,c=i.length;s<c;++s)if(i[s].name===t){i[s]=l;break}s===c&&i.push(l)}a.tween=i}}function P3(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Gt(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?V3:D3)(n,e,t))}function Gs(e,t,n){var r=e._id;return e.each(function(){var i=sn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Gt(i,r).value[t]}}function T_(e,t){var n;return(typeof t=="number"?Bt:t instanceof an?Ga:(n=an(t))?(t=n,Ga):gh)(e,t)}function I3(e){return function(){this.removeAttribute(e)}}function F3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function U3(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function j3(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function W3(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function B3(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function q3(e,t){var n=ko(e),r=n==="transform"?I1:T_;return this.attrTween(e,typeof t=="function"?(n.local?B3:W3)(n,r,Gs(this,"attr."+e,t)):t==null?(n.local?F3:I3)(n):(n.local?j3:U3)(n,r,t))}function H3(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Y3(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function X3(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Y3(e,a)),n}return i._value=t,i}function G3(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&H3(e,a)),n}return i._value=t,i}function K3(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ko(e);return this.tween(n,(r.local?X3:G3)(r,t))}function Q3(e,t){return function(){Xs(this,e).delay=+t.apply(this,arguments)}}function J3(e,t){return t=+t,function(){Xs(this,e).delay=t}}function Z3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Q3:J3)(t,e)):Gt(this.node(),t).delay}function e8(e,t){return function(){sn(this,e).duration=+t.apply(this,arguments)}}function t8(e,t){return t=+t,function(){sn(this,e).duration=t}}function n8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?e8:t8)(t,e)):Gt(this.node(),t).duration}function r8(e,t){if(typeof t!="function")throw new Error;return function(){sn(this,e).ease=t}}function i8(e){var t=this._id;return arguments.length?this.each(r8(t,e)):Gt(this.node(),t).ease}function a8(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;sn(this,e).ease=n}}function o8(e){if(typeof e!="function")throw new Error;return this.each(a8(this._id,e))}function l8(e){typeof e!="function"&&(e=Fh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,c=0;c<o;++c)(s=a[c])&&e.call(s,s.__data__,c,a)&&l.push(s);return new mn(r,this._parents,this._name,this._id)}function s8(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s=t[l],c=n[l],u=s.length,d=o[l]=new Array(u),f,h=0;h<u;++h)(f=s[h]||c[h])&&(d[h]=f);for(;l<r;++l)o[l]=t[l];return new mn(o,this._parents,this._name,this._id)}function c8(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function u8(e,t,n){var r,i,a=c8(t)?Xs:sn;return function(){var o=a(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}function f8(e,t){var n=this._id;return arguments.length<2?Gt(this.node(),n).on.on(e):this.each(u8(n,e,t))}function d8(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function h8(){return this.on("end.remove",d8(this._id))}function _8(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zs(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l=r[o],s=l.length,c=a[o]=new Array(s),u,d,f=0;f<s;++f)(u=l[f])&&(d=e.call(u,u.__data__,f,l))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,Lo(c[f],t,n,f,c,Gt(u,n)));return new mn(a,this._parents,t,n)}function g8(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ih(e));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s=r[l],c=s.length,u,d=0;d<c;++d)if(u=s[d]){for(var f=e.call(u,u.__data__,d,s),h,g=Gt(u,n),p=0,x=f.length;p<x;++p)(h=f[p])&&Lo(h,t,n,p,f,g);a.push(f),o.push(u)}return new mn(a,o,t,n)}var p8=Lr.prototype.constructor;function b8(){return new p8(this._groups,this._parents)}function m8(e,t){var n,r,i;return function(){var a=Ar(this,e),o=(this.style.removeProperty(e),Ar(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function C_(e){return function(){this.style.removeProperty(e)}}function w8(e,t,n){var r,i=n+"",a;return function(){var o=Ar(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function y8(e,t,n){var r,i,a;return function(){var o=Ar(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),Ar(this,e))),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l))}}function v8(e,t){var n,r,i,a="style."+t,o="end."+a,l;return function(){var s=sn(this,e),c=s.on,u=s.value[a]==null?l||(l=C_(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),s.on=r}}function x8(e,t,n){var r=(e+="")=="transform"?P1:T_;return t==null?this.styleTween(e,m8(e,r)).on("end.style."+e,C_(e)):typeof t=="function"?this.styleTween(e,y8(e,r,Gs(this,"style."+e,t))).each(v8(this._id,e)):this.styleTween(e,w8(e,r,t),n).on("end.style."+e,null)}function k8(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function S8(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&k8(e,o,n)),r}return a._value=t,a}function M8(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,S8(e,t,n??""))}function E8(e){return function(){this.textContent=e}}function A8(e){return function(){var t=e(this);this.textContent=t??""}}function $8(e){return this.tween("text",typeof e=="function"?A8(Gs(this,"text",e)):E8(e==null?"":e+""))}function T8(e){return function(t){this.textContent=e.call(this,t)}}function C8(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&T8(i)),t}return r._value=e,r}function N8(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,C8(e))}function O8(){for(var e=this._name,t=this._id,n=N_(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,c=0;c<l;++c)if(s=o[c]){var u=Gt(s,t);Lo(s,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new mn(r,this._parents,e,n)}function L8(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},s={value:function(){--i===0&&a()}};n.each(function(){var c=sn(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),c.on=t}),i===0&&a()})}var z8=0;function mn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function N_(){return++z8}var cn=Lr.prototype;mn.prototype={constructor:mn,select:_8,selectAll:g8,selectChild:cn.selectChild,selectChildren:cn.selectChildren,filter:l8,merge:s8,selection:b8,transition:O8,call:cn.call,nodes:cn.nodes,node:cn.node,size:cn.size,empty:cn.empty,each:cn.each,on:f8,attr:q3,attrTween:K3,style:x8,styleTween:M8,text:$8,textTween:N8,remove:h8,tween:P3,delay:Z3,duration:n8,ease:i8,easeVarying:o8,end:L8,[Symbol.iterator]:cn[Symbol.iterator]};function O_(e){return--e*e*e+1}function R8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var V8={time:null,delay:0,duration:250,ease:R8};function D8(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function P8(e){var t,n;e instanceof mn?(t=e._id,e=e._name):(t=N_(),(n=V8).time=Ys(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,c=0;c<l;++c)(s=o[c])&&Lo(s,e,t,c,o,n||D8(s,t));return new mn(r,this._parents,e,t)}Lr.prototype.interrupt=R3;Lr.prototype.transition=P8;const Ma=e=>()=>e;function I8(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function _n(e,t,n){this.k=e,this.x=t,this.y=n}_n.prototype={constructor:_n,scale:function(e){return e===1?this:new _n(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new _n(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ci=new _n(1,0,0);_n.prototype;function Al(e){e.stopImmediatePropagation()}function fi(e){e.preventDefault(),e.stopImmediatePropagation()}function F8(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function U8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function pf(){return this.__zoom||Ci}function j8(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function W8(){return navigator.maxTouchPoints||"ontouchstart"in this}function B8(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function q8(){var e=F8,t=U8,n=B8,r=j8,i=W8,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,s=W1,c=aa("start","zoom","end"),u,d,f,h=500,g=150,p=0,x=10;function b(N){N.property("__zoom",pf).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",G).on("dblclick.zoom",Y).filter(i).on("touchstart.zoom",U).on("touchmove.zoom",re).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(N,W,R,Q){var V=N.selection?N.selection():N;V.property("__zoom",pf),N!==V?y(N,W,R,Q):V.interrupt().each(function(){k(this,arguments).event(Q).start().zoom(null,typeof W=="function"?W.apply(this,arguments):W).end()})},b.scaleBy=function(N,W,R,Q){b.scaleTo(N,function(){var V=this.__zoom.k,j=typeof W=="function"?W.apply(this,arguments):W;return V*j},R,Q)},b.scaleTo=function(N,W,R,Q){b.transform(N,function(){var V=t.apply(this,arguments),j=this.__zoom,I=R==null?E(V):typeof R=="function"?R.apply(this,arguments):R,ae=j.invert(I),ue=typeof W=="function"?W.apply(this,arguments):W;return n($(A(j,ue),I,ae),V,o)},R,Q)},b.translateBy=function(N,W,R,Q){b.transform(N,function(){return n(this.__zoom.translate(typeof W=="function"?W.apply(this,arguments):W,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),o)},null,Q)},b.translateTo=function(N,W,R,Q,V){b.transform(N,function(){var j=t.apply(this,arguments),I=this.__zoom,ae=Q==null?E(j):typeof Q=="function"?Q.apply(this,arguments):Q;return n(Ci.translate(ae[0],ae[1]).scale(I.k).translate(typeof W=="function"?-W.apply(this,arguments):-W,typeof R=="function"?-R.apply(this,arguments):-R),j,o)},Q,V)};function A(N,W){return W=Math.max(a[0],Math.min(a[1],W)),W===N.k?N:new _n(W,N.x,N.y)}function $(N,W,R){var Q=W[0]-R[0]*N.k,V=W[1]-R[1]*N.k;return Q===N.x&&V===N.y?N:new _n(N.k,Q,V)}function E(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function y(N,W,R,Q){N.on("start.zoom",function(){k(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(Q).end()}).tween("zoom",function(){var V=this,j=arguments,I=k(V,j).event(Q),ae=t.apply(V,j),ue=R==null?E(ae):typeof R=="function"?R.apply(V,j):R,F=Math.max(ae[1][0]-ae[0][0],ae[1][1]-ae[0][1]),K=V.__zoom,ge=typeof W=="function"?W.apply(V,j):W,xe=s(K.invert(ue).concat(F/K.k),ge.invert(ue).concat(F/ge.k));return function(Ee){if(Ee===1)Ee=ge;else{var Ie=xe(Ee),le=F/Ie[2];Ee=new _n(le,ue[0]-Ie[0]*le,ue[1]-Ie[1]*le)}I.zoom(null,Ee)}})}function k(N,W,R){return!R&&N.__zooming||new D(N,W)}function D(N,W){this.that=N,this.args=W,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,W),this.taps=0}D.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,W){return this.mouse&&N!=="mouse"&&(this.mouse[1]=W.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=W.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=W.invert(this.touch1[0])),this.that.__zoom=W,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var W=ce(this.that).datum();c.call(N,this.that,new I8(N,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:c}),W)}};function L(N,...W){if(!e.apply(this,arguments))return;var R=k(this,W).event(N),Q=this.__zoom,V=Math.max(a[0],Math.min(a[1],Q.k*Math.pow(2,r.apply(this,arguments)))),j=Zt(N);if(R.wheel)(R.mouse[0][0]!==j[0]||R.mouse[0][1]!==j[1])&&(R.mouse[1]=Q.invert(R.mouse[0]=j)),clearTimeout(R.wheel);else{if(Q.k===V)return;R.mouse=[j,Q.invert(j)],Ra(this),R.start()}fi(N),R.wheel=setTimeout(I,g),R.zoom("mouse",n($(A(Q,V),R.mouse[0],R.mouse[1]),R.extent,o));function I(){R.wheel=null,R.end()}}function G(N,...W){if(f||!e.apply(this,arguments))return;var R=N.currentTarget,Q=k(this,W,!0).event(N),V=ce(N.view).on("mousemove.zoom",ue,!0).on("mouseup.zoom",F,!0),j=Zt(N,R),I=N.clientX,ae=N.clientY;k_(N.view),Al(N),Q.mouse=[j,this.__zoom.invert(j)],Ra(this),Q.start();function ue(K){if(fi(K),!Q.moved){var ge=K.clientX-I,xe=K.clientY-ae;Q.moved=ge*ge+xe*xe>p}Q.event(K).zoom("mouse",n($(Q.that.__zoom,Q.mouse[0]=Zt(K,R),Q.mouse[1]),Q.extent,o))}function F(K){V.on("mousemove.zoom mouseup.zoom",null),S_(K.view,Q.moved),fi(K),Q.event(K).end()}}function Y(N,...W){if(e.apply(this,arguments)){var R=this.__zoom,Q=Zt(N.changedTouches?N.changedTouches[0]:N,this),V=R.invert(Q),j=R.k*(N.shiftKey?.5:2),I=n($(A(R,j),Q,V),t.apply(this,W),o);fi(N),l>0?ce(this).transition().duration(l).call(y,I,Q,N):ce(this).call(b.transform,I,Q,N)}}function U(N,...W){if(e.apply(this,arguments)){var R=N.touches,Q=R.length,V=k(this,W,N.changedTouches.length===Q).event(N),j,I,ae,ue;for(Al(N),I=0;I<Q;++I)ae=R[I],ue=Zt(ae,this),ue=[ue,this.__zoom.invert(ue),ae.identifier],V.touch0?!V.touch1&&V.touch0[2]!==ue[2]&&(V.touch1=ue,V.taps=0):(V.touch0=ue,j=!0,V.taps=1+!!u);u&&(u=clearTimeout(u)),j&&(V.taps<2&&(d=ue[0],u=setTimeout(function(){u=null},h)),Ra(this),V.start())}}function re(N,...W){if(this.__zooming){var R=k(this,W).event(N),Q=N.changedTouches,V=Q.length,j,I,ae,ue;for(fi(N),j=0;j<V;++j)I=Q[j],ae=Zt(I,this),R.touch0&&R.touch0[2]===I.identifier?R.touch0[0]=ae:R.touch1&&R.touch1[2]===I.identifier&&(R.touch1[0]=ae);if(I=R.that.__zoom,R.touch1){var F=R.touch0[0],K=R.touch0[1],ge=R.touch1[0],xe=R.touch1[1],Ee=(Ee=ge[0]-F[0])*Ee+(Ee=ge[1]-F[1])*Ee,Ie=(Ie=xe[0]-K[0])*Ie+(Ie=xe[1]-K[1])*Ie;I=A(I,Math.sqrt(Ee/Ie)),ae=[(F[0]+ge[0])/2,(F[1]+ge[1])/2],ue=[(K[0]+xe[0])/2,(K[1]+xe[1])/2]}else if(R.touch0)ae=R.touch0[0],ue=R.touch0[1];else return;R.zoom("touch",n($(I,ae,ue),R.extent,o))}}function q(N,...W){if(this.__zooming){var R=k(this,W).event(N),Q=N.changedTouches,V=Q.length,j,I;for(Al(N),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),j=0;j<V;++j)I=Q[j],R.touch0&&R.touch0[2]===I.identifier?delete R.touch0:R.touch1&&R.touch1[2]===I.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(I=Zt(I,this),Math.hypot(d[0]-I[0],d[1]-I[1])<x)){var ae=ce(this).on("dblclick.zoom");ae&&ae.apply(this,arguments)}}}return b.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:Ma(+N),b):r},b.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Ma(!!N),b):e},b.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:Ma(!!N),b):i},b.extent=function(N){return arguments.length?(t=typeof N=="function"?N:Ma([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),b):t},b.scaleExtent=function(N){return arguments.length?(a[0]=+N[0],a[1]=+N[1],b):[a[0],a[1]]},b.translateExtent=function(N){return arguments.length?(o[0][0]=+N[0][0],o[1][0]=+N[1][0],o[0][1]=+N[0][1],o[1][1]=+N[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(N){return arguments.length?(n=N,b):n},b.duration=function(N){return arguments.length?(l=+N,b):l},b.interpolate=function(N){return arguments.length?(s=N,b):s},b.on=function(){var N=c.on.apply(c,arguments);return N===c?b:N},b.clickDistance=function(N){return arguments.length?(p=(N=+N)*N,b):Math.sqrt(p)},b.tapDistance=function(N){return arguments.length?(x=+N,b):x},b}function H8(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Y8(){return this.eachAfter(H8)}function X8(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function G8(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function K8(e,t){for(var n=this,r=[n],i=[],a,o,l,s=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,l=a.length;o<l;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++s,this);return this}function Q8(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function J8(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Z8(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function e5(e){for(var t=this,n=t5(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function t5(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function n5(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function r5(){return Array.from(this)}function i5(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function a5(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*o5(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function zo(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=c5)):t===void 0&&(t=s5);for(var n=new lo(e),r,i=[n],a,o,l,s;r=i.pop();)if((o=t(r.data))&&(s=(o=Array.from(o)).length))for(r.children=o,l=s-1;l>=0;--l)i.push(a=o[l]=new lo(o[l])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(f5)}function l5(){return zo(this).eachBefore(u5)}function s5(e){return e.children}function c5(e){return Array.isArray(e)?e[1]:null}function u5(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function f5(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function lo(e){this.data=e,this.depth=this.height=0,this.parent=null}lo.prototype=zo.prototype={constructor:lo,count:Y8,each:X8,eachAfter:K8,eachBefore:G8,find:Q8,sum:J8,sort:Z8,path:e5,ancestors:n5,descendants:r5,leaves:i5,links:a5,copy:l5,[Symbol.iterator]:o5};function d5(e){if(typeof e!="function")throw new Error;return e}function di(){return 0}function hi(e){return function(){return e}}function L_(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function z_(e,t,n,r,i){for(var a=e.children,o,l=-1,s=a.length,c=e.value&&(r-t)/e.value;++l<s;)o=a[l],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}function h5(){var e=1,t=1,n=0,r=!1;function i(o){var l=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/l,o.eachBefore(a(t,l)),r&&o.eachBefore(L_),o}function a(o,l){return function(s){s.children&&z_(s,s.x0,o*(s.depth+1)/l,s.x1,o*(s.depth+2)/l);var c=s.x0,u=s.y0,d=s.x1-n,f=s.y1-n;d<c&&(c=d=(c+d)/2),f<u&&(u=f=(u+f)/2),s.x0=c,s.y0=u,s.x1=d,s.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}function _5(e,t,n,r,i){for(var a=e.children,o,l=-1,s=a.length,c=e.value&&(i-n)/e.value;++l<s;)o=a[l],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var g5=(1+Math.sqrt(5))/2;function p5(e,t,n,r,i,a){for(var o=[],l=t.children,s,c,u=0,d=0,f=l.length,h,g,p=t.value,x,b,A,$,E,y,k;u<f;){h=i-n,g=a-r;do x=l[d++].value;while(!x&&d<f);for(b=A=x,y=Math.max(g/h,h/g)/(p*e),k=x*x*y,E=Math.max(A/k,k/b);d<f;++d){if(x+=c=l[d].value,c<b&&(b=c),c>A&&(A=c),k=x*x*y,$=Math.max(A/k,k/b),$>E){x-=c;break}E=$}o.push(s={value:x,dice:h<g,children:l.slice(u,d)}),s.dice?z_(s,n,r,i,p?r+=g*x/p:a):_5(s,n,r,p?n+=h*x/p:i,a),p-=x,u=d}return o}const b5=function e(t){function n(r,i,a,o,l){p5(t,r,i,a,o,l)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(g5);function m5(){var e=b5,t=!1,n=1,r=1,i=[0],a=di,o=di,l=di,s=di,c=di;function u(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(L_),f}function d(f){var h=i[f.depth],g=f.x0+h,p=f.y0+h,x=f.x1-h,b=f.y1-h;x<g&&(g=x=(g+x)/2),b<p&&(p=b=(p+b)/2),f.x0=g,f.y0=p,f.x1=x,f.y1=b,f.children&&(h=i[f.depth+1]=a(f)/2,g+=c(f)-h,p+=o(f)-h,x-=l(f)-h,b-=s(f)-h,x<g&&(g=x=(g+x)/2),b<p&&(p=b=(p+b)/2),e(f,g,p,x,b))}return u.round=function(f){return arguments.length?(t=!!f,u):t},u.size=function(f){return arguments.length?(n=+f[0],r=+f[1],u):[n,r]},u.tile=function(f){return arguments.length?(e=d5(f),u):e},u.padding=function(f){return arguments.length?u.paddingInner(f).paddingOuter(f):u.paddingInner()},u.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:hi(+f),u):a},u.paddingOuter=function(f){return arguments.length?u.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):u.paddingTop()},u.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:hi(+f),u):o},u.paddingRight=function(f){return arguments.length?(l=typeof f=="function"?f:hi(+f),u):l},u.paddingBottom=function(f){return arguments.length?(s=typeof f=="function"?f:hi(+f),u):s},u.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:hi(+f),u):c},u}function w5(e,t,n,r,i){var a=e.children,o,l=a.length,s,c=new Array(l+1);for(c[0]=s=o=0;o<l;++o)c[o+1]=s+=a[o].value;u(0,l,e.value,t,n,r,i);function u(d,f,h,g,p,x,b){if(d>=f-1){var A=a[d];A.x0=g,A.y0=p,A.x1=x,A.y1=b;return}for(var $=c[d],E=h/2+$,y=d+1,k=f-1;y<k;){var D=y+k>>>1;c[D]<E?y=D+1:k=D}E-c[y-1]<c[y]-E&&d+1<y&&--y;var L=c[y]-$,G=h-L;if(x-g>b-p){var Y=h?(g*G+x*L)/h:x;u(d,y,L,g,p,Y,b),u(y,f,G,Y,p,x,b)}else{var U=h?(p*G+b*L)/h:b;u(d,y,L,g,p,x,U),u(y,f,G,g,U,x,b)}}}var cs="http://www.w3.org/1999/xhtml";const bf={svg:"http://www.w3.org/2000/svg",xhtml:cs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function R_(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),bf.hasOwnProperty(t)?{space:bf[t],local:e}:e}function y5(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===cs&&t.documentElement.namespaceURI===cs?t.createElement(e):t.createElementNS(n,e)}}function v5(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function V_(e){var t=R_(e);return(t.local?v5:y5)(t)}var x5=0;function mf(){this._="@"+(++x5).toString(36)}mf.prototype={constructor:mf,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var D_=function(e){return function(){return this.matches(e)}};if(typeof document<"u"){var _i=document.documentElement;if(!_i.matches){var k5=_i.webkitMatchesSelector||_i.msMatchesSelector||_i.mozMatchesSelector||_i.oMatchesSelector;D_=function(e){return function(){return k5.call(this,e)}}}}const S5=D_;var P_={};if(typeof document<"u"){var M5=document.documentElement;"onmouseenter"in M5||(P_={mouseenter:"mouseover",mouseleave:"mouseout"})}function E5(e,t,n){return e=I_(e,t,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&e.call(this,r)}}function I_(e,t,n){return function(r){try{e.call(this,this.__data__,t,n)}finally{}}}function A5(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function $5(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.capture):t[++r]=a;++r?t.length=r:delete this.__on}}}function T5(e,t,n){var r=P_.hasOwnProperty(e.type)?E5:I_;return function(i,a,o){var l=this.__on,s,c=r(t,a,o);if(l){for(var u=0,d=l.length;u<d;++u)if((s=l[u]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),s.value=t;return}}this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function C5(e,t,n){var r=A5(e+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,c=l.length,u;s<c;++s)for(i=0,u=l[s];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(l=t?T5:$5,n==null&&(n=!1),i=0;i<a;++i)this.each(l(r[i],t,n));return this}function N5(){}function F_(e){return e==null?N5:function(){return this.querySelector(e)}}function O5(e){typeof e!="function"&&(e=F_(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=new Array(o),s,c,u=0;u<o;++u)(s=a[u])&&(c=e.call(s,s.__data__,u,a))&&("__data__"in s&&(c.__data__=s.__data__),l[u]=c);return new Ut(r,this._parents)}function L5(){return[]}function z5(e){return e==null?L5:function(){return this.querySelectorAll(e)}}function R5(e){typeof e!="function"&&(e=z5(e));for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],l=o.length,s,c=0;c<l;++c)(s=o[c])&&(r.push(e.call(s,s.__data__,c,o)),i.push(s));return new Ut(r,i)}function V5(e){typeof e!="function"&&(e=S5(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,c=0;c<o;++c)(s=a[c])&&e.call(s,s.__data__,c,a)&&l.push(s);return new Ut(r,this._parents)}function U_(e){return new Array(e.length)}function D5(){return new Ut(this._enter||this._groups.map(U_),this._parents)}function so(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}so.prototype={constructor:so,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function P5(e){return function(){return e}}var wf="$";function I5(e,t,n,r,i,a){for(var o=0,l,s=t.length,c=a.length;o<c;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new so(e,a[o]);for(;o<s;++o)(l=t[o])&&(i[o]=l)}function F5(e,t,n,r,i,a,o){var l,s,c={},u=t.length,d=a.length,f=new Array(u),h;for(l=0;l<u;++l)(s=t[l])&&(f[l]=h=wf+o.call(s,s.__data__,l,t),h in c?i[l]=s:c[h]=s);for(l=0;l<d;++l)h=wf+o.call(e,a[l],l,a),(s=c[h])?(r[l]=s,s.__data__=a[l],c[h]=null):n[l]=new so(e,a[l]);for(l=0;l<u;++l)(s=t[l])&&c[f[l]]===s&&(i[l]=s)}function U5(e,t){if(!e)return h=new Array(this.size()),c=-1,this.each(function(k){h[++c]=k}),h;var n=t?F5:I5,r=this._parents,i=this._groups;typeof e!="function"&&(e=P5(e));for(var a=i.length,o=new Array(a),l=new Array(a),s=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],f=d.length,h=e.call(u,u&&u.__data__,c,r),g=h.length,p=l[c]=new Array(g),x=o[c]=new Array(g),b=s[c]=new Array(f);n(u,d,p,x,b,h,t);for(var A=0,$=0,E,y;A<g;++A)if(E=p[A]){for(A>=$&&($=A+1);!(y=x[$])&&++$<g;);E._next=y||null}}return o=new Ut(o,r),o._enter=l,o._exit=s,o}function j5(){return new Ut(this._exit||this._groups.map(U_),this._parents)}function W5(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s=t[l],c=n[l],u=s.length,d=o[l]=new Array(u),f,h=0;h<u;++h)(f=s[h]||c[h])&&(d[h]=f);for(;l<r;++l)o[l]=t[l];return new Ut(o,this._parents)}function B5(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&a!==o.nextSibling&&a.parentNode.insertBefore(o,a),a=o);return this}function q5(e){e||(e=H5);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,s=i[a]=new Array(l),c,u=0;u<l;++u)(c=o[u])&&(s[u]=c);s.sort(t)}return new Ut(i,this._parents).order()}function H5(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Y5(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function X5(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function G5(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function K5(){var e=0;return this.each(function(){++e}),e}function Q5(){return!this.node()}function J5(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function Z5(e){return function(){this.removeAttribute(e)}}function e6(e){return function(){this.removeAttributeNS(e.space,e.local)}}function t6(e,t){return function(){this.setAttribute(e,t)}}function n6(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function r6(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function i6(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function a6(e,t){var n=R_(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?e6:Z5:typeof t=="function"?n.local?i6:r6:n.local?n6:t6)(n,t))}function j_(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function o6(e){return function(){this.style.removeProperty(e)}}function l6(e,t,n){return function(){this.style.setProperty(e,t,n)}}function s6(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function c6(e,t,n){var r;return arguments.length>1?this.each((t==null?o6:typeof t=="function"?s6:l6)(e,t,n??"")):j_(r=this.node()).getComputedStyle(r,null).getPropertyValue(e)}function u6(e){return function(){delete this[e]}}function f6(e,t){return function(){this[e]=t}}function d6(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function h6(e,t){return arguments.length>1?this.each((t==null?u6:typeof t=="function"?d6:f6)(e,t)):this.node()[e]}function W_(e){return e.trim().split(/^|\s+/)}function Ks(e){return e.classList||new B_(e)}function B_(e){this._node=e,this._names=W_(e.getAttribute("class")||"")}B_.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function q_(e,t){for(var n=Ks(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function H_(e,t){for(var n=Ks(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function _6(e){return function(){q_(this,e)}}function g6(e){return function(){H_(this,e)}}function p6(e,t){return function(){(t.apply(this,arguments)?q_:H_)(this,e)}}function b6(e,t){var n=W_(e+"");if(arguments.length<2){for(var r=Ks(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?p6:t?_6:g6)(n,t))}function m6(){this.textContent=""}function w6(e){return function(){this.textContent=e}}function y6(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function v6(e){return arguments.length?this.each(e==null?m6:(typeof e=="function"?y6:w6)(e)):this.node().textContent}function x6(){this.innerHTML=""}function k6(e){return function(){this.innerHTML=e}}function S6(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function M6(e){return arguments.length?this.each(e==null?x6:(typeof e=="function"?S6:k6)(e)):this.node().innerHTML}function E6(){this.nextSibling&&this.parentNode.appendChild(this)}function A6(){return this.each(E6)}function $6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function T6(){return this.each($6)}function C6(e){var t=typeof e=="function"?e:V_(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function N6(){return null}function O6(e,t){var n=typeof e=="function"?e:V_(e),r=t==null?N6:typeof t=="function"?t:F_(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function L6(){var e=this.parentNode;e&&e.removeChild(this)}function z6(){return this.each(L6)}function R6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Y_(e,t,n){var r=j_(e),i=r.CustomEvent;i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function V6(e,t){return function(){return Y_(this,e,t)}}function D6(e,t){return function(){return Y_(this,e,t.apply(this,arguments))}}function P6(e,t){return this.each((typeof t=="function"?D6:V6)(e,t))}var I6=[null];function Ut(e,t){this._groups=e,this._parents=t}Ut.prototype={constructor:Ut,select:O5,selectAll:R5,filter:V5,data:U5,enter:D5,exit:j5,merge:W5,order:B5,sort:q5,call:Y5,nodes:X5,node:G5,size:K5,empty:Q5,each:J5,attr:a6,style:c6,property:h6,classed:b6,text:v6,html:M6,raise:A6,lower:T6,append:C6,insert:O6,remove:z6,datum:R6,on:C5,dispatch:P6};function F6(e){return typeof e=="string"?new Ut([[document.querySelector(e)]],[document.documentElement]):new Ut([[e]],I6)}function co(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Tr(e){return e=co(Math.abs(e)),e?e[1]:NaN}function U6(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function j6(e,t){e=e.toPrecision(t);e:for(var n=e.length,r=1,i=-1,a;r<n;++r)switch(e[r]){case".":i=a=r;break;case"0":i===0&&(i=r),a=r;break;case"e":break e;default:i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(a+1):e}var X_;function W6(e,t){var n=co(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(X_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+co(e,Math.max(0,t+a-1))[0]}function yf(e,t){var n=co(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const G_={"":j6,"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return yf(e*100,t)},r:yf,s:W6,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};var B6=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Wi(e){return new K_(e)}function K_(e){if(!(t=B6.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",a=t[4]||"",o=!!t[5],l=t[6]&&+t[6],s=!!t[7],c=t[8]&&+t[8].slice(1),u=t[9]||"";u==="n"?(s=!0,u="g"):G_[u]||(u=""),(o||n==="0"&&r==="=")&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=l,this.comma=s,this.precision=c,this.type=u}K_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var vf=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function q6(e){return e}function Qs(e){var t=e.grouping&&e.thousands?U6(e.grouping,e.thousands):q6,n=e.currency,r=e.decimal;function i(o){o=Wi(o);var l=o.fill,s=o.align,c=o.sign,u=o.symbol,d=o.zero,f=o.width,h=o.comma,g=o.precision,p=o.type,x=u==="$"?n[0]:u==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",b=u==="$"?n[1]:/[%p]/.test(p)?"%":"",A=G_[p],$=!p||/[defgprs%]/.test(p);g=g==null?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function E(y){var k=x,D=b,L,G,Y;if(p==="c")D=A(y)+D,y="";else{y=+y;var U=(y<0||1/y<0)&&(y*=-1,!0);if(y=A(y,g),U){for(L=-1,G=y.length,U=!1;++L<G;)if(Y=y.charCodeAt(L),48<Y&&Y<58||p==="x"&&96<Y&&Y<103||p==="X"&&64<Y&&Y<71){U=!0;break}}if(k=(U?c==="("?c:"-":c==="-"||c==="("?"":c)+k,D=D+(p==="s"?vf[8+X_/3]:"")+(U&&c==="("?")":""),$){for(L=-1,G=y.length;++L<G;)if(Y=y.charCodeAt(L),48>Y||Y>57){D=(Y===46?r+y.slice(L+1):y.slice(L))+D,y=y.slice(0,L);break}}}h&&!d&&(y=t(y,1/0));var re=k.length+y.length+D.length,q=re<f?new Array(f-re+1).join(l):"";switch(h&&d&&(y=t(q+y,q.length?f-D.length:1/0),q=""),s){case"<":return k+y+D+q;case"=":return k+q+y+D;case"^":return q.slice(0,re=q.length>>1)+k+y+D+q.slice(re)}return q+k+y+D}return E.toString=function(){return o+""},E}function a(o,l){var s=i((o=Wi(o),o.type="f",o)),c=Math.max(-8,Math.min(8,Math.floor(Tr(l)/3)))*3,u=Math.pow(10,-c),d=vf[8+c/3];return function(f){return s(u*f)+d}}return{format:i,formatPrefix:a}}var Ea,Js,Zs;H6({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function H6(e){return Ea=Qs(e),Js=Ea.format,Zs=Ea.formatPrefix,Ea}function Y6(e){return Math.max(0,-Tr(Math.abs(e)))}function X6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tr(t)/3)))*3-Tr(Math.abs(e)))}function G6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tr(t)-Tr(e))+1}var K6={value:function(){}};function ec(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n)throw new Error("illegal type: "+r);n[r]=[]}return new Va(n)}function Va(e){this._=e}function Q6(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Va.prototype=ec.prototype={constructor:Va,on:function(e,t){var n=this._,r=Q6(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=J6(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=xf(n[i],e.name,t);else if(t==null)for(i in n)n[i]=xf(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Va(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function J6(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function xf(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=K6,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}function Q_(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Z6(e){return e.length===1&&(e=e4(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function e4(e){return function(t,n){return Q_(e(t),n)}}var t4=Z6(Q_),n4=t4.right;function r4(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}var i4=Math.sqrt(50),a4=Math.sqrt(10),o4=Math.sqrt(2);function l4(e,t,n){var r=uo(e,t,n);return r4(Math.ceil(e/r)*r,Math.floor(t/r)*r+r/2,r)}function uo(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=i4?i*=10:a>=a4?i*=5:a>=o4&&(i*=2),t<e?-i:i}function kf(e,t){var n=-1,r=e.length,i,a;if(t==null){for(;++n<r;)if((a=e[n])!=null&&a>=a){i=a;break}for(;++n<r;)(a=e[n])!=null&&a>i&&(i=a)}else{for(;++n<r;)if((a=t(e[n],n,e))!=null&&a>=a){i=a;break}for(;++n<r;)(a=t(e[n],n,e))!=null&&a>i&&(i=a)}return i}function J_(e,t){for(var n=0,r=e.length,i,a=-1;++a<r;)(i=+e[a])&&(n+=i);return n}var Rt="$";function fo(){}fo.prototype=Z_.prototype={constructor:fo,has:function(e){return Rt+e in this},get:function(e){return this[Rt+e]},set:function(e,t){return this[Rt+e]=t,this},remove:function(e){var t=Rt+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Rt&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Rt&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Rt&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Rt&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Rt&&++e;return e},empty:function(){for(var e in this)if(e[0]===Rt)return!1;return!0},each:function(e){for(var t in this)t[0]===Rt&&e(this[t],t.slice(1),this)}};function Z_(e,t){var n=new fo;if(e instanceof fo)e.each(function(l,s){n.set(s,l)});else if(Array.isArray(e)){var r=-1,i=e.length,a;if(t==null)for(;++r<i;)n.set(r,e[r]);else for(;++r<i;)n.set(t(a=e[r],r,e),a)}else if(e)for(var o in e)n.set(o,e[o]);return n}function Sf(){}var In=Z_.prototype;Sf.prototype={constructor:Sf,has:In.has,add:function(e){return e+="",this[Rt+e]=e,this},remove:In.remove,clear:In.clear,values:In.keys,size:In.size,empty:In.empty,each:In.each};var eg=Array.prototype,s4=eg.map,Mf=eg.slice;function Ro(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tc(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Vr(){}var tr=.7,Cr=1/tr,vr="\\s*([+-]?\\d+)\\s*",Bi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c4=/^#([0-9a-f]{3,8})$/,u4=new RegExp("^rgb\\("+[vr,vr,vr]+"\\)$"),f4=new RegExp("^rgb\\("+[rn,rn,rn]+"\\)$"),d4=new RegExp("^rgba\\("+[vr,vr,vr,Bi]+"\\)$"),h4=new RegExp("^rgba\\("+[rn,rn,rn,Bi]+"\\)$"),_4=new RegExp("^hsl\\("+[Bi,rn,rn]+"\\)$"),g4=new RegExp("^hsla\\("+[Bi,rn,rn,Bi]+"\\)$"),Ef={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ro(Vr,qi,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Af,formatHex:Af,formatHsl:p4,formatRgb:$f,toString:$f});function Af(){return this.rgb().formatHex()}function p4(){return ng(this).formatHsl()}function $f(){return this.rgb().formatRgb()}function qi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c4.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Tf(t):n===3?new wt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Aa(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Aa(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=u4.exec(e))?new wt(t[1],t[2],t[3],1):(t=f4.exec(e))?new wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=d4.exec(e))?Aa(t[1],t[2],t[3],t[4]):(t=h4.exec(e))?Aa(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_4.exec(e))?Of(t[1],t[2]/100,t[3]/100,1):(t=g4.exec(e))?Of(t[1],t[2]/100,t[3]/100,t[4]):Ef.hasOwnProperty(e)?Tf(Ef[e]):e==="transparent"?new wt(NaN,NaN,NaN,0):null}function Tf(e){return new wt(e>>16&255,e>>8&255,e&255,1)}function Aa(e,t,n,r){return r<=0&&(e=t=n=NaN),new wt(e,t,n,r)}function tg(e){return e instanceof Vr||(e=qi(e)),e?(e=e.rgb(),new wt(e.r,e.g,e.b,e.opacity)):new wt}function us(e,t,n,r){return arguments.length===1?tg(e):new wt(e,t,n,r??1)}function wt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ro(wt,us,tc(Vr,{brighter:function(e){return e=e==null?Cr:Math.pow(Cr,e),new wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?tr:Math.pow(tr,e),new wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cf,formatHex:Cf,formatRgb:Nf,toString:Nf}));function Cf(){return"#"+$l(this.r)+$l(this.g)+$l(this.b)}function Nf(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function $l(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Of(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,n,r)}function ng(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof Vr||(e=qi(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new tn(o,l,s,e.opacity)}function b4(e,t,n,r){return arguments.length===1?ng(e):new tn(e,t,n,r??1)}function tn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ro(tn,b4,tc(Vr,{brighter:function(e){return e=e==null?Cr:Math.pow(Cr,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?tr:Math.pow(tr,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wt(Tl(e>=240?e-240:e+120,i,r),Tl(e,i,r),Tl(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Tl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var m4=Math.PI/180,w4=180/Math.PI,rg=-.14861,nc=1.78277,rc=-.29227,Vo=-.90649,Hi=1.97294,Lf=Hi*Vo,zf=Hi*nc,Rf=nc*rc-Vo*rg;function y4(e){if(e instanceof Qn)return new Qn(e.h,e.s,e.l,e.opacity);e instanceof wt||(e=tg(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Rf*r+Lf*t-zf*n)/(Rf+Lf-zf),a=r-i,o=(Hi*(n-i)-rc*a)/Vo,l=Math.sqrt(o*o+a*a)/(Hi*i*(1-i)),s=l?Math.atan2(o,a)*w4-120:NaN;return new Qn(s<0?s+360:s,l,i,e.opacity)}function on(e,t,n,r){return arguments.length===1?y4(e):new Qn(e,t,n,r??1)}function Qn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ro(Qn,on,tc(Vr,{brighter:function(e){return e=e==null?Cr:Math.pow(Cr,e),new Qn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?tr:Math.pow(tr,e),new Qn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*m4,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new wt(255*(t+n*(rg*r+nc*i)),255*(t+n*(rc*r+Vo*i)),255*(t+n*(Hi*r)),this.opacity)}}));function Do(e){return function(){return e}}function ig(e,t){return function(n){return e+n*t}}function v4(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function x4(e,t){var n=t-e;return n?ig(e,n>180||n<-180?n-360*Math.round(n/360):n):Do(isNaN(e)?t:e)}function k4(e){return(e=+e)==1?xr:function(t,n){return n-t?v4(t,n,e):Do(isNaN(t)?n:t)}}function xr(e,t){var n=t-e;return n?ig(e,n):Do(isNaN(e)?t:e)}const Vf=function e(t){var n=k4(t);function r(i,a){var o=n((i=us(i)).r,(a=us(a)).r),l=n(i.g,a.g),s=n(i.b,a.b),c=xr(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=s(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function S4(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function M4(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function E4(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ic(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function A4(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ho(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $4(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ic(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var fs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cl=new RegExp(fs.source,"g");function T4(e){return function(){return e}}function C4(e){return function(t){return e(t)+""}}function N4(e,t){var n=fs.lastIndex=Cl.lastIndex=0,r,i,a,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=fs.exec(e))&&(i=Cl.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,s.push({i:o,x:ho(r,i)})),n=Cl.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?C4(s[0].x):T4(t):(t=s.length,function(c){for(var u=0,d;u<t;++u)l[(d=s[u]).i]=d.x(c);return l.join("")})}function ic(e,t){var n=typeof t,r;return t==null||n==="boolean"?Do(t):(n==="number"?ho:n==="string"?(r=qi(t))?(t=r,Vf):N4:t instanceof qi?Vf:t instanceof Date?A4:M4(t)?S4:Array.isArray(t)?E4:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$4:ho)(e,t)}function O4(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ag(e){return function t(n){n=+n;function r(i,a){var o=e((i=on(i)).h,(a=on(a)).h),l=xr(i.s,a.s),s=xr(i.l,a.l),c=xr(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=l(u),i.l=s(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r}(1)}ag(x4);var ac=ag(xr);function L4(e){return function(){return e}}function z4(e){return+e}var Df=[0,1];function og(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:L4(t)}function R4(e){return function(t,n){var r=e(t=+t,n=+n);return function(i){return i<=t?0:i>=n?1:r(i)}}}function V4(e){return function(t,n){var r=e(t=+t,n=+n);return function(i){return i<=0?t:i>=1?n:r(i)}}}function D4(e,t,n,r){var i=e[0],a=e[1],o=t[0],l=t[1];return a<i?(i=n(a,i),o=r(l,o)):(i=n(i,a),o=r(o,l)),function(s){return o(i(s))}}function P4(e,t,n,r){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)a[l]=n(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(s){var c=n4(e,s,1,i)-1;return o[c](a[c](s))}}function I4(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function F4(e,t){var n=Df,r=Df,i=ic,a=!1,o,l,s;function c(){return o=Math.min(n.length,r.length)>2?P4:D4,l=s=null,u}function u(d){return(l||(l=o(n,r,a?R4(e):e,i)))(+d)}return u.invert=function(d){return(s||(s=o(r,n,og,a?V4(t):t)))(+d)},u.domain=function(d){return arguments.length?(n=s4.call(d,z4),c()):n.slice()},u.range=function(d){return arguments.length?(r=Mf.call(d),c()):r.slice()},u.rangeRound=function(d){return r=Mf.call(d),i=O4,c()},u.clamp=function(d){return arguments.length?(a=!!d,c()):a},u.interpolate=function(d){return arguments.length?(i=d,c()):i},c()}function U4(e,t,n){var r=e[0],i=e[e.length-1],a=uo(r,i,t??10),o;switch(n=Wi(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(r),Math.abs(i));return n.precision==null&&!isNaN(o=X6(a,l))&&(n.precision=o),Zs(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=G6(a,Math.max(Math.abs(r),Math.abs(i))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Y6(a))&&(n.precision=o-(n.type==="%")*2);break}}return Js(n)}function j4(e){var t=e.domain;return e.ticks=function(n){var r=t();return l4(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){return U4(t(),n,r)},e.nice=function(n){var r=t(),i=r.length-1,a=n??10,o=r[0],l=r[i],s=uo(o,l,a);return s&&(s=uo(Math.floor(o/s)*s,Math.ceil(l/s)*s,a),r[0]=Math.floor(o/s)*s,r[i]=Math.ceil(l/s)*s,t(r)),e},e}function oc(){var e=F4(og,ho);return e.copy=function(){return I4(e,oc())},j4(e)}function Vn(e){return e.match(/.{6}/g).map(function(t){return"#"+t})}Vn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");Vn("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");Vn("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");Vn("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");ac(on(300,.5,0),on(-240,.5,1));ac(on(-100,.75,.35),on(80,1.5,.8));ac(on(260,.75,.35),on(80,1.5,.8));on();function Po(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Po(Vn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Po(Vn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Po(Vn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Po(Vn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var W4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg=function(t){return t},Pf=function(t){for(var n=[],r=0,i=t.length;r<i;r++)n[r]=t[i-r-1];return n},If=function(t,n){t.each(function(){var r=F6(this),i=r.text().split(/\s+/).reverse(),a,o=[],l=1.2;r.attr("y");for(var s=parseFloat(r.attr("dy"))||0,c=r.text(null).append("tspan").attr("x",0).attr("dy",s+"em");a=i.pop();)o.push(a),c.text(o.join(" ")),c.node().getComputedTextLength()>n&&o.length>1&&(o.pop(),c.text(o.join(" ")),o=[a],c=r.append("tspan").attr("x",0).attr("dy",l+s+"em").text(a))})},B4=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],r=arguments[2],i=arguments[3],a=arguments[4];if((typeof n>"u"?"undefined":W4(n))==="object"){if(n.length===0)return t;for(var o=n.length;o<t.length;o++)n.push(t[o]);return n}else if(typeof n=="function"){for(var l=[],s=t.length,c=0;c<s;c++)l.push(n({i:c,genLength:s,generatedLabels:t,domain:r,range:i,labelDelimiter:a}));return l}return t},q4=function(t,n,r){var i=[];if(n.length>1)i=n;else for(var a=t.domain(),o=(a[a.length-1]-a[0])/(n-1),l=0;l<n;l++)i.push(a[0]+l*o);var s=i.map(r);return{data:i,labels:s,feature:function(u){return t(u)}}},H4=function(t,n,r){var i=t.range().map(function(a){var o=t.invertExtent(a);return n(o[0])+" "+r+" "+n(o[1])});return{data:t.range(),labels:i,feature:lg}},Y4=function(t){return{data:t.domain(),labels:t.domain(),feature:function(r){return t(r)}}},X4=function(t,n,r){t.call("cellover",r,n)},G4=function(t,n,r){t.call("cellout",r,n)},K4=function(t,n,r){t.call("cellclick",r,n)},tt={d3_drawShapes:function(t,n,r,i,a,o){t==="rect"?n.attr("height",r).attr("width",i):t==="circle"?n.attr("r",a):t==="line"?n.attr("x1",0).attr("x2",i).attr("y1",0).attr("y2",0):t==="path"&&n.attr("d",o)},d3_addText:function(t,n,r,i,a){n.append("text").attr("class",i+"label");var o=t.selectAll("g."+i+"cell text."+i+"label").data(r).text(lg);return a&&t.selectAll("g."+i+"cell text."+i+"label").call(If,a),o},d3_calcType:function(t,n,r,i,a,o){var l=t.invertExtent?H4(t,a,o):t.ticks?q4(t,r,a):Y4(t),s=t.range&&t.range()||t.domain();return l.labels=B4(l.labels,i,t.domain(),s,o),n&&(l.labels=Pf(l.labels),l.data=Pf(l.data)),l},d3_filterCells:function(t,n){var r=t.data.map(function(o,l){return{data:o,label:t.labels[l]}}).filter(n),i=r.map(function(o){return o.data}),a=r.map(function(o){return o.label});return t.data=t.data.filter(function(o){return i.indexOf(o)!==-1}),t.labels=t.labels.filter(function(o){return a.indexOf(o)!==-1}),t},d3_placement:function(t,n,r,i,a,o){n.attr("transform",r),i.attr("transform",a),t==="horizontal"&&i.style("text-anchor",o)},d3_addEvents:function(t,n){t.on("mouseover.legend",function(r){X4(n,r,this)}).on("mouseout.legend",function(r){G4(n,r,this)}).on("click.legend",function(r){K4(n,r,this)})},d3_title:function(t,n,r,i){if(n!==""){var a=t.selectAll("text."+r+"legendTitle");a.data([n]).enter().append("text").attr("class",r+"legendTitle"),t.selectAll("text."+r+"legendTitle").text(n),i&&t.selectAll("text."+r+"legendTitle").call(If,i);var o=t.select("."+r+"legendCells"),l=t.select("."+r+"legendTitle").nodes().map(function(c){return c.getBBox().height})[0],s=-o.nodes().map(function(c){return c.getBBox().x})[0];o.attr("transform","translate("+s+","+l+")")}},d3_defaultLocale:{format:Js,formatPrefix:Zs},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function sg(){var e=oc(),t="rect",n=15,r=15,i=10,a=2,o=[5],l=void 0,s=[],c="",u=!1,d="",f=tt.d3_defaultLocale,h=tt.d3_defaultFormatSpecifier,g=10,p="middle",x=tt.d3_defaultDelimiter,b=void 0,A="vertical",$=!1,E=void 0,y=void 0,k=ec("cellover","cellout","cellclick");function D(L){var G=tt.d3_calcType(e,$,o,s,f.format(h),x),Y=L.selectAll("g").data([e]);Y.enter().append("g").attr("class",c+"legendCells"),l&&tt.d3_filterCells(G,l);var U=L.select("."+c+"legendCells").selectAll("."+c+"cell").data(G.data),re=U.enter().append("g").attr("class",c+"cell");re.append(t).attr("class",c+"swatch");var q=L.selectAll("g."+c+"cell "+t+"."+c+"swatch").data(G.data);tt.d3_addEvents(re,k),U.exit().transition().style("opacity",0).remove(),q.exit().transition().style("opacity",0).remove(),q=q.merge(q),tt.d3_drawShapes(t,q,r,n,i,E);var N=tt.d3_addText(L,re,G.labels,c,b);U=re.merge(U);var W=N.nodes().map(function(I){return I.getBBox()}),R=q.nodes().map(function(I){return I.getBBox()});u?q.attr("class",function(I){return c+"swatch "+G.feature(I)}):t=="line"?q.style("stroke",G.feature):q.style("fill",G.feature);var Q=void 0,V=void 0,j=p=="start"?0:p=="middle"?.5:1;A==="vertical"?function(){var I=W.map(function(ae,ue){return Math.max(ae.height,R[ue].height)});Q=function(ue,F){var K=J_(I.slice(0,F));return"translate(0, "+(K+F*a)+")"},V=function(ue,F){return"translate( "+(R[F].width+R[F].x+g)+", "+(R[F].y+R[F].height/2+5)+")"}}():A==="horizontal"&&(Q=function(ae,ue){return"translate("+ue*(R[ue].width+a)+",0)"},V=function(ae,ue){return"translate("+(R[ue].width*j+R[ue].x)+`,
          `+(R[ue].height+R[ue].y+g+8)+")"}),tt.d3_placement(A,U,Q,N,V,p),tt.d3_title(L,d,c,y),U.transition().style("opacity",1)}return D.scale=function(L){return arguments.length?(e=L,D):e},D.cells=function(L){return arguments.length?((L.length>1||L>=2)&&(o=L),D):o},D.cellFilter=function(L){return arguments.length?(l=L,D):l},D.shape=function(L,G){return arguments.length?((L=="rect"||L=="circle"||L=="line"||L=="path"&&typeof G=="string")&&(t=L,E=G),D):t},D.shapeWidth=function(L){return arguments.length?(n=+L,D):n},D.shapeHeight=function(L){return arguments.length?(r=+L,D):r},D.shapeRadius=function(L){return arguments.length?(i=+L,D):i},D.shapePadding=function(L){return arguments.length?(a=+L,D):a},D.labels=function(L){return arguments.length?(s=L,D):s},D.labelAlign=function(L){return arguments.length?((L=="start"||L=="end"||L=="middle")&&(p=L),D):p},D.locale=function(L){return arguments.length?(f=Qs(L),D):f},D.labelFormat=function(L){return arguments.length?(h=Wi(L),D):D.locale().format(h)},D.labelOffset=function(L){return arguments.length?(g=+L,D):g},D.labelDelimiter=function(L){return arguments.length?(x=L,D):x},D.labelWrap=function(L){return arguments.length?(b=L,D):b},D.useClass=function(L){return arguments.length?((L===!0||L===!1)&&(u=L),D):u},D.orient=function(L){return arguments.length?(L=L.toLowerCase(),(L=="horizontal"||L=="vertical")&&(A=L),D):A},D.ascending=function(L){return arguments.length?($=!!L,D):$},D.classPrefix=function(L){return arguments.length?(c=L,D):c},D.title=function(L){return arguments.length?(d=L,D):d},D.titleWidth=function(L){return arguments.length?(y=L,D):y},D.textWrap=function(L){return arguments.length?(textWrap=L,D):textWrap},D.on=function(){var L=k.on.apply(k,arguments);return L===k?D:L},D}function Q4(){var e=oc(),t="path",n=15,r=15,i=10,a=5,o=[5],l=void 0,s=[],c="",u="",d=tt.d3_defaultLocale,f=tt.d3_defaultFormatSpecifier,h="middle",g=10,p=tt.d3_defaultDelimiter,x=void 0,b="vertical",A=!1,$=void 0,E=ec("cellover","cellout","cellclick");function y(k){var D=tt.d3_calcType(e,A,o,s,d.format(f),p),L=k.selectAll("g").data([e]);l&&tt.d3_filterCells(D,l),L.enter().append("g").attr("class",c+"legendCells");var G=k.select("."+c+"legendCells").selectAll("."+c+"cell").data(D.data),Y=G.enter().append("g").attr("class",c+"cell");Y.append(t).attr("class",c+"swatch");var U=k.selectAll("g."+c+"cell "+t+"."+c+"swatch");tt.d3_addEvents(Y,E),G.exit().transition().style("opacity",0).remove(),U.exit().transition().style("opacity",0).remove(),U=U.merge(U),tt.d3_drawShapes(t,U,r,n,i,D.feature);var re=tt.d3_addText(k,Y,D.labels,c,x);G=Y.merge(G);var q=re.nodes().map(function(I){return I.getBBox()}),N=U.nodes().map(function(I){return I.getBBox()}),W=kf(N,function(I){return I.height}),R=kf(N,function(I){return I.width}),Q=void 0,V=void 0,j=h=="start"?0:h=="middle"?.5:1;b==="vertical"?function(){var I=q.map(function(ae,ue){return Math.max(W,ae.height)});Q=function(ue,F){var K=J_(I.slice(0,F));return"translate(0, "+(K+F*a)+" )"},V=function(ue,F){return"translate( "+(R+g)+`,
              `+(N[F].y+N[F].height/2+5)+")"}}():b==="horizontal"&&(Q=function(ae,ue){return"translate( "+ue*(R+a)+",0)"},V=function(ae,ue){return"translate( "+(N[ue].width*j+N[ue].x)+`,
              `+(W+g)+")"}),tt.d3_placement(b,G,Q,re,V,h),tt.d3_title(k,u,c,$),G.transition().style("opacity",1)}return y.scale=function(k){return arguments.length?(e=k,y):e},y.cells=function(k){return arguments.length?((k.length>1||k>=2)&&(o=k),y):o},y.cellFilter=function(k){return arguments.length?(l=k,y):l},y.shapePadding=function(k){return arguments.length?(a=+k,y):a},y.labels=function(k){return arguments.length?(s=k,y):s},y.labelAlign=function(k){return arguments.length?((k=="start"||k=="end"||k=="middle")&&(h=k),y):h},y.locale=function(k){return arguments.length?(d=Qs(k),y):d},y.labelFormat=function(k){return arguments.length?(f=Wi(k),y):y.locale().format(f)},y.labelOffset=function(k){return arguments.length?(g=+k,y):g},y.labelDelimiter=function(k){return arguments.length?(p=k,y):p},y.labelWrap=function(k){return arguments.length?(x=k,y):x},y.orient=function(k){return arguments.length?(k=k.toLowerCase(),(k=="horizontal"||k=="vertical")&&(b=k),y):b},y.ascending=function(k){return arguments.length?(A=!!k,y):A},y.classPrefix=function(k){return arguments.length?(c=k,y):c},y.title=function(k){return arguments.length?(u=k,y):u},y.titleWidth=function(k){return arguments.length?($=k,y):$},y.on=function(){var k=E.on.apply(E,arguments);return k===E?y:k},y}var $a={},Ff;function J4(){if(Ff)return $a;Ff=1;var e=e||{};e.stringify=function(){var t={"visit_linear-gradient":function(n){return t.visit_gradient(n)},"visit_repeating-linear-gradient":function(n){return t.visit_gradient(n)},"visit_radial-gradient":function(n){return t.visit_gradient(n)},"visit_repeating-radial-gradient":function(n){return t.visit_gradient(n)},visit_gradient:function(n){var r=t.visit(n.orientation);return r&&(r+=", "),n.type+"("+r+t.visit(n.colorStops)+")"},visit_shape:function(n){var r=n.value,i=t.visit(n.at),a=t.visit(n.style);return a&&(r+=" "+a),i&&(r+=" at "+i),r},"visit_default-radial":function(n){var r="",i=t.visit(n.at);return i&&(r+=i),r},"visit_extent-keyword":function(n){var r=n.value,i=t.visit(n.at);return i&&(r+=" at "+i),r},"visit_position-keyword":function(n){return n.value},visit_position:function(n){return t.visit(n.value.x)+" "+t.visit(n.value.y)},"visit_%":function(n){return n.value+"%"},visit_em:function(n){return n.value+"em"},visit_px:function(n){return n.value+"px"},visit_literal:function(n){return t.visit_color(n.value,n)},visit_hex:function(n){return t.visit_color("#"+n.value,n)},visit_rgb:function(n){return t.visit_color("rgb("+n.value.join(", ")+")",n)},visit_rgba:function(n){return t.visit_color("rgba("+n.value.join(", ")+")",n)},visit_color:function(n,r){var i=n,a=t.visit(r.length);return a&&(i+=" "+a),i},visit_angular:function(n){return n.value+"deg"},visit_directional:function(n){return"to "+n.value},visit_array:function(n){var r="",i=n.length;return n.forEach(function(a,o){r+=t.visit(a),o<i-1&&(r+=", ")}),r},visit:function(n){if(!n)return"";var r="";if(n instanceof Array)return t.visit_array(n,r);if(n.type){var i=t["visit_"+n.type];if(i)return i(n);throw Error("Missing visitor visit_"+n.type)}else throw Error("Invalid node.")}};return function(n){return t.visit(n)}}();var e=e||{};return e.parse=function(){var t={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},n="";function r(V){var j=new Error(n+": "+V);throw j.source=n,j}function i(){var V=a();return n.length>0&&r("Invalid input not EOF"),V}function a(){return E(o)}function o(){return l("linear-gradient",t.linearGradient,c)||l("repeating-linear-gradient",t.repeatingLinearGradient,c)||l("radial-gradient",t.radialGradient,f)||l("repeating-radial-gradient",t.repeatingRadialGradient,f)}function l(V,j,I){return s(j,function(ae){var ue=I();return ue&&(R(t.comma)||r("Missing comma before color stops")),{type:V,orientation:ue,colorStops:E(y)}})}function s(V,j){var I=R(V);if(I){R(t.startCall)||r("Missing (");var ae=j(I);return R(t.endCall)||r("Missing )"),ae}}function c(){return u()||d()}function u(){return W("directional",t.sideOrCorner,1)}function d(){return W("angular",t.angleValue,1)}function f(){var V,j=h(),I;return j&&(V=[],V.push(j),I=n,R(t.comma)&&(j=h(),j?V.push(j):n=I)),V}function h(){var V=g()||p();if(V)V.at=b();else{var j=x();if(j){V=j;var I=b();I&&(V.at=I)}else{var ae=A();ae&&(V={type:"default-radial",at:ae})}}return V}function g(){var V=W("shape",/^(circle)/i,0);return V&&(V.style=N()||x()),V}function p(){var V=W("shape",/^(ellipse)/i,0);return V&&(V.style=re()||x()),V}function x(){return W("extent-keyword",t.extentKeywords,1)}function b(){if(W("position",/^at/,0)){var V=A();return V||r("Missing positioning value"),V}}function A(){var V=$();if(V.x||V.y)return{type:"position",value:V}}function $(){return{x:re(),y:re()}}function E(V){var j=V(),I=[];if(j)for(I.push(j);R(t.comma);)j=V(),j?I.push(j):r("One extra comma");return I}function y(){var V=k();return V||r("Expected color definition"),V.length=re(),V}function k(){return L()||Y()||G()||D()}function D(){return W("literal",t.literalColor,0)}function L(){return W("hex",t.hexColor,1)}function G(){return s(t.rgbColor,function(){return{type:"rgb",value:E(U)}})}function Y(){return s(t.rgbaColor,function(){return{type:"rgba",value:E(U)}})}function U(){return R(t.number)[1]}function re(){return W("%",t.percentageValue,1)||q()||N()}function q(){return W("position-keyword",t.positionKeywords,1)}function N(){return W("px",t.pixelValue,1)||W("em",t.emValue,1)}function W(V,j,I){var ae=R(j);if(ae)return{type:V,value:ae[I]}}function R(V){var j,I;return I=/^[\n\r\t\s]+/.exec(n),I&&Q(I[0].length),j=V.exec(n),j&&Q(j[0].length),j}function Q(V){n=n.substr(V)}return function(V){return n=V.toString(),i()}}(),$a.parse=e.parse,$a.stringify=e.stringify,$a}var Z4=J4(),e7=Object.defineProperty,Io=(e,t)=>{for(var n in t)e7(e,n,{get:t[n],enumerable:!0})};Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null});var it={none:"none",ordinal:"ordinal",time:"time",linear:"linear"},lc=e=>{let t="crossValues",n=null,r=null,i=()=>{let a=o=>{let l=n?e[t].filter(s=>n==s.name):e[t];return t=="crossValues"&&l.length>1?!1:l.some(s=>o.includes(s.type))};return e[t].length===0?it.none:r!=it.time&&a(["datetime","date"])?it.time:r!=it.linear&&a(["integer","float"])||r==it.ordinal?it.linear:it.ordinal};return i.settingName=(...a)=>a.length?(t=a[0],i):t,i.settingValue=(...a)=>a.length?(n=a[0],i):n,i.excludeType=(...a)=>a.length?(r=a[0],i):r,i},cg={};Io(cg,{domain:()=>a7,labelFunction:()=>fg,scale:()=>i7});var t7=e=>{let t=n=>(r,i)=>r===void 0?i:i===void 0?r:n(r,i);return e.reduce((n,r)=>[t(Math.min)(n[0],r[0]),t(Math.max)(n[1],r[1])],[void 0,void 0])},Fo=e=>Array.isArray(e)?e.flat(1/0):[e],n7=1,ug=e=>{let t=n=>e(n);return ze(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(...n),t):Math.max(e.bandwidth(),n7),t},r7=e=>{let t=n=>e(n);return ze(t,e),t.ticks=function(){return[]},t},i7=()=>r7(ug(Zi())),a7=()=>{let e=["crossValue"],t="horizontal",n=i=>{let a=Fo(i);return r([...new Set(a.map(o=>o[e[0]]))])},r=i=>t=="vertical"?i.reverse():i;return n.valueName=(...i)=>i.length?(e=[i[0]],n):e[0],n.valueNames=(...i)=>i.length?(e=i[0],n):e,n.orient=(...i)=>i.length?(t=i[0],n):t,n},fg=e=>t=>t[e].join("|"),sc={};Io(sc,{component:()=>c7,domain:()=>_g,labelFunction:()=>gg,scale:()=>s7,tickFormatFunction:()=>pg});var dg=()=>{let e=[0,0],t="percent",n=r=>{switch(t){case"domain":{r[0]-=e[0],r[1]+=e[1];break}case"percent":{let i=r[1]-r[0];r[0]-=e[0]*i,r[1]+=e[1]*i;break}default:throw new Error("Unknown padUnit: "+t)}return r};return n.pad=function(...r){return r.length?(e=r[0],n):e},n.padUnit=function(...r){return r.length?(t=r[0],n):t},n},o7=function(){let e=[function(a){return a}],t=null,n=[],r=dg(),i=function(a){let o=new Array(a.length),l=!0,s=!1,c,u=e[Symbol.iterator]();try{for(let f;!(l=(f=u.next()).done);l=!0){let h=f.value;for(let g=0;g<a.length;g++){let p=h(a[g],g);Array.isArray(p)?o.push.apply(o,Nl(p)):o.push(p)}}}catch(f){s=!0,c=f}finally{try{!l&&u.return&&u.return()}finally{if(s)throw c}}let d=[Nn(o),Gn(o)];if(d[0]=d[0]==null?Nn(n):Nn([d[0]].concat(Nl(n))),d[1]=d[1]==null?Gn(n):Gn([d[1]].concat(Nl(n))),t!=null){let f=Math.max(Math.abs(d[1]-t),Math.abs(d[0]-t));d[0]=t-f,d[1]=t+f}return r(d)};return i.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.pad=function(...a){return a.length?(r.pad(a[0]),i):r.pad},i.padUnit=function(...a){return a.length?(r.padUnit(a[0]),i):r.padUnit},i.include=function(...a){return a.length?(n=a[0],i):n},i.symmetricalAbout=function(...a){return a.length?(t=a[0],i):t},i.paddingStrategy=function(...a){return a.length?(r=a[0],i):r},i},Nl=function(e){if(Array.isArray(e)){let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}else return Array.from(e)},l7=1e7,hg=(e,t)=>{let n=Math.ceil(Math.abs(Math.log10(t-e)))+1;return r=>Math.abs(r)>=l7?wr(".3s")(r):Number.isInteger(r)?wr(",.0f")(r):wr(`,.${n}f`)(r)};function cc(e){return e.getRootNode().host}function Uo(e){return e.closest("#container.chart")}var s7=()=>On(),_g=()=>{let e=o7().pad([0,.1]).padUnit("percent"),t=["crossValue"],n=a=>(e.accessors(t.map(o=>l=>parseFloat(l[o]))),i(Fo(a)));ze(n,e);let r=a=>{let o=t.map(l=>a.map(s=>s[l]).sort((s,c)=>s-c).filter((s,c,u)=>c===0||s!==u[c-1]).reduce((s,c,u,d)=>u===0||s<=c-d[u-1]?s:Math.abs(c-d[u-1])));return Math.min(...o)},i=a=>{if(e.padUnit()=="domain"){let o=r(a);return e.pad([o/2,o/2])(a)}else return e(a)};return n.valueName=(...a)=>a.length?(t=[a[0]],n):t[0],n.valueNames=(...a)=>a.length?(t=a[0],n):t,n},gg=e=>t=>t[e][0],pg=hg,c7=e=>{let t=null,n="horizontal",r=null,i=(c,u)=>{try{return Uo(c.node()).querySelector(".cartesian-chart").querySelector(`.${u}-axis`)}catch{return null}},a=c=>{let u=ce(c).select("text").node();u.style.fontSize="80%"},o=(c,u)=>{let d=c.getBoundingClientRect();u.each((f,h,g)=>{let p=ce(g[h]).node().getBoundingClientRect();(n=="vertical"&&d.width<p.width||n=="horizontal"&&d.height<p.height)&&a(g[h])})},l=(c,u,d)=>{let f=i(c,u);f&&o(f,c)},s=()=>({bottom:js,left:Ws,top:Us,right:Co,decorate:l});return s.domain=(...c)=>c.length?(t=c[0],s):t,s.orient=(...c)=>c.length?(n=c[0],s):n,s.settingName=(...c)=>c.length?(r=c[0],s):r,s},bg={};Io(bg,{domain:()=>f7,labelFunction:()=>mg,scale:()=>u7});var u7=()=>Oh(),f7=()=>{let e=Rv(),t=["crossValue"],n=a=>(e.accessors(t.map(o=>l=>new Date(l[o]))),i(Fo(a)));ze(n,e,Ft("include","paddingStrategy"));let r=a=>{let o=t.map(l=>a.map(s=>new Date(s[l]).getTime()).sort((s,c)=>s-c).filter((s,c,u)=>c===0||s!==u[c-1]).reduce((s,c,u,d)=>u===0||Math.abs(s)<=Math.abs(c-d[u-1])?Math.abs(s):Math.abs(c-d[u-1])));return Math.min(...o)},i=a=>{let o=Math.abs(r(a));return e.padUnit("domain").pad([o/2,o/2])(a)};return n.valueName=(...a)=>a.length?(t=[a[0]],n):t[0],n.valueNames=(...a)=>a.length?(t=a[0],n):t,n},mg=e=>t=>new Date(t[e][0]),wg={};Io(wg,{component:()=>w7,domain:()=>m7,labelFunction:()=>yg,scale:()=>b7});var d7=(...e)=>{let t={},n=r=>{for(let i of Object.keys(t))r[i](t[i]);return r};for(let r of e)n[r]=(...i)=>i.length?(t[r]=i[0],n):t[r];return n},jo=(e,t,n)=>{let r=6,i=6,a=d7("tickFormat","ticks","tickArguments","tickValues","tickPadding"),o=(...p)=>{},l=null,s=Qe("g","group"),c=Qe("path","domain"),u=(p,x)=>f()?`translate(${x}, ${p})`:`translate(${p}, ${x})`,d=p=>f()?p.map(x=>[x[1],x[0]]):p,f=()=>e==="left"||e==="right",h=p=>{if(!l){a(t(n).decorate(o))(p);return}p.each((x,b,A)=>{let $=A[b],E=ce($),y=e==="bottom"||e==="right"?1:-1,k=n.range(),D=d([[k[0],y*r],[k[0],0],[k[1],0],[k[1],y*r]]);c(E,[x]).attr("d",zr()(D)).attr("stroke","#000").attr("fill","none");let L=s(E,l),G=U=>Array.isArray(i)?i[U]:i,Y=U=>{let re=0;for(let q=0;q<U;q++)re+=G(q);return re};L.attr("transform",(U,re)=>u(0,y*Y(re))).each((U,re,q)=>{let N=ce(q[re]),W=g(n,U);a(t(W)).decorate((R,Q)=>o(R,Q,re)).tickSizeInner(G(re)).tickOffset(R=>W.step(R)/2)(N),N.select("path.domain").attr("visibility","hidden")}),L.exit().attr("transform",(U,re)=>u(0,y*Y(re)))})},g=(p,x)=>{function b(A){let $=A.domain;return $.reduce((E,y)=>E+p(y),0)/$.length}return b.ticks=()=>x,b.tickFormat=()=>A=>A.text,b.copy=()=>g(p,x),b.step=A=>A.domain.length*p.step(),ze(b,p,Ft("ticks","step","copy")),b};return h.tickSize=(...p)=>p.length?(i=r=Number(p[0]),h):i,h.tickSizeInner=(...p)=>p.length?(i=Array.isArray(p[0])?p[0]:Number(p[0]),h):i,h.tickSizeOuter=(...p)=>p.length?(r=Number(p[0]),h):r,h.decorate=(...p)=>p.length?(o=p[0],h):o,h.groups=(...p)=>p.length?(l=p[0],h):l,ze(h,a),h},h7=e=>jo("top",g_,e),_7=e=>jo("bottom",p_,e),g7=e=>jo("left",b_,e),p7=e=>jo("right",m_,e),b7=()=>ug(Zi()).padding(.5),m7=()=>{let e=["crossValue"],t="horizontal",n=i=>{let a=Fo(i);return r([...Array.from(new Set(a.map(o=>o[e[0]])))])},r=i=>t=="vertical"?i.reverse():i;return n.valueName=(...i)=>i.length?(e=[i[0]],n):e[0],n.valueNames=(...i)=>i.length?(e=i[0],n):e,n.orient=(...i)=>i.length?(t=i[0],n):t,n},yg=(e,t)=>n=>n[e].map((r,i)=>{let a=t.crossValues[i].type;return a==="datetime"?new Date(r).toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",fractionalSecondDigits:3}):a==="date"?new Date(r).toLocaleDateString():r}).join("|"),w7=e=>{let t="horizontal",n="crossValues",r=null,i=()=>{let f=e[n].length>1,h=o(r),g=h.map(l),p=f?g.map(E=>E.size):g[0].size,x=g.reduce((E,y)=>E+y.size,0),b=E=>y=>{let k=E(y);return f&&k.groups(h).tickSizeInner(p).tickSizeOuter(x),t!=="horizontal"&&k.tickPadding(10),k},A=(E,y,k)=>{let D=g[k].rotation;t==="horizontal"&&d(E,D),s(E,D)},$=a(f);return{bottom:b($.bottom),left:b($.left),right:b($.right),top:b($.top),size:`${x+10}px`,decorate:A}},a=f=>f?{bottom:_7,left:g7,top:h7,right:p7}:{bottom:p_,left:b_,top:g_,right:m_},o=f=>{let h=[];return f.forEach(g=>{(g&&g.split?g.split("|"):[g]).forEach((p,x)=>{for(;h.length<=x;)h.push([]);let b=h[x];b.length>0&&b[b.length-1].text===p?b[b.length-1].domain.push(g):b.push({text:p,domain:[g]})})}),h.reverse()},l=f=>{let h=e.size.width,g=Math.max(...f.map(p=>p.text?p.text.length:0));return t==="horizontal"?f&&f.length*16>h-100?{size:g*5+10,rotation:90}:f&&f.length*(g*6+10)>h-100?{size:g*3+20,rotation:45}:{size:25,rotation:0}:{size:g*5+10,rotation:0}},s=(f,h)=>{let g=$=>{let E=$.indexOf(",")!==-1?",":" ",y=$.substring($.indexOf("(")+1,$.indexOf(")")).split(E).map(k=>parseInt(k));for(;y.length<2;)y.push(0);return y},p=h?($,E)=>$.x+$.width+14>E.x+E.width:($,E)=>$.x<=E.x+E.width&&E.x<=$.x+$.width&&$.y<=E.y+E.height&&E.y<=$.y+$.height,x=($,E)=>$.x>=E.x&&$.x+$.width<=E.x+E.width&&$.y>=E.y&&$.y+$.height<=E.y+E.height,b=t=="horizontal"?c(f):null,A=[];f.each(($,E,y)=>{let k=ce(y[E]),D=g(k.attr("transform")),L=k.node().getBBox(),G={x:L.x+D[0],y:L.y+D[1],width:L.width,height:L.height},Y=A.some(U=>p(U,G))||b&&!x(G,b);k.attr("visibility",Y?"hidden":""),Y||A.push(G)})},c=f=>{let h=Uo(f.node());if(h===null)return;let g=h.querySelector(".cartesian-chart"),p=g.querySelector(".x-axis"),x=g.getBoundingClientRect(),b=p.getBoundingClientRect();return{x:x.left-b.left,width:x.width,y:x.top-b.top,height:x.height}},u=f=>f?f<60?`rotate(-${f} 5 5)`:`rotate(-${f} 3 7)`:"translate(0, 8)",d=(f,h)=>{let g=u(h),p=h?"end":"";f.each((x,b,A)=>{ce(A[b]).select("text").attr("transform",g).style("text-anchor",p)})};return i.orient=(...f)=>f.length?(t=f[0],i):t,i.settingName=(...f)=>f.length?(n=f[0],i):n,i.domain=(...f)=>f.length?(r=f[0],i):r,i},y7={none:cg,ordinal:wg,time:bg,linear:sc},ht=e=>{let t=null,n="horizontal",r="crossValues",i,a=["crossValue"],o=null,l=null,s=["include","paddingStrategy","pad"],c={},u=h=>{let g=lc(e).excludeType(t).settingName(r).settingValue(i)(),p=y7[g],x=p.domain().valueNames(a);s.forEach(E=>{c[E]&&x[E]&&x[E](c[E])}),x.orient&&x.orient(n);let b=x(h);o!==null&&(b=o(b)),l&&typeof b[0]=="number"&&(l[0]=b[0]=Math.min(b[0],l[0]),l[1]=b[1]=Math.max(b[1],l[1]));let A=p.hasOwnProperty("component")?d(p,b,h):f(),$=p==sc?pg(b[0],b[1]):void 0;return{scale:p.scale(),domain:b,domainFunction:x,labelFunction:p.labelFunction,component:{bottom:A.bottom,left:A.left,top:A.top,right:A.right},size:A.size,decorate:A.decorate,label:e[r].map(E=>E.name).join(", "),tickFormatFunction:$}},d=(h,g,p)=>h.component(e).orient(n).settingName(r).domain(g)(p),f=()=>({bottom:js,left:Ws,top:Us,right:Co,decorate:()=>{}});return u.memoValue=(...h)=>h.length?(l=h[0],u):l,u.excludeType=(...h)=>h.length?(t=h[0],u):t,u.orient=(...h)=>h.length?(n=h[0],u):n,u.settingName=(...h)=>h.length?(r=h[0],u):r,u.settingValue=(...h)=>h.length?(i=h[0],u):i,u.valueName=(...h)=>h.length?(a=[h[0]],u):a[0],u.valueNames=(...h)=>h.length?(a=h[0],u):a,u.modifyDomain=h=>h?(o=h,u):o,s.forEach(h=>{u[h]=(...g)=>g.length?(c[h]=g[0],u):c[h]}),u},Dr=(e,t)=>vg(e,t,(n,r)=>n.svgPlotArea(r),!1),uc=(e,t)=>vg(e,t,(n,r)=>n.canvasPlotArea(r).svgPlotArea(u_()),!0),vg=(e,t,n,r)=>{let i=null,a=null,o=v3({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&o.xDecorate(e.decorate),t.decorate&&o.yDecorate(t.decorate),o.xPaddingInner&&o.xPaddingInner(1),o.xPaddingOuter&&o.xPaddingOuter(.5),o.yPaddingInner&&o.yPaddingInner(1),o.yPaddingOuter&&o.yPaddingOuter(.5),o.axisSplitter=(...s)=>s.length?(i=s[0],o):i,o.altAxis=(...s)=>s.length?(a=s[0],o):a,o.plotArea=function(...s){return s.length==0?r?this.canvasPlotArea():this.svgPlotArea():n(this,...s)};let l=o.decorate();return o.decorate((s,c)=>{let u=s.select("d3fc-svg.plot-area"),d=u.select("svg").node();d.setAttribute("viewBox",`0 0 ${u.node().clientWidth} ${u.node().clientHeight}`),d.setAttribute("preserveAspectRatio","none");for(let f of["x-axis","y-axis"])s.select(`d3fc-svg.${f} svg`).node().setAttribute("preserveAspectRatio","none");if(l(s,c),r){let f=s.select(".svg-plot-area").node(),h=s.select(".canvas-plot-area").node();mx([f,h]).order()}if(i){if(i.haveSplit()){let f=i.altData(),h=Qe("d3fc-svg","y2-axis").key(b=>b),g=Qe("g","y-series").key(b=>b);s.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",a.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let p=a.scale.domain(a.domain),x=a.component.right(p);if(x.tickFormat(a.tickFormatFunction),a.decorate&&x.decorate(a.decorate),h(s,["right"]).attr("class",b=>`y-axis ${b}-axis`).on("measure",function(b,A){let{width:$,height:E}=b.detail;A==="left"&&ce(b.currentTarget).select("svg").attr("viewBox",`${-$} 0 ${$} ${E}`).attr("preserveAspectRatio","none"),p.range([E,0])}).on("draw",function(b,A){ce(b.currentTarget).select("svg").call(x)}),r){let b=A=>{let $=o.plotArea();$.context(A.node().getContext("2d")).xScale(e.scale);let E=[t.scale,p];[c,f].forEach((y,k)=>{$.yScale(E[k]),$(y)})};s.select("d3fc-canvas.plot-area").on("draw",function(A,$){b(ce(A.currentTarget).select("canvas"))})}else{let b=function(A){let $=o.plotArea();$.xScale(e.scale);let E=[t.scale,p];g(A,[c,f]).each((y,k,D)=>{$.yScale(E[k]),ce(D[k]).datum(y).call($)})};s.select("d3fc-svg.plot-area").on("draw",function(A,$){b(ce(A.currentTarget).select("svg"))})}}i(s)}}),o};function It(e,t,n){let r=e.select(t);return r.size()>0?r:n()}function Hn(e,t,n="right"){if(n==="right"||n==="bottom")return e[n]<t[n];if(n==="left"||n==="top")return e[n]>t[n];throw`Direction being checked for overflow is invalid: ${n}`}function Uf(e,t,n,r=0){let i=e==="x"?"width":"height",a=t[e],o=t[e]+t[i],l=n[e],s=n[e]+n[i],c=l+r>a&&l-r<o,u=s+r>a&&s-r<o,d=l+r<a&&s-r>o;return c||u||d}var v7=`<ul id="tooltip-values"></ul>
`;function Jn(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString([],{dateStyle:"short",timeStyle:"medium"});case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function xg(e,t){return t.crossValues.length===0?[]:e.crossValue.length===0?[]:((e.crossValue.split?e.crossValue.split("|"):Array.isArray(e.crossValue)?e.crossValue:[e.crossValue])||[e.key]).map((n,r)=>({name:t.crossValues[r].name,value:Jn(t.crossValues[r].type,n)}))}function kg(e,t){var r;if(t.splitValues.length===0)return[];let n=[e.mainValue];return e.key?n=e.key.split("|"):(r=e.mainValue)!=null&&r.split&&(n=e.mainValue.split("|")),t.splitValues.map((i,a)=>({name:i.name,value:Jn(i.type,n[a])}))}function Sg(e,t){return t.mainValues.length>1?e.mainValues?t.mainValues.map((n,r)=>({name:n.name,value:Jn(n.type,e.mainValues[r])})):t.mainValues.map(n=>({name:n.name,value:Jn(n.type,e.row[x7(e.key,n,t.realValues)])})):[{name:t.mainValues[0].name,value:Jn(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}function x7(e,t,n){if(!e)return t.name;if(e.includes("|")){let r=e.split("|");return r[r.length-1]===t.name?e:`${n.includes(r[r.length-1])?r.slice(0,r.length-1).join("|"):e}|${t.name}`}return n.includes(e)?t.name:`${e}|${t.name}`}function k7(e,t,n){let r=xg(t,n).concat(kg(t,n)).concat(Sg(t,n));S7(e,r)}function S7(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each(function(n){ce(this).text(`${n.name}: `).append("b").text(M7(n.value))})}var M7=e=>e==null?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),jf=e=>[e.name,"==",e.value],fc=(e,t,n)=>{let r=Sg(t,n).map(l=>l.name),i=xg(t,n).map(jf),a=kg(t,n).map(jf),o=n.filter.concat(i).concat(a);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:o},row:t.row}}))},E7=()=>{let e=null,t=n=>{let r=n.node();n.on("click",(i,a)=>fc(r,a,e))};return t.settings=(...n)=>n.length?(e=n[0],t):e,t},Wo=()=>{let e=!1,t=null,n=null,r=!1,i=a=>{let o=a.node();if(!o||!o.isConnected){Wf(t);return}let l=ce(Uo(o));t=A7(l);let s=function(u,d){k7(t,d,n);let f=a.nodes(),h=f.indexOf(this);$7(l.node(),f[h],t,r),ce(f[h]).style("opacity","0.7")},c=function(u,d){Wf(t);let f=a.nodes(),h=f.indexOf(this);f&&ce(f[h]).style("opacity","1")};e?a.each(function(u){return s.call(this,void 0,u)}):(a.on("mouseover",s).on("mouseout",c),E7().settings(n)(a))};return i.alwaysShow=(...a)=>a.length?(e=a[0],i):e,i.centered=(...a)=>a.length?(r=a[0],i):r,i.settings=(...a)=>a.length?(n=a[0],i):n,i};function A7(e){return It(e,"div.tooltip",()=>e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html(v7))}function $7(e,t,n,r){let i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=a.left+a.width/2-i.left,l=a.top-i.top+e.scrollTop;r&&(l=a.top+a.height/2-i.top+e.scrollTop),n.style("left",`${o}px`).style("top",`${l}px`).style("opacity",.9),r&&([o,l]=T7(n,i)),C7(n,i,o,l,r)}function T7(e,t){let n=e.node().getBoundingClientRect(),r=n.width/2,i=n.left-r-t.left;e.style("left",`${i}px`);let a=n.height/2,o=n.top-a-t.top;return e.style("top",`${o}px`),[i,o]}function C7(e,t,n,r,i=!1){let a=e.node().getBoundingClientRect();if(Hn(t,a)){let o=a.right-t.right;e.style("left",`${n-o}px`)}if(Hn(t,a,"bottom")){let o=a.bottom-t.bottom;e.style("top",`${r-o}px`)}if(i){if(Hn(t,a,"left")){let o=a.left-t.left;e.style("left",`${n-o}px`)}if(Hn(t,a,"top")){let o=a.top-t.top;e.style("top",`${r-o}px`)}}}function Wf(e){e&&e.style("opacity",0)}function Mg(e,t){let n=e.mainValues.length>1?Hx(ns()):ns();return n=n.decorate(r=>{Wo().settings(e)(r),r.style("fill",i=>t(i.key))}),Fs(N7(n)).crossValue(r=>r.crossValue).mainValue(r=>r.mainValue?r.mainValue:0).baseValue(r=>r.baseValue)}var N7=e=>{let t=n=>e(n);return ze(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(Math.max(n[0],1)),t):e.bandwidth(),t};function Bo(e){return e.split("|").slice(0,-1).join("|")}function Eg(e,t){return e.data.map(n=>Object.entries(n).filter(([r,i])=>r.split("|").at(-1)===t&&!!i).map(([r,i])=>i)).flat()}function oa(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return zn().settings(e).domain(n)()}function O7(e,t){let n=Eg(e,t),r=[...new Set(n)].sort();return zn().settings(e).domain(r)()}function _o(e,t){let n=[...new Set(t)];return zn().settings(e).domain(n)()}function L7(e){let t=e.data[0]??{},n=Object.keys(t).filter(i=>i!=="__ROW_PATH__").map(i=>Bo(i)),r=[...new Set(n)];return zn().settings(e).domain(r)()}function zn(){let e=null,t=null,n={},r=a=>qo(a,n.colorStyles&&n.colorStyles.opacity),i=()=>{let a=n.colorStyles,o=t||[a.series];if(o||e.length>1){let l=e.length>1?a.scheme:o;return Ji(l.map(r)).domain(e)}return null};return i.domain=(...a)=>a.length===0?e:(e=a[0],i),i.defaultColors=(...a)=>a.length?(t=a[0],i):t,i.mapFunction=(...a)=>a.length?(r=a[0],i):r,i.settings=(...a)=>a.length?(n=a[0],i):n,i}function la(e){return Yi(1)(e)}function qo(e,t=.5){return Yi(t)(e)}function Yi(e){return t=>{let n=an(t);return n!=null&&(n.opacity=e),n+""}}var z7={none:fg,ordinal:yg,time:mg,linear:gg},Pr=e=>{let t=lc(e),n="__ROW_PATH__",r=z7[t()],i=(a,o)=>r(n,e)(a);return ze(i,t),i.valueName=(...a)=>a.length?(n=a[0],i):n,i};function Ho(e,t,{stack:n=!1,excludeEmpty:r=!1}={}){let i=t||e.data;return e.splitValues.length>0?R7(e,i,{stack:n,excludeEmpty:r}):[i]}function R7(e,t,{stack:n=!1,excludeEmpty:r=!1}){let i={};return t.forEach(a=>{let o={},l={};Object.keys(a).filter(s=>s!=="__ROW_PATH__").filter(s=>!r||a[s]!=null&&a[s]!=null).forEach(s=>{let c=s.split("|"),u=c[c.length-1],d=a[s]||0,f=`${u}${d>=0?"+ve":"-ve"}`,h=c.slice(0,c.length-1).join("|"),g=l[h]=l[h]||{__ROW_PATH__:a.__ROW_PATH__},p=o[f]||0;g.__KEY__=h,n?(g[u]=p+d,g[`__BASE_VALUE__${u}`]=p,o[f]=g[u]):g[u]=d,g.row=a}),Object.keys(l).forEach(s=>{(i[s]=i[s]||[]).push(l[s])})}),Object.keys(i).map(a=>{let o=i[a];return o.key=a,o})}function V7(e,t){let n={stack:!1},r=Ho(e,t,n).map(i=>$g(e,i,n));return e.mainValues.length>1?r.reduce((i,a)=>i.concat(a)):r}function Ag(e,t){let n={stack:!0};return Ho(e,t,n).map(r=>$g(e,r,n))}function D7(e,t,{stack:n=!1}){let r=Pr(e);return i=>{let a=l=>n&&l[`__BASE_VALUE__${i.name}`]||0,o=t.map((l,s)=>({crossValue:r(l,s),mainValue:l[i.name]?l[i.name]:null,baseValue:a(l),key:l.__KEY__?`${l.__KEY__}|${i.name}`:i.name,row:l.row||l}));return o.key=o[0].key,o}}function $g(e,t,{stack:n=!1}){let r=D7(e,t,{stack:n});return e.mainValues.length>1?e.mainValues.map(r):r(e.mainValues[0])}var P7=`<span id="up-arrow">&#9650;</span>
<span id="page-text"></span>
<span id="down-arrow">&#9660;</span>
`;function I7(e){let t=e.select("g.legendCells"),n=e.node().getBoundingClientRect();if(!Hn(n,t.node().getBoundingClientRect()))return;let r=e.select(".legend");t.selectAll(".label").text((i,a,o)=>{let l=o[a];if(Hn(n,l.getBoundingClientRect())){let s=F7(l,r,n);return`${i.substring(0,s-3)}...`}else return i})}function F7(e,t,n){let r=e.getBoundingClientRect(),i=t.node().createSVGPoint(),a=3;return i.x=n.right-r.left-a,i.y=0,e.getCharNumAtPosition(i)}var hr=10;function _r(e,t,n){let r=ce(cc(e).getContainer()).node().getBoundingClientRect(),i=e.getBoundingClientRect(),a={top:i.top+n-hr,right:i.right+t+hr,bottom:i.bottom+n+hr,left:i.left+t-hr},o={x:t,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach(l=>{if(Hn(r,a,l.edge)){let s=a[l.edge]-r[l.edge];o[l.dimension]=o[l.dimension]-s}}),o}var dc="resize.for-dragging";function U7(){let e=!0,t=null,n=r=>{let i=r.node(),a=i.getRootNode().host.closest("perspective-viewer");i.style.cursor="move",t.legend&&(i.style.left=t.legend.left,i.style.top=t.legend.top);let o=as().on("drag",function(l){let s=_r(this,l.dx,l.dy);this.style.left=`${this.offsetLeft+s.x}px`,this.style.top=`${this.offsetTop+s.y}px`;let c={left:this.style.left,top:this.style.top};t.legend={...t.legend,...c},e=B7(i)?W7(i):j7(i,e)});o.on("end",function(l){ce(window).on(dc,null),a==null||a.dispatchEvent(new Event("perspective-config-update"))}),r.call(o)};return n.settings=(...r)=>r.length?(t=r[0],n):t,n}function j7(e,t){return t!==!1&&ce(window).on(dc,function(){let n=_r(e,0,0);e.style.left=`${e.offsetLeft+n.x}px`,e.style.top=`${e.offsetTop+n.y}px`}),!1}function W7(e){return ce(window).on(dc,null),e.style.left="auto",!0}function B7(e){let t=e.getBoundingClientRect(),n=ce(Uo(e)).node().getBoundingClientRect(),r=5;return t.right+hr+r>=n.right&&t.top-hr-r<=n.top}var Bf="horizontal-drag-handle",qf="vertical-drag-handle",q7="corner-drag-handle",Tg="dragHandles",Hf=0,Sn="resize";function H7(){let e=9,t=3,n=null,r={height:100,width:100},i={height:null,width:null},a=[],o=(u,d)=>a.filter(f=>f.event===u).forEach(f=>f.execute(d)),l=u=>{if(X7(u))return;let d={left:F=>o(Sn,{horizontal:W(F),vertical:!1}),top:F=>o(Sn,{horizontal:!1,vertical:Q(F)}),right:F=>o(Sn,{horizontal:R(F),vertical:!1}),bottom:F=>o(Sn,{horizontal:!1,vertical:V(F)}),topleft:F=>o(Sn,{horizontal:W(F),vertical:Q(F)}),topright:F=>o(Sn,{horizontal:R(F),vertical:Q(F)}),bottomright:F=>o(Sn,{horizontal:R(F),vertical:V(F)}),bottomleft:F=>o(Sn,{horizontal:W(F),vertical:V(F)})},f=u.node();n.legend&&(f.style.height=n.legend.height,f.style.width=n.legend.width);let h=f.getBoundingClientRect(),g=u.append("svg").attr("id",Tg).attr("width",h.width).attr("height",h.height),p=g.append("g"),x=F=>F==="left"||F==="right",b={left:0,top:e,right:h.width-e,bottom:e},A={left:e,top:0,right:e,bottom:h.height-e},$=["left","top","right","bottom"],[E,y,k,D]=$.map(F=>p.append("rect").attr("id",`drag${F}`).attr("class",x(F)?qf:Bf).attr("y",A[F]).attr("x",b[F]).attr("height",x(F)?h.height-e*2:e).attr("width",x(F)?e:h.width-e*2).attr("fill",x(F)?"lightgreen":"lightblue").attr("fill-opacity",Hf).style("z-index",t).attr("cursor",x(F)?"ew-resize":"ns-resize").call(as().on("drag",d[F]))),L=F=>`${F[0]}${F[1]}`,G={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},Y=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]],[U,re,q,N]=Y.map(F=>p.append("rect").attr("id",`drag${L(F)}`).attr("class",`${q7} ${F[0]} ${F[1]}`).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",Hf).style("z-index",t).attr("cursor",`${G[L(F)]}-resize`).call(as().on("drag",d[L(F)])));ue("height","y",D),ue("width","x",k),ae(g);function W(F){let K=c(_r(E.node(),F.x,0).x,g,"width",(ge,xe)=>ge-xe);return f.style.left=`${f.offsetLeft+K}px`,f.style.width=`${f.offsetWidth-K}px`,j(),I(k,K,"width","x")}function R(F){let K=-c(_r(k.node(),F.dx,0).x,g,"width",(ge,xe)=>ge+xe);return s(K,"x",k,F)?!1:(f.style.width=`${f.offsetWidth-K}px`,j(),I(k,K,"width","x"))}function Q(F){let K=c(_r(y.node(),0,F.y).y,g,"height",(ge,xe)=>ge-xe);return f.style.top=`${f.offsetTop+K}px`,f.style.height=`${f.offsetHeight-K}px`,j(),I(D,K,"height","y")}function V(F){let K=-c(_r(D.node(),0,F.dy).y,g,"height",(ge,xe)=>ge+xe);return s(K,"y",D,F)?!1:(f.style.height=`${f.offsetHeight-K}px`,j(),I(D,K,"height","y"))}function j(){let F={top:f.style.top,left:f.style.left,height:f.style.height,width:f.style.width};n.legend={...n.legend,...F}}function I(F,K,ge,xe){return K7(g,ge,K),G7(F,xe,K),Y7(g,K,ge,ge==="height"?qf:Bf),ae(g),K!=0}function ae(F){U.attr("y",0),re.attr("y",0).attr("x",F.attr("width")-e),q.attr("y",F.attr("height")-e).attr("x",F.attr("width")-e),N.attr("y",F.attr("height")-e).attr("x",0)}function ue(F,K,ge){i[F]&&i[F]<h[F]&&(f.style[F]=`${i[F]}px`,I(ge,h[F]-i[F],F,K))}};l.on=(u,d)=>(a.push({event:u,execute:d}),l),l.zIndex=u=>(t=u,l),l.settings=(...u)=>u.length?(n=u[0],l):n,l.minWidth=u=>(r.width=u,i.width&&(i.width=Math.max(r.width,i.width)),l),l.minHeight=u=>(r.height=u,i.height&&(i.height=Math.max(r.height,i.height)),l),l.handleWidth=u=>(e=u,l),l.maxWidth=u=>(i.width=u,r.width=Math.min(r.width,i.width),l),l.maxHeight=u=>(i.height=u,r.height=Math.min(r.height,i.height),l);function s(u,d,f,h){let g=(x,b,A,$)=>x<0&&$[b]<Number(A.attr(b)),p=(x,b,A,$)=>x>0&&$[b]>Number(A.attr(b));return g(u,d,f,h)||p(u,d,f,h)}function c(u,d,f,h){let g=h(Number(d.attr(f)),u);if(g<r[f]){let p=r[f]-g;return h(u,p)}if(i[f]&&g>i[f]){let p=i[f]-g;return h(u,p)}return u}return l}var Y7=(e,t,n,r)=>{e.selectAll(`.${r}`).each((i,a,o)=>{let l=o[a];ce(l).attr(n,l.getBoundingClientRect()[n]-t)})},X7=e=>e.select(`#${Tg}`).size()>0,G7=(e,t,n)=>e.attr(t,Number(e.attr(t))-n),K7=(e,t,n)=>e.attr(t,e.node().getBoundingClientRect()[t]-n),Yf=16,Xf=20,Cg=(e,t)=>{let n=e||sg(),r=[],i=1,a,o=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,l=()=>{},s=U7().settings(t),c,u=E=>{r=n.scale().domain(),c=H7().settings(t).maxHeight(r.length*Yf+Xf).on("resize",()=>d(E)),c(E),s(E),d(E)},d=E=>{x(E),f(E),h(E),I7(E)},f=E=>{let y=A(E);y.style("display",i<=1?"none":"block"),y.select("#page-text").text(`${o+1}/${i}`),y.select("#up-arrow").attr("class",o===0?"disabled":"").on("click",()=>{o>0&&(g(o-1),d(E))}),y.select("#down-arrow").attr("class",o>=i-1?"disabled":"").on("click",()=>{o<i-1&&(g(o+1),d(E))})},h=E=>{i>1&&n.cellFilter(p()),E.select("g.legendCells").remove();let y=$(E);y.call(n);let k=E.select("g.legendCells").node().getBBox();y.attr("height",k.height+Xf),l(E)},g=E=>{o=E,t.legend={...t.legend,pageIndex:o}},p=()=>(E,y)=>y>=a*o&&y<a*o+a,x=E=>{let y=E.node().getBoundingClientRect(),k=Math.floor(y.height/Yf)-1;a=k<r.length?k-1:k,i=b(k),o=Math.min(o,i-1)},b=E=>Math.ceil(r.length/E),A=E=>It(E,".legend-controls",()=>E.append("g").attr("class","legend-controls").html(P7)),$=E=>It(E,".legend",()=>E.append("svg").attr("class","legend"));return u.decorate=(...E)=>E.length?(l=E[0],u):l,ze(u,n),u},Ng=e=>Cg(sg().shape("circle").shapeRadius(6),e),Q7=e=>Cg(Q4().shapePadding(1).labelOffset(3),e),Dn=()=>hc(Ng),ds=()=>hc(Q7,Og),J7=()=>hc(Ng,Og);function Og(e){if(!e)return null;let t=e.domain(),n=e.range().map(r=>Ds().type(r)());return Ji().domain(t).range(n)}function hc(e,t=void 0){let n={},r=null,i=null,a=o=>{if(r&&r.range().length>1){let l=e(n);l.scale(r).orient("vertical").on("cellclick",function(c){let u=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(u)?n.hideKeys=n.hideKeys.filter(d=>d!==u):n.hideKeys.push(u),cc(this)._draw()}),l.labels(c=>{let u=String(c.domain[c.i]).split("|");return n.mainValues.length<=1&&u.length>1?u.slice(0,u.length-1).join("|"):c.domain[c.i]});let s=It(o,"div.legend-container",()=>o.append("div"));l.decorate(c=>{let u=f=>n.hideKeys&&n.hideKeys.includes(f),d=c.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");d.classed("hidden",u),d.append("title").html(f=>f),i&&d.select("circle, path").style("fill",f=>u(f)?null:i(f)).style("stroke",f=>u(f)?null:la(i(f)))}),s.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(l)}};return a.settings=(...o)=>o.length===0?n:(n=o[0],a),a.scale=(...o)=>o.length?(r=t?t(o[0]):o[0],a):r,a.color=(...o)=>o.length?(i=o[0],a):i,a}function Ir(e,t=void 0){var r;let n=t||e.data;return(((r=e.hideKeys)==null?void 0:r.length)??0)>0?n.map(i=>{let a={...i};return e.hideKeys.forEach(o=>{delete a[o]}),a}):n}function _c(e){var i;let t=e.data,n=((i=e.hideKeys)==null?void 0:i.length)??0,r=e.splitValues.length;return n>0?r===0?t.filter(a=>Object.values(a).reduce((o,l)=>o&&!e.hideKeys.includes(l),!0)):t.map(a=>{let o=Object.entries(a).filter(([l,s])=>!e.hideKeys.includes(Bo(l)));return Object.fromEntries(o)}):t}var Z7=e=>(t,n)=>t.style("stroke-width",r=>"1.0").style("stroke",r=>gc(r,e));function gc(e,t){return e===0?t?t.textStyles.color:"#666":t?t.colorStyles.grid.gridLineColor:"#bbb"}var e9=e=>(t,n)=>{t.strokeStyle=gc(n,e),t.lineWidth=1},t9=(e,t)=>e.style("display","none"),n9=e=>(t,n)=>{t.lineWidth=1,t.strokeStyle=gc(n,e)},wn=(e,t)=>{let n="both",r=!1,i=null,a=null,o=null,l=Rr(),s=Qx(),c=Z7(t),u=t9,d=function(...f){r&&(l=Eo().context(o),s=Jx(),c=e9(t),u=n9(t));let h=l.xScale(i).yScale(a),g=n==="vertical"?u:c,p=n==="horizontal"?u:c,x=s.xDecorate(g).yDecorate(p);return h.series([x,e])(...f)};return d.orient=(...f)=>f.length?(n=f[0],d):n,d.canvas=(...f)=>f.length?(r=f[0],d):r,d.xScale=(...f)=>f.length?(i=f[0],d):i,d.yScale=(...f)=>f.length?(a=f[0],d):a,d.context=(...f)=>f.length?(o=f[0],d):o,d},Pn=()=>{let e=dg(),t=n=>{let r=e.pad(),i=e.padUnit(),a=1;switch(i){case"domain":break;case"percent":{a=n[1]-n[0];break}default:throw new Error("Unknown padUnit: "+i)}let o=n[0]-r[0]*a,l=n[1]+r[1]*a;return n[0]=n[0]>=0&&o<0?0:o,n[1]=n[1]<=0&&l>0?0:l,n};return t.pad=function(...n){return e.pad()},t.padUnit=function(...n){return e.padUnit()},ze(t,e),t},r9=`<button id="zoom-reset">Reset zoom</button>
<button id="one-year">1 Year</button>
<button id="six-months">6 Months</button>
<button id="one-month">1 Month</button>
`,yn=()=>{let e=null,t=null,n=null,r=null,i=null,a=null,o=!1,l=!1,s=()=>{};function c(h){let g=`d3fc-${l?"canvas":"svg"}.plot-area`;if(n||i){let p=r&&r.domain()[0]instanceof Date,x=q8().on("zoom",A=>{let{transform:$}=A;t.zoom={k:$.k,x:$.x,y:$.y},u($),h.call(e);let E=$.k===1&&$.x===0&&$.y===0,y=d(h).style("display",E?"none":"");y.select("#zoom-reset").on("click",()=>h.select(g).call(x.transform,Ci));let k=y.select("#one-year").style("display",p?"":"none"),D=y.select("#six-months").style("display",p?"":"none"),L=y.select("#one-month").style("display",p?"":"none");if(p){let G=Y=>()=>{let U=new Date(n.domain()[0]),re=new Date(U);Y(U,re);let q=r.range(),N=(q[1]-q[0])/(r(re)-r(U)),W=-r(U)*N,R=0;if(i){let Q=i.domain().reduce((V,j)=>V+j)/2;R=-a(Q)*N+i(Q)}h.select(g).call(x.transform,Ci.translate(W,R).scale(N))};k.on("click",G((Y,U)=>U.setYear(Y.getFullYear()+1))),D.on("click",G((Y,U)=>U.setMonth(Y.getMonth()+6))),L.on("click",G((Y,U)=>U.setMonth(Y.getMonth()+1)))}}),b=e.decorate();e.decorate((A,$)=>{if(b(A,$),!o){o=!0;let E=A.select(g),y=l?window.devicePixelRatio:1;E.on("measure.zoom-range",k=>{if(r&&r.range([0,k.detail.width/y]),a&&a.range([0,k.detail.height/y]),t.zoom){let D=Ci.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);E.call(x.transform,D)}}).call(x)}})}h.call(e)}c.chart=(...h)=>h.length?(e=h[0],c):e,c.settings=(...h)=>h.length?(t=h[0],c):t,c.xScale=(...h)=>h.length?(n=f(h[0]),r=n?n.copy():null,c):n,c.yScale=(...h)=>{if(!h.length)return i;if(i=f(h[0]),a=i?i.copy():null,a){let g=a.domain();a.domain([g[1],g[0]])}return c},c.canvas=(...h)=>h.length?(l=h[0],c):l,c.onChange=(...h)=>h.length?(s=h[0],c):s;let u=h=>{let g={...h};if(n&&(n.domain(h.rescaleX(r).domain()),g.xDomain=n.domain()),i){let p=h.rescaleY(a).domain();i.domain([p[1],p[0]]),g.yDomain=i.domain()}s(g)},d=h=>It(h,".zoom-controls",()=>h.append("div").attr("class","zoom-controls").style("display","none").html(r9)),f=h=>h&&h.nice?h:null;return c};function Lg(e,t){let n=Ag(t,Ir(t)),r=oa(t),i=Dn().settings(t).scale(r),a=Mg(t,r).orient("horizontal"),o=Rr().mapping((d,f)=>d[f]).series(n.map(()=>a)),l=ht(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[0]).excludeType(it.ordinal).include([0]).paddingStrategy(Pn())(n),s=ht(t).excludeType(it.linear).settingName("crossValues").valueName("crossValue").orient("vertical")(n),c=Dr(l,s).plotArea(wn(o,t).orient("horizontal"));c.yPaddingInner&&(c.yPaddingInner(.5),c.yPaddingOuter(.25),a.align("left")),c.xNice&&c.xNice();let u=yn().chart(c).settings(t).yScale(s.scale);e.datum(n).call(u),e.call(i)}Lg.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["X Axis"]}};var i9=Lg,a9=(e,t)=>{if(!Gf(e)||!Gf(t))return;let n=Kf(e),r=Kf(t);n>r?t[0]=Qf(t,n):e[0]=Qf(e,r)},Gf=e=>e.length===2&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1],Kf=e=>(0-e[0])/(e[1]-e[0]),Qf=(e,t)=>t*e[1]/(t-1),o9=e=>{let t=[],n=!1,r,i=o=>{o.text("");let l=Qe("span","splitter-label").key(u=>u),s=!n&&t.length===1,c=r&&e.splitValues.length===0;l(o,t).classed("disabled",s).text(u=>u.name).style("color",u=>c?la(r(u.name)):void 0).on("click",(u,d)=>{var f;s||(n?e.splitMainValues=e.splitMainValues.filter(h=>h!=d.name):e.splitMainValues=[d.name].concat(e.splitMainValues||[]),(f=u.target.getRootNode().host.closest("perspective-viewer"))==null||f.dispatchEvent(new Event("perspective-config-update")),a(o))})},a=o=>{let l=cc(o.node());l._container.innerHTML="",l._draw()};return i.labels=(...o)=>o.length?(t=o[0],i):t,i.alt=(...o)=>o.length?(n=o[0],i):n,i.color=(...o)=>o.length?(r=o[0],i):r,i},Yo=(e,t,n=l9)=>{let r,i,a,o=e.splitMainValues||[],l=u=>{let d=u.split("|");return o.includes(d[d.length-1])},s=e.mainValues.some(u=>l(u.name));i=s?n(t,u=>!l(u)):t,a=s?n(t,l):null;let c=u=>{if(e.mainValues.length===1)return;let d=e.mainValues.map((p,x)=>({index:x,name:p.name})),f=d.filter(p=>!l(p.name)),h=d.filter(p=>l(p.name)),g=()=>o9(e).color(r);u.select(".y-label.left-label").call(g().labels(f)),u.select(".y-label.right-label").call(g().labels(h).alt(!0))};return c.color=(...u)=>u.length?(r=u[0],c):r,c.haveSplit=()=>s,c.data=(...u)=>u.length?(i=u[0],c):i,c.altData=(...u)=>u.length?(a=u[0],c):a,c},l9=(e,t)=>e.map(n=>n.filter(r=>t(r.key))),zg=(e,t)=>e.map(n=>t(n.key)?n:n.map(r=>Object.assign({},r,{mainValue:null}))),s9=(e,t)=>e.map(n=>zg(n,t));function Rg(e,t){let n=Ag(t,Ir(t)),r=oa(t),i=Dn().settings(t).scale(r),a=Mg(t,r).orient("vertical"),o=Rr().mapping((p,x)=>p[x]).series(n.map(()=>a)),l=ht(t).excludeType(it.linear).settingName("crossValues").valueName("crossValue")(n),s=ht(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(it.ordinal).orient("vertical").include([0]).paddingStrategy(Pn()),c=t.mainValues.length>1?s9:zg,u=Yo(t,n,c).color(r),d=s(u.data()),f=u.haveSplit()?o:wn(o,t).orient("vertical"),h=Dr(l,d).axisSplitter(u).plotArea(f);h.xPaddingInner&&(h.xPaddingInner(.5),h.xPaddingOuter(.25),a.align("left")),h.yNice&&h.yNice();let g=yn().chart(h).settings(t).xScale(l.scale);if(u.haveSplit()){let p=s(u.altData());a9(d.domain,p.domain),h.yDomain(d.domain).altAxis(p)}e.datum(u.data()).call(g),e.call(i)}Rg.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var c9=Rg;function pc(e,t){var a,o;let n=c_(),r=e.data.length*(((a=e.data)==null?void 0:a.length)>0?Object.keys(e.data[0]).length-(((o=e.crossValues)==null?void 0:o.length)>0?1:0):0),i=Math.max(1,Math.min(3,Math.floor(e.size.width/r/2)));return n=n.decorate(l=>{l.style("stroke",s=>la(t(s[0]&&s[0].key))).style("stroke-width",i)}),n.crossValue(l=>l.crossValue).mainValue(l=>l.mainValue)}function u9(e,t){let n=Pr(e);return t.map((r,i)=>Object.keys(r).filter(a=>a!=="__ROW_PATH__").map(a=>({key:a,crossValue:n(r,i),mainValue:r[a],row:r})))}var Vg=function(e){let t=[];for(let n of e)for(let r=0;r<n.length;r++)n[r].mainValue!==null&&(t[r]=t[r]||[],t[r].push(n[r]));return t},Jf=(e,t,n=Math.min)=>{let r=o=>o.reduce((l,s)=>{let c=i(s);return c&&(!l||n(l.value,c.value)===c.value)?c:l},null),i=o=>{if(Array.isArray(o))return r(o);let l=t(o);return l!==null?{item:o,value:l}:null},a=r(e);return a?a.item:null},lr=()=>{let e=Wo().alwaysShow(!0),t=null,n=null,r=null,i=null,a=!1,o=null,l="crossValue",s="mainValue",c=null,u=1,d=g=>{let p=`d3fc-${a?"canvas":"svg"}.plot-area`;if(t||n){let x=null,b=y3().on("point",A=>{let $=A.length?h(A[0]):null;x=$?[$.data]:[];let E=$?$.scale:n;f(g,x,E)});g.select(p).on("measure.nearbyTip",()=>f(g,[])).on("click",()=>{x.length&&fc(g.node(),x[0],e.settings())}).call(b)}},f=(g,p,x=n)=>{let b=g.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(p);b.exit().remove(),b.enter().append("circle").attr("class","nearbyTip").merge(b).attr("r",A=>i?u*Math.sqrt(i(A.size)):10).attr("transform",A=>`translate(${t(A[l])},${x(A[s])})`).style("stroke","none").style("fill",A=>r&&A.key&&qo(r(A.key))),e(b)},h=g=>{let p=A=>$=>$[s]===void 0||$[s]===null||$[l]===void 0||$[l]===null?null:Math.sqrt(Math.pow(t($[l])-g.x,2)+Math.pow(A($[s])-g.y,2)),x=p(n),b=Jf(o,x,Math.min);if(c){let A=p(c.yScale),$=Jf(c.data,A,Math.min);return x(b)<=A($)?{data:b,scale:n}:{data:$,scale:c.yScale}}return{data:b,scale:n}};return d.scaleFactor=(...g)=>g.length?(u=g[0],d):u,d.xScale=(...g)=>g.length?(t=g[0],d):t,d.yScale=(...g)=>g.length?(n=g[0],d):n,d.color=(...g)=>g.length?(r=g[0],d):r,d.size=(...g)=>g.length?(i=g[0]?g[0].copy().range([40,4e3]):null,d):i,d.canvas=(...g)=>g.length?(a=g[0],d):a,d.data=(...g)=>g.length?(o=g[0],d):o,d.xValueName=(...g)=>g.length?(l=g[0],d):l,d.yValueName=(...g)=>g.length?(s=g[0],d):s,d.altDataWithScale=(...g)=>g.length?(c=g[0],d):c,d.settings=(...g)=>g.length?(e.settings(g[0]),d):e.settings(),ze(d,e),d};function Dg(e,t){let n=u9(t,Ir(t)),r=oa(t),i=Dn().settings(t).scale(r),a=no().series(pc(t,r)).orient("horizontal"),o=Pn().pad([.1,.1]).padUnit("percent"),l=Yo(t,Vg(n)).color(r),s=ht(t).excludeType(it.linear).settingName("crossValues").valueName("crossValue")(n),c=ht(t).settingName("mainValues").valueName("mainValue").memoValue(l.haveSplit()?null:t.axisMemo[0]).orient("vertical").paddingStrategy(o),u=c(l.data()),d=l.haveSplit()?a:wn(a,t).orient("vertical"),f=Dr(s,u).axisSplitter(l).plotArea(d);f.yNice&&f.yNice();let h=yn().chart(f).settings(t).xScale(s.scale),g=lr().settings(t).xScale(s.scale).yScale(u.scale).color(r).data(n);if(l.haveSplit()){let x=c(l.altData());f.altAxis(x),g.data(l.data()).altDataWithScale({yScale:x.scale,data:l.altData()})}let p=l.data();e.datum(p).call(h),e.call(g),e.call(i)}Dg.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var f9=Dg,Ol=Math.sqrt(3),d9={draw:function(e,t){let n=Math.sqrt(t/(Ol*3));e.moveTo(0,n*2),e.lineTo(-Ol*n,-n),e.lineTo(Ol*n,-n),e.closePath()}},h9=[Mo,t_,r_,i_,o_,l_,s_],Pg={circle:Mo,square:i_,cross:t_,diamond:r_,star:o_,triangle:l_,wye:s_,nabla:d9};function bc(e){return e.length>1?Ji().domain(e).range(h9):null}var _9=8,g9=1;function p9(e,t,n,r,i,a,o=1){let l=Ix().crossValue(s=>s.x).mainValue(s=>s.y);return a&&l.type(s=>a(s.row[t])),n&&l.size(s=>Math.round(o*n(s.size))),l.decorate((s,c)=>{var f;let u=r(c.colorValue),d=(f=e.colorStyles)==null?void 0:f.opacity;if(i){let{type:h}=e.mainValues.find(p=>p.name===i),g=Jn(h,c.row[i]);if(g!==null){s.fillStyle=e.textStyles.color,s.font=e.textStyles.font;let p=0;n&&(p=Math.sqrt(o*n(c.size)/Math.PI)*g9);let x=p+_9;s.fillText(g,x,4)}}s.strokeStyle=la(u),s.fillStyle=qo(u,d)}),l}function b9(e,t){let n=[...new Set(Eg(e,t))];return bc(n)}function m9(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach(r=>{if(r!=="__ROW_PATH__"){let i=Bo(r);n.includes(i)||n.push(i)}}),bc(n)}function w9(e,t){let n=e.mainValues.length;return t.map(r=>{let i=Object.keys(r).filter(o=>o!=="__ROW_PATH__"),a=new Array(i.length/n);for(let o=0;o<i.length/n;o++)a[o]={key:Bo(i[o*n]),crossValue:r[i[o*n]],mainValue:r[i[o*n+1]],row:r};return a})}function Ig(e,t){let n=Vg(w9(t,_c(t))),r=L7(t),i=m9(t),a=null;r.domain().length>=2&&(a=J7().settings(t).scale(i).color(r));let o=no().series(pc(t,r)).orient("horizontal"),l=Pn().pad([.1,.1]).padUnit("percent"),s=ht(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").memoValue(t.axisMemo[0]).paddingStrategy(l),c=ht(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(l)(n),u=s(n),d=wn(o,t).orient("vertical"),f=Dr(u,c).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(d);f.xNice&&f.xNice(),f.yNice&&f.yNice();let h=yn().chart(f).settings(t).xScale(u.scale).yScale(c.scale),g=lr().settings(t).xScale(u.scale).yScale(c.scale).color(r).data(n);e.datum(n).call(h),e.call(g),a&&e.call(a)}Ig.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var y9=Ig;function v9(e,t){let n=Fx();return n=n.decorate(r=>{r.style("fill",i=>t(i[0].key)).style("opacity",.5)}),n.crossValue(r=>r.crossValue).mainValue(r=>r.mainValue).baseValue(r=>r.baseValue)}function x9(e,t){let n=Pr(e);return t.map((r,i)=>{let a={};return Object.keys(r).filter(o=>o!=="__ROW_PATH__").map(o=>{let l=o.split("|"),s=l[l.length-1],c=a[s]||0,u=c+r[o];return a[s]=u,{key:o,crossValue:n(r,i),mainValue:u,baseValue:c,row:r}})})}function Fg(e,t){let n=x9(t,Ir(t)),r=oa(t),i=Dn().settings(t).scale(r),a=no().series(v9(t,r).orient("vertical")),o=no().series(pc(t,r)).orient("vertical"),l=Rr().series([a,o]),s=ht(t).excludeType(it.linear).settingName("crossValues").valueName("crossValue")(n),c=ht(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(it.ordinal).orient("vertical").include([0]).paddingStrategy(Pn()),u=Yo(t,n).color(r),d=c(u.data()),f=u.haveSplit()?l:wn(l,t).orient("vertical"),h=Dr(s,d).axisSplitter(u).plotArea(f);h.yNice&&h.yNice();let g=yn().chart(h).settings(t).xScale(s.scale),p=lr().settings(t).xScale(s.scale).yScale(d.scale).color(r).data(n);if(u.haveSplit()){let x=c(u.altData());h.altAxis(x),p.data(u.data()).altDataWithScale({yScale:x.scale,data:u.altData()})}e.datum(u.data()).call(g),e.call(p),e.call(i)}Fg.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var k9=Fg;function S9(e,t,n,r){let i=u_().size(100),a=e.colorStyles&&e.colorStyles.opacity;return r&&i.type(r(t)),i.decorate(o=>{o.style("stroke",l=>la(n(l.colorValue||t))).style("fill",l=>qo(n(l.colorValue||t),a))}),i.crossValue(o=>o.crossValue).mainValue(o=>o.mainValue)}function M9(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return bc(n)}function Ug(e,t){let n=V7(t,Ir(t)),r=M9(t),i=oa(t),a=ds().settings(t).scale(r).color(i),o=Rr().mapping((x,b)=>x[b]).series(n.map(x=>S9(t,x.key,i,r))),l=Pn().pad([.05,.05]).padUnit("percent"),s=ht(t).excludeType(it.linear).settingName("crossValues").valueName("crossValue")(n),c=ht(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(l),u=Yo(t,n).color(i),d=c(u.data()),f=u.haveSplit()?o:wn(o,t).orient("vertical"),h=Dr(s,d).axisSplitter(u).plotArea(f);h.yNice&&h.yNice();let g=yn().chart(h).settings(t).xScale(s.scale),p=lr().settings(t).xScale(s.scale).yScale(d.scale).color(i).data(n);if(u.haveSplit()){let x=c(u.altData());h.altAxis(x),p.data(u.data()).altDataWithScale({yScale:x.scale,data:u.altData()})}e.datum(u.data()).call(g),e.call(p),a&&e.call(a)}Ug.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var E9=Ug;function A9(e,t){return Ho(e,t,{excludeEmpty:!0}).map(n=>$9(e,n))}function $9(e,t){let n=Pr(e),r=t.map((i,a)=>({crossValue:n(i,a),mainValues:e.mainValues.map(o=>i[o.name]),x:i[e.mainValues[0].name],y:i[e.mainValues[1].name],colorValue:e.realValues[2]?i[e.realValues[2]]:void 0,size:e.realValues[3]?i[e.realValues[3]]:void 0,key:t.key,row:i}));return r.key=t.key,r}function T9(e,t,n,r){return On().domain(jg(t,n,r))}function Xo(e,t,n,r=null){let i=jg(t,n,r),a=e.colorStyles.gradient.full;if(i[0]>=0)a=e.colorStyles.gradient.positive;else if(i[1]<=0)a=e.colorStyles.gradient.negative;else{let l=Math.max(-i[0],i[1]);i=[-l,l]}let o=C9(a);return Lh(o).domain(i)}var jg=(e,t,n)=>n||_g().valueName(t).pad([0,0])(e),C9=e=>{let t=e.slice(1).map((n,r)=>Rn(e[r][1],n[1]));return n=>{let r=e.findIndex((l,s)=>s<e.length-1&&n<=e[s+1][0]&&n>l[0]);if(r===-1)return n<=e[0][0]?e[0][1]:e[e.length-1][1];let i=t[r],[a]=e[r],[o]=e[r+1];return i((n-a)/(o-a))}};function Go(){let e=null;function t(n){let r=It(n,"div.legend-container",()=>n.append("div").attr("class","legend-container legend-color").style("z-index","2")),{width:i,height:a}=r.node().getBoundingClientRect(),o=Zi().domain([0,1]).range([0,i]),l=e.copy().nice().domain(),s=zh().pad([.1,.1]).padUnit("percent")(l),[c,u]=s,d=ks(c,u,(u-c)/a),f=On().domain(s).range([a,0]),h=Fs(ns()).xScale(o).yScale(f).crossValue(0).baseValue((y,k)=>d[Math.max(0,k-1)]).mainValue(y=>y).decorate(y=>{y.selectAll("path").style("fill",k=>e(k))}),g=l[0]<0&&l[1]>0?0:Math.round((l[1]+l[0])/2),p=[...l,g],x=hg(c,u),b=Co(f).tickValues(p).tickSizeOuter(0).tickFormat(y=>x(y)),A=It(r,"svg",()=>r.append("svg")).style("width",i).style("height",a),$=It(A,"g",()=>A.append("g")).datum(d).call(h),E=Math.abs($.node().getBBox().x);It(A,"#legend-axis",()=>A.append("g").attr("id","legend-axis")).attr("transform",`translate(${E})`).datum(d).call(b).select(".domain").attr("visibility","hidden")}return t.scale=(...n)=>n.length?(e=n[0],t):e,t}function mc(){let e="element-prefix-unset",t=null,n=null,r=null,i=null,a=null,o=!0,l=null,s=c=>{let u=It(c,"div.outer-container",()=>c.append("div").attr("class","outer-container").style("width",`calc(100% - ${l??0})`).style("height",`calc(100% - ${l??0})`).style("padding-left",l??0)),d=It(u,"div.inner-container",()=>u.append("div").attr("class","inner-container")),f=u.node().getBoundingClientRect(),h=f.height,g=f.width-0,p=300,x=c.datum(),b=Math.max(1,Math.min(x.length,Math.floor(g/p))),A=Math.ceil(x.length/b);a={width:g/Math.max(b,1),height:Math.min(h,Math.max(h/A,g/Math.max(b,1)))},h/A>a.height*.75&&(a.height=h/A),x.length>1?(d.style("grid-template-columns",`repeat(${b}, ${100/b}%)`),d.style("grid-template-rows",`repeat(${A}, ${a.height}px)`)):(d.style("grid-template-columns","repeat(1, 100%)"),d.style("grid-template-rows","repeat(1, 100%)")),r=d.selectAll(`div.${e}-container`).data(x,$=>$.split),r.exit().remove(),n=r.enter().append("div").attr("class",`${e}-container`),i=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),o?t=n.append("svg").append("g").attr("class",e):t=n.append("div").attr("class",e)};return s.padding=(...c)=>c.length?(l=c[0],s):l,s.svg=(...c)=>c.length?(o=c[0],s):o,s.elementsPrefix=(...c)=>c.length?(e=c[0],s):e,s.chartContainer=()=>t,s.chartEnter=()=>n,s.chartDiv=()=>r,s.chartTitle=()=>i,s.containerSize=()=>a,s}function N9([e,t],[n,r]){let i=(r-t)/(n-e),a=r-i*n;return function(o){let l=o.node(),s=Math.min(l.clientWidth,l.clientHeight);return Math.min(r,Math.max(t,i*s+a))}}function Zf(){let e=null,t=null,n=null,r=null,i=a=>{let o=!!e.realValues[2],l=e.realValues[4],s=e.realValues[3]?T9(e,t,"size").range([10,1e4]):null,c=e.realValues[5],u=N9([600,.1],[1600,1])(a),d=Eo().mapping((E,y)=>E[y]).series(t.map(()=>p9(e,l,s,n,c,r,u))),f=()=>ht(e).settingName("mainValues").paddingStrategy(Pn()).pad([.1,.1]),h=f().settingValue(e.mainValues[0].name).memoValue(e.axisMemo[0]).valueName("x")(t),g=f().orient("vertical").settingValue(e.mainValues[1].name).memoValue(e.axisMemo[1]).valueName("y")(t),[p,x]=e.splitValues.length===0?[e.mainValues[0].name,e.mainValues[1].name]:["",""],b=uc(h,g).xLabel(p).yLabel(x).plotArea(wn(d,e).canvas(!0));b.xNice&&b.xNice(),b.yNice&&b.yNice();let A=yn().chart(b).settings(e).xScale(h.scale).yScale(g.scale).canvas(!0),$=lr().scaleFactor(u).settings(e).canvas(!0).xScale(h.scale).xValueName("x").yValueName("y").yScale(g.scale).color(!o&&n).size(s).data(t);a.datum(t).call(A),a.call($)};return i.settings=(...a)=>a.length?(e=a[0],i):e,i.data=(...a)=>a.length?(t=a[0],i):t,i.color=(...a)=>a.length?(n=a[0],i):n,i.symbols=(...a)=>a.length?(r=a[0],i):r,i}function O9(e,t){var s,c,u;if(!t)return;let n=e.realValues[4],r=(s=e.mainValues.find(d=>d.name===n))==null?void 0:s.type,i=t.domain(),a=t.range(),o=a.length;for(let[d,f]of i.entries())a[d]=a[d%o];let l=((u=(c=e.columns_config)==null?void 0:c[n])==null?void 0:u.symbols)??{};return Object.entries(l).forEach(([d,f])=>{let h=Pg[f]??Mo,g=i.findIndex(p=>{switch(r){case"date":case"datetime":return new Date(p).valueOf()===new Date(d).valueOf();default:return String(p)===String(d)}});a[g]=h}),t.range(a),t}function Ko(e,t){var d;let n=t.realValues[2],r=!!n,i=((d=t.mainValues.find(f=>f.name===n))==null?void 0:d.type)==="string",a=null,o=null,l=t.realValues[4],s=b9(t,l),c=O9(t,s),u=A9(t,_c(t));if(r&&i?l?(t.splitValues.length>0?a=_o(t,u):a=_o(t,u[0]),o=ds().settings(t).scale(c)):(a=O7(t,n),o=Dn().settings(t).scale(a)):r?(a=Xo(t,u,"colorValue"),o=Go().scale(a)):(a=zn().settings(t).domain([""])(),o=ds().settings(t).scale(c)),t.splitValues.length!==0){let f=mc().svg(!1).elementsPrefix("xy-scatter");f=f.padding("2.5em"),e.append("div").attr("class","multi-xlabel").append("p").text(t.mainValues[0].name),e.append("div").attr("class","multi-ylabel").append("p").text(t.mainValues[1].name).style("transform","rotate(-90deg)").style("text-wrap","nowrap"),e=e.datum(u),e.call(f),f.chartContainer();let h=f.chartEnter(),g=f.chartDiv(),p=f.chartTitle(),x=f.containerSize();p.each((b,A,$)=>ce($[A]).text(b.key)),h.merge(g).attr("transform",`translate(${x.width/2}, ${x.height/2})`).each(function(b){let A=ce(this);Zf().settings(t).data([b]).color(a).symbols(c)(A)})}else Zf().settings(t).data(u).color(a).symbols(c)(e);o&&e.call(o)}Ko.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Symbol","Label","Tooltip"]},selectMode:"toggle"};Ko.can_render_column_styles=(e,t)=>e==="string"&&t==="Symbol";Ko.column_style_controls=(e,t)=>e==="string"&&t==="Symbol"?{symbols:{keys:"row",values:Object.keys(Pg)}}:null;var L9=Ko;function z9(e,t){let n=Kx();return n.decorate((r,i)=>{r.fillStyle=t(i.colorValue)}),Fs(n).xValue(r=>r.crossValue).yValue(r=>r.mainValue).colorValue(r=>r.colorValue).colorInterpolate(t.interpolator()).widthFraction(1)}function R9(e,t){let n=Pr(e),r=lc(e).excludeType(it.linear).settingName("splitValues")(),i=[];return t.forEach((a,o)=>{let l=n(a,o);Object.keys(a).filter(s=>s!=="__ROW_PATH__").forEach(s=>{let c=V9(s);i.push({crossValue:l,mainValue:r===it.time?new Date(c):c,colorValue:a[s],row:a})})}),i}function V9(e){let t=e.split("|");return t.pop(),t.join("|")}function Wg(e,t){let n=R9(t,Ir(t)),r=Xo(t,n,"colorValue"),i=z9(t,r),a=Go().scale(r),o=ht(t).excludeType(it.linear).settingName("crossValues").valueName("crossValue")(n),l=ht(t).excludeType(it.linear).settingName("splitValues").valueName("mainValue").modifyDomain(d=>isNaN(d[0])?d:d.reverse()).orient("vertical")(n),s=uc(o,l).plotArea(wn(i,t).canvas(!0));s.xPaddingInner&&(s.xPaddingInner(0),s.xPaddingOuter(0),i.xAlign("right")),s.yPaddingInner&&(s.yPaddingInner(0),s.yPaddingOuter(0),i.yAlign("top"));let c=yn().chart(s).settings(t).xScale(o.scale).yScale(l.scale).canvas(!0),u=lr().settings(t).canvas(!0).xScale(o.scale).yScale(l.scale).color(r).data(n);e.datum(n).call(c),e.call(a),e.call(u)}Wg.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0,initial:{names:["Color"]}};var D9=Wg;function P9(e,t){return Ho(e,t,{excludeEmpty:!0}).map(n=>I9(e,n))}function I9(e,t){let n=Pr(e),r=a=>t[a<t.length-1?a+1:a][e.realValues[0]],i=t.map((a,o)=>{let l=e.realValues[0]?a[e.realValues[0]]:void 0,s=e.realValues[1]?a[e.realValues[1]]:r(o);return{crossValue:n(a,o),mainValues:e.mainValues.map(c=>a[c.name]),openValue:l,closeValue:s,highValue:e.realValues[2]?a[e.realValues[2]]:Math.max(l,s),lowValue:e.realValues[3]?a[e.realValues[3]]:Math.min(l,s),key:t.key,row:a}});return i.key=t.key,i}var F9=e=>e.closeValue>=e.openValue;function U9(e,t,n){let r=n.domain(),i=zn().domain(r).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(Yi(.5))(),a=zn().settings(e).domain(r)(),o=t().crossValue(c=>c.crossValue).openValue(c=>c.openValue).highValue(c=>c.highValue).lowValue(c=>c.lowValue).closeValue(c=>c.closeValue).decorate((c,u)=>{let d=F9(u)?n(u.key):i(u.key);c.fillStyle=d,c.strokeStyle=d}),l=Px().mainValue(c=>c.bollinger.average).crossValue(c=>c.crossValue).decorate((c,u)=>{c.strokeStyle=a(u[0].key)}),s=Ux().mainValue(c=>c.bollinger.upper).baseValue(c=>c.bollinger.lower).crossValue(c=>c.crossValue).decorate((c,u)=>{c.fillStyle=Yi(.25)(a(u[0].key))});return Eo().series([s,o,l])}function j9(e){return function(t,n){let r=P9(n,_c(n)),i=d1().value(b=>b.openValue),a=r.map(b=>{let A=i(b);return b.map(($,E)=>Object.assign({bollinger:A[E]},$))}),o=r.map(b=>b.key).concat(n.hideKeys?n.hideKeys:[]).sort(),l=zn().domain(o).settings(n).mapFunction(Yi(1))(),s=Dn().settings(n).scale(o.length>1?l:null),c=U9(n,e,l),u=Eo().mapping((b,A)=>b[A]).series(a.map(()=>c)),d=Pn().pad([.1,.1]).padUnit("percent"),f=ht(n).settingName("crossValues").valueName("crossValue")(a),h=ht(n).settingName("mainValues").valueNames(["lowValue","highValue"]).memoValue(n.axisMemo[1]).orient("vertical").paddingStrategy(d)(a),g=uc(f,h).plotArea(wn(u,n).orient("vertical").canvas(!0));g.yNice&&g.yNice();let p=yn().chart(g).settings(n).xScale(f.scale).onChange(b=>{let A=a.map($=>$.filter(E=>E.crossValue>=b.xDomain[0]&&E.crossValue<=b.xDomain[1]));g.yDomain(h.domainFunction(A))}).canvas(!0),x=lr().settings(n).xScale(f.scale).yScale(h.scale).yValueName("closeValue").color(l).data(a).canvas(!0);t.datum(a).call(p),t.call(x),t.call(s)}}var Bg=j9,qg=Bg(Bx);qg.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var W9=qg,Hg=Bg(Wx);Hg.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var B9=Hg;function q9(e,t){var n;if(e.realValues.length>1&&e.realValues[1]!==null){let r=e.realValues[1];if(((n=e.mainValues.find(i=>i.name===r))==null?void 0:n.type)==="string"){let i=t.map(a=>a.data).filter(a=>a.height>0).map(a=>Yg(a)).reduce((a,o)=>a.concat(o));return _o(e,i)}else return Xo(e,null,null,t7(t.map(i=>i.extents)))}}function Yg(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(Yg(n,t))):e.data.color&&t.push(e.data.color),t}function Xg(e){let t={},n=e.realValues.map(r=>r===null?null:e.mainValues.find(i=>i.name===r));return e.data.forEach((r,i)=>{let a=Array.isArray(r.__ROW_PATH__)?r.__ROW_PATH__:[];Y9(r).forEach(o=>{let l;t[o]||(t[o]=[]),l=t[o],a.forEach((s,c)=>{let u=l.find(d=>d.name===s);if(u||(u={name:s,children:[]},l.push(u)),e.realValues.length>1&&e.realValues[1]!==null){let d=c===a.length-1,f=vi(d?r:e.agg_paths[i][c+1]||r,e.mainValues[1],o);f!==void 0&&(u.color=f)}if(e.realValues.length>2&&e.realValues[2]!==null){u.tooltip=[];for(let d=2;d<e.realValues.length;++d)u.tooltip.push(vi(r,n[d],o))}if(c===a.length-1){if(u.name=a.slice(-1)[0],e.crossValues.length===0)u.size=vi(r,e.mainValues[0],"");else if(a.length===e.crossValues.length){let d=vi(r,e.mainValues[0],o);u.size=d>0?d:0}}l=u.children})})}),Object.entries(t).map(r=>{let i={name:"root",children:r[1]},a=zo(i).sum(l=>l.size),o=h5().size([2*Math.PI,a.height+1])(a);return o.each(l=>{var s;l.current=l,l.mainValues=e.realValues.length===1||e.realValues[1]===null&&e.realValues[2]===null?l.value:[l.value,l.data.color].concat(l.data.tooltip||[]).filter(c=>c!==void 0),l.crossValue=l.ancestors().slice(0,-1).reverse().map(c=>c.data.name),l.key=r[0],l.label=Jn(((s=e.crossValues[l.depth-1<0?0:l.depth-1])==null?void 0:s.type)||e.mainValues[0].type,l.data.name)}),{split:r[0],data:o,extents:H9(e,r)}})}var vi=(e,t,n)=>n.length?e[`${n}|${t.name}`]:e[t.name];function H9(e,[t,n]){if(e.realValues.length>1&&e.realValues[1]!==null){let r=Math.min(...e.data.map(a=>vi(a,e.mainValues[1],t))),i=Math.max(...n.map(a=>a.color));return[r,i]}}function Y9(e){let t=[];return Object.keys(e).forEach(n=>{if(n!=="__ROW_PATH__"){let r=n.split("|").slice(0,-1).join("|");t.includes(r)||t.push(r)}}),t}var Gg=e=>Ax().startAngle(t=>t.x0).endAngle(t=>t.x1).padAngle(t=>Math.min((t.x1-t.x0)/2,.005)).padRadius(e).innerRadius(t=>Math.max(1,(t.y0-1)*e)).outerRadius(t=>Math.max((t.y0-1)*e,(t.y1-1)*e-1)),Yn=e=>e.y0>=1&&e.x1>e.x0,hs=e=>e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06;function Kg(e,t){let n=(e.x0+e.x1)/2*180/Math.PI,r=(e.y0-1+(e.y1-1))/2*t;return`rotate(${n-90}) translate(${r},0) rotate(${n<180?0:180})`}function X9(e,t){let n=this.getBBox().width;if(n>t){let r=e.label,i=ce(this);for(;n>t;)r=r.substring(0,r.length-1),i.text(()=>r),n=this.getBBox().width;i.text(()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`)}}var G9=(e,t,n,r,i,a,o,l,s)=>(c,u)=>{s.sunburstLevel[l]=c.data.name,c.parent?(n.datum(c.parent),n.style("cursor","pointer"),r.html(`&#8682; ${c.label}`)):(n.datum(e),n.style("cursor","default"),r.html("")),e.each(f=>f.target={x0:Math.max(0,Math.min(1,(f.x0-c.x0)/(c.x1-c.x0)))*2*Math.PI,x1:Math.max(0,Math.min(1,(f.x1-c.x0)/(c.x1-c.x0)))*2*Math.PI,y0:Math.max(0,f.y0-c.depth),y1:Math.max(0,f.y1-c.depth)});let d=t.transition().duration(u?0:750);i.transition(d).tween("data",f=>{let h=Rn(f.current,f.target);return g=>f.current=h(g)}).filter(function(f){return+this.getAttribute("fill-opacity")||Yn(f.target)}).attr("fill-opacity",f=>Yn(f.target)?1:0).attr("user-select",f=>Yn(f.target)?"initial":"none").style("pointer-events",f=>Yn(f.target)?"initial":"none").attrTween("d",f=>()=>Gg(o)(f.current)),a.filter(function(f){return+this.getAttribute("fill-opacity")||hs(f.target)}).transition(d).attr("fill-opacity",f=>+hs(f.target)).attrTween("transform",f=>()=>Kg(f.current,o))};function K9(){let e=null,t=null,n=null,r=null,i=null,a=o=>{let l=o.selectAll("g.segment").data(n.descendants().slice(1)),s=l.enter().append("g").attr("class","segment");s.append("path"),s.append("text").attr("class","segment").attr("dy","0.35em");let c=s.merge(l),u=c.select("path").attr("fill-opacity",p=>Yn(p.current)?1:0).attr("user-select",p=>Yn(p.current)?"initial":"none").style("pointer-events",p=>Yn(p.current)?"initial":"none").attr("d",p=>Gg(i)(p.current));r&&u.style("fill",p=>r(p.data.color));let d=c.select("text").attr("fill-opacity",p=>+hs(p.current)).attr("transform",p=>Kg(p.current,i)).text(p=>p.label).each(function(p){X9.call(this,p,i)}),f=o.select("text.parent"),h=o.select("circle").attr("r",i).datum(n),g=G9(n,o,h,f,u,d,i,t,e);if(e.sunburstLevel){let p=n.descendants().find(x=>x.data.name===e.sunburstLevel[t]);p&&g(p,!0)}else e.sunburstLevel={};h.on("click",p=>g(p,!1)),u.filter(p=>p.children).style("cursor","pointer").on("click",p=>g(p,!1))};return a.settings=(...o)=>o.length?(e=o[0],a):e,a.split=(...o)=>o.length?(t=o[0],a):t,a.data=(...o)=>o.length?(n=o[0],a):n,a.color=(...o)=>o.length?(r=o[0],a):r,a.radius=(...o)=>o.length?(i=o[0],a):i,a}function Qg(e,t){var u;let n=Xg(t),r=q9(t,n),i=mc().elementsPrefix("sunburst");if(e.datum(n).call(i),r){let d=t.realValues[1];if(((u=t.mainValues.find(f=>f.name===d))==null?void 0:u.type)==="string"){let f=Dn().settings(t).scale(r);e.call(f)}else{let f=Go().scale(r);e.call(f)}}let a=i.chartContainer(),o=i.chartEnter(),l=i.chartDiv(),s=i.chartTitle(),c=i.containerSize();s.each((d,f,h)=>ce(h[f]).text(d.split)),a.append("circle").attr("fill","none").style("pointer-events","all"),a.append("text").attr("class","parent"),o.merge(l).select("svg").select("g.sunburst").attr("transform",`translate(${c.width/2}, ${c.height/2})`).each(function({split:d,data:f}){let h=ce(this),g=this.parentNode,{width:p,height:x}=g.getBoundingClientRect(),b=(Math.min(p,x)-24)/Math.max(2,t.crossValues.length*2);K9().settings(t).split(d).data(f).color(r).radius(b)(h),Wo().settings(t)(h.selectAll("g.segment"))})}Qg.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var Q9=Qg;function J9(e,t){var i;if(e.realValues.length<1||e.realValues[1]===null||e.realValues[1]===void 0)return;let n=e.realValues[1],r=t.filter(a=>a.height>0).map(a=>Jg(a)).reduce((a,o)=>a.concat(o));if(((i=e.mainValues.find(a=>a.name===n))==null?void 0:i.type)==="string")return _o(e,r);{let a=Math.min(...r),o=Math.max(...r);return Xo(e,null,null,[a,o])}}function Jg(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(Jg(n,t))):e.data.color&&t.push(e.data.color),t}var ed=7,Ll=e=>!!(e.target&&e.target.textAttributes),Zg=(e,t,n)=>{e.selectAll("text").each(function(i,a){let o=ak(i,t,n);this.style=o});let r=yc(e);nk(r),e0(r)},Z9=e=>{e.each((t,n,r)=>{ce(r[n]).selectAll("text").attr("dx",t.target.textAttributes.dx).attr("dy",t.target.textAttributes.dy).attr("style",t.target.textAttributes.style)})},e0=e=>{let t=r=>r.getBoundingClientRect(),n=[];e.selectAll("text").filter((r,i,a)=>ce(a[i]).attr("style")===Xn.high).each((r,i,a)=>n.push(a[i])),e.selectAll("text").filter((r,i,a)=>ce(a[i]).attr("style")===Xn.low).each((r,i,a)=>{let o=a[i];n.filter(l=>Uf("x",t(l),t(o))&&Uf("y",t(l),t(o),-2)).forEach(()=>ce(o).attr("dy",Number(ce(o).attr("dy"))+14))})},ek=e=>ce(e).style("opacity",wc[ce(e).attr("class")]),tk=e=>ce(e).style("opacity",null),wc={top:1,mid:.7,lower:0},yc=e=>e.filter((t,n,r)=>ce(r[n]).selectAll("text").attr("style")!==Xn.zero),t0=e=>e.selectAll("text").each((t,n,r)=>rk(r[n])),nk=e=>e.selectAll("text").each((t,n,r)=>n0(r[n])),n0=e=>{let t=ce(e),n=e.getBoundingClientRect();t.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},rk=e=>{let t=e.parentNode.childNodes[0],n=e.getBBox(),r=t.getBBox();ik(e,r,n)||ce(e).attr("style",ce(e).attr("style"))},ik=(e,t,n)=>{let r=Math.min(t.height/n.height,t.width/n.width);if(r<1){let i=parseInt(ce(e).style("font-size")),a=Math.floor(i*r);return i>ed&&a>ed?(ce(e).style("font-size",`${a}px`),n0(e)):(ce(e).style("font-size",null),ce(e).style("opacity","0")),!0}return!1},ak=(e,t,n)=>{if(!n.filter(r=>r!=="").every(r=>e.crossValue.includes(r)))return Xn.zero;switch(e.depth){case t+1:return Xn.high;case t+2:return Xn.low;default:return Xn.zero}},Xn={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"},r0=(e,t)=>{let n=m5().size([e,t]).paddingInner(r=>1+2*(r.height-1));return n.tile(w5),n},ok=(e,t)=>t.every(n=>e.crossValue.includes(n));function i0(e,t,n,r,i,a){sk(e,t,n,r,i),e.mapLevel[r].levelRoot=!0,ck(e,a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height,r),o0(n,r)}function lk(e,t){e.each(n=>{n.mapLevel=[],n.mapLevel[0]={x0:n.x0,x1:Xi(n)+n.x0,y0:n.y0,y1:Gi(n)+n.y0,visible:!0,opacity:1}}),t.mapLevel[0].levelRoot=!0,o0(e,0)}var a0=(e,t)=>{e.each((n,r,i)=>{let a=ce(i[r]).selectAll("text");n.mapLevel[t].textAttributes={dx:a.attr("dx"),dy:a.attr("dy"),class:a.attr("class"),"font-size":a.style("font-size")}})};function sk(e,t,n,r,i){let a={x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0},o={width:i.x1-i.x0,height:i.y1-i.y0},l={width:o.width/a.width,height:o.height/a.height};n.each(s=>{let c=(s.x0-a.x)*l.width,u=(s.y0-a.y)*l.height,d=Xi(s)*l.width,f=Gi(s)*l.height,h=ok(s,t)&&s.data.name!==t[r-1];s.mapLevel[r]={x0:c,x1:d+c,y0:u,y1:f+u,visible:h,opacity:h?1:0}}),e.mapLevel[r].levelRoot=!0}function ck(e,t,n,r){let i=r0(t,n)(zo(e.data).sum(o=>o.size)).descendants(),a=e.descendants();i.forEach((o,l)=>{a[l].mapLevel[r].x0=i[l].x0,a[l].mapLevel[r].x1=i[l].x1,a[l].mapLevel[r].y0=i[l].y0,a[l].mapLevel[r].y1=i[l].y1})}function o0(e,t){e.selectAll("text").each((n,r,i)=>{let a=ce(i[r]),o=ce(i[r]).datum(),l=a.attr("class");o.mapLevel[t].textLockedAt={opacity:wc[l]}})}function uk(e,t,n,r,i,a,o,l,s){if(r.treemapLevel>0){let c=o.crossValue;_s(o,e,t,n,r,i,a,o,0,c,l,s,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach(u=>{let d=t.filter(h=>h.crossValue===u).datum(),f=d.crossValue;i0(d,f,t,d.depth,o,i),_s(d,e,t,n,r,i,a,o,d.depth,f,l,s,1,!1)})}}function l0(e,t,n,r,i,a,o,l,s,c){if(!e.children)return;i.treemapLevel<e.depth?i.treemapRoute.push(e.crossValue):i.treemapRoute.pop(),i.treemapLevel=e.depth;let u=e.crossValue;(!e.mapLevel[i.treemapLevel]||!e.mapLevel[i.treemapLevel].levelRoot)&&i0(e,u,n,i.treemapLevel,l,a),_s(e,t,n,r,i,a,o,l,i.treemapLevel,u,s,c)}function _s(e,t,n,r,i,a,o,l,s,c,u,d,f=500,h=!0){let g=e.parent,p=o.transition("main transition").duration(f).ease(O_);n.each(b=>b.target=b.mapLevel[s]),Ll(e)||_k(n,u),n.transition(p).tween("data",b=>{let A=Rn(b.current,b.target);return $=>b.current=A($)}).styleTween("opacity",b=>()=>b.current.opacity).attrTween("pointer-events",b=>()=>b.target.visible?"all":"none"),t.transition(p).filter(b=>b.target.visible).styleTween("x",b=>()=>`${b.current.x0}px`).styleTween("y",b=>()=>`${b.current.y0}px`).styleTween("width",b=>()=>`${b.current.x1-b.current.x0}px`).styleTween("height",b=>()=>`${b.current.y1-b.current.y0}px`),r.transition(p).filter(b=>b.target.visible).attrTween("x",b=>()=>b.current.x0+Xi(b.current)/2).attrTween("y",b=>()=>b.current.y0+Gi(b.current)/2).end().catch(()=>zl(n)).then(()=>{Ll(e)||(e0(x),t0(x),fk(r,o,f),h&&a0(n,s),zl(n,u))}).catch(b=>{console.error("Exception completing promises after main transition",b),zl(n,u)}),Ll(e)?Z9(n):(r.each((b,A,$)=>ek($[A])),Zg(n,s,c));let x=yc(n);g?u.hide(!1).text(e.label).onClick(()=>{l0(g,t,n,r,i,a,o,l,u,d);let b=a.node().getRootNode().host.parentElement;fc(b,g,d)})():u.hide(!0)()}async function fk(e,t,n=400){let r=t.transition("text fade transition").duration(n).ease(O_);await e.transition(r).filter(i=>i.target.visible).tween("data",(i,a,o)=>{let l=o[a],s=Rn(dk(i),hk(l));return c=>i.current.opacity=s(c)}).styleTween("opacity",i=>()=>i.current.opacity).end().catch(i=>console.error("Exception in text fade transition",i)).then(()=>e.each((i,a,o)=>tk(o[a])))}var dk=e=>e.target.textLockedAt.opacity,hk=e=>wc[ce(e).attr("class")],_k=(e,t)=>{t.deactivate(!0),e.each((n,r,i)=>{ce(i[r]).selectAll("rect").style("pointer-events","none")})},zl=(e,t=void 0)=>{t&&t.deactivate(!1),e.each((n,r,i)=>{ce(i[r]).selectAll("rect").style("pointer-events",null)})},gk=`<button id="goto-parent">Goto parent</button>
`;function pk(e){let t=null,n=null,r=!0,i=!1,a=It(e,".parent-controls",()=>e.append("div").attr("class","parent-controls").style("display",r?"none":"").html(gk)),o=()=>{a.style("display",r?"none":"").select("#goto-parent").style("pointer-events",i?"none":null).html(`â‡ª ${n}`).on("click",()=>t())};return o.deactivate=(...l)=>{if(!l.length)return i;i=l[0];let s=a.select("#goto-parent");return i?s.style("pointer-events","none"):s.style("pointer-events",null),o},o.hide=(...l)=>l.length?(r=l[0],o):r,o.text=(...l)=>l.length?(n=l[0],o):n,o.onClick=(...l)=>l.length?(t=l[0],o):t,o}var Da={leaf:"leafnode",branch:"branchnode",root:"rootnode"},Xi=e=>e.x1-e.x0,Gi=e=>e.y1-e.y0,bk=(e,t)=>t.depth===e,td=(e,t)=>t.depth===0?Da.root:bk(e,t)?Da.leaf:Da.branch;function mk(){let e=null,t=null,n=null,r=null,i=null,a=null,o=l=>{a=pk(i),a();let s=n.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),r0(i.node().getBoundingClientRect().width,i.node().getBoundingClientRect().height)(n);let c=l.selectAll("g").data(n.descendants()),u=c.enter().append("g");u.append("rect"),u.append("text");let d=u.merge(c).sort((p,x)=>x.depth-p.depth),f=d.select("rect").attr("class",p=>`treerect ${td(s,p)}`).style("x",p=>`${p.x0}px`).style("y",p=>`${p.y0}px`).style("width",p=>`${Xi(p)}px`).style("height",p=>`${Gi(p)}px`);f.style("fill",p=>td(s,p)===Da.leaf?p.data.color?r(p.data.color):t.colorStyles.series:"transparent");let h=d.filter(p=>p.value!==0).select("text").attr("x",p=>p.x0+Xi(p)/2).attr("y",p=>p.y0+Gi(p)/2).text(p=>p.label),g=f.filter(p=>p.crossValue.length===0).datum();lk(d,g),Zg(d,0,[]),t0(yc(d)),a0(d,0),e.treemapRoute.length===0&&e.treemapRoute.push(g.crossValue),f.filter(p=>p.children).on("click",(p,x)=>l0(x,f,d,h,e,i,l,g,a,t)),uk(f,d,h,e,i,l,g,a,t)};return o.settings=(...l)=>l.length?(e=l[0],t=l[1],o):e,o.data=(...l)=>l.length?(n=l[0],o):n,o.color=(...l)=>l.length?(r=l[0],o):r,o.container=(...l)=>l.length?(i=l[0],o):i,o}function s0(e,t){var l;t.treemaps||(t.treemaps={});let n=Xg(t),r=J9(t,n.map(s=>s.data));r&&this._container.classList.add("has-legend");let i=mc().elementsPrefix("treemap");if(e.datum(n).call(i),r){let s=t.realValues[1];if(((l=t.mainValues.find(c=>c.name===s))==null?void 0:l.type)==="string"){let c=Dn().settings(t).scale(r);e.call(c)}else{let c=Go().scale(r);e.call(c)}}let a=i.chartEnter(),o=i.chartDiv();i.chartTitle().each((s,c,u)=>ce(u[c]).text(s.split)),a.merge(o).select("svg").select("g.treemap").each(function({split:s,data:c}){let u=ce(this);t.treemaps[s]||(t.treemaps[s]={}),mk().settings(t.treemaps[s],t).data(c).container(ce(ce(this.parentNode).node().parentNode)).color(r)(u),Wo().settings(t).centered(!0)(u.selectAll("g"))})}s0.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:3e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var wk=s0,yk=[i9,c9,f9,y9,k9,E9,L9,W9,B9,wk,Q9,D9],nd=yk,rd=(e,t)=>{if(!t.colorStyles){let n={scheme:[],gradient:{},interpolator:{},grid:{}},r=kk(e);n.series=r("--d3fc-local-series");for(let i=1;;i++){let a=`series-${i}`,o=r(`--d3fc-local-${a}`);if(!o)break;n[a]=o,n.scheme.push(o)}n.opacity=vk(n.series),n.grid.gridLineColor=r`--d3fc-gridline--color`,["full","positive","negative"].forEach(i=>{let a=r(`--d3fc-local-${i}--gradient`);n.gradient[i]=Sk(a,n.opacity)}),t.colorStyles=n}if(!t.textStyles){let n=window.getComputedStyle(e),r=n.getPropertyValue("color"),i=`12px ${n.getPropertyValue("font-family")}`;t.textStyles={color:r,font:i}}},vk=e=>an(e).opacity,xk=(e,t)=>{let n=an(`#${e}`);return n.opacity=t,n+""},kk=e=>{let t=getComputedStyle(e);return n=>t==null?void 0:t.getPropertyValue(n)},Sk=(e,t)=>{let n=Z4.parse(e)[0].colorStops;return n.map((r,i)=>[r.length?r.length.value/100:i/(n.length-1),xk(r.value,t)]).sort((r,i)=>r[0]-i[0])},Mk=':host .chart{--d3fc-local-full--gradient:var(--d3fc-full--gradient,linear-gradient(#4d342f 0%,#e4521b 22.5%,#feeb65 42.5%,#f0f0f0 50%,#dcedc8 57.5%,#42b3d5 67.5%,#1a237e 100%));--d3fc-local-positive--gradient:var(--d3fc-positive--gradient,linear-gradient(#dcedc8 0%,#42b3d5 35%,#1a237e 100%));--d3fc-local-negative--gradient:var(--d3fc-negative--gradient,linear-gradient(#feeb65 100%,#e4521b 70%,#4d342f 0%));--d3fc-local-series:var(--d3fc-series,rgba(31,119,180,0.5));--d3fc-local-series-1:var(--d3fc-series-1,#0366d6);--d3fc-local-series-2:var(--d3fc-series-2,#ff7f0e);--d3fc-local-series-3:var(--d3fc-series-3,#2ca02c);--d3fc-local-series-4:var(--d3fc-series-4,#d62728);--d3fc-local-series-5:var(--d3fc-series-5,#9467bd);--d3fc-local-series-6:var(--d3fc-series-6,#8c564b);--d3fc-local-series-7:var(--d3fc-series-7,#e377c2);--d3fc-local-series-8:var(--d3fc-series-8,#7f7f7f);--d3fc-local-series-9:var(--d3fc-series-9,#bcbd22);--d3fc-local-series-10:var(--d3fc-series-10,#17becf);}:host .chart .series{fill:var(--d3fc-local-series);}:host .chart .series-1{fill:var(--d3fc-local-series-1);}:host .chart .series-2{fill:var(--d3fc-local-series-2);}:host .chart .series-3{fill:var(--d3fc-local-series-3);}:host .chart .series-4{fill:var(--d3fc-local-series-4);}:host .chart .series-5{fill:var(--d3fc-local-series-5);}:host .chart .series-6{fill:var(--d3fc-local-series-6);}:host .chart .series-7{fill:var(--d3fc-local-series-7);}:host .chart .series-8{fill:var(--d3fc-local-series-8);}:host .chart .series-9{fill:var(--d3fc-local-series-9);}:host .chart .series-10{fill:var(--d3fc-local-series-10);}:host{user-select:none;}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:12px;overflow:hidden;}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);}:host .chart .chart-label{display:none;}:host .chart.heatmap{padding-right:120px;}:host .chart.xyscatter{padding:0;font-size:14px;}:host .chart.xyscatter d3fc-group:first-child{padding:16px;padding-top:0px;width:calc(100% - 32px);height:calc(100% - 16px);}:host .chart.xyscatter .multi-xlabel{position:absolute;bottom:0;height:2.5em;width:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .multi-ylabel{position:absolute;top:0;width:2.5em;height:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .outer-container{height:100%;}:host .chart.xyscatter .inner-container{display:inline-grid;overflow-y:auto;width:calc(100% - 16px);height:100%;padding:0;margin:0;}:host .chart.xyscatter .inner-container div{overflow:hidden;}:host .chart.xyscatter .inner-container text.segment,:host .chart.xyscatter .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.xyscatter .inner-container div.xy-scatter-container{margin:5px 0;}:host .chart.sunburst{padding:0;font-size:14px;}:host .chart.sunburst .outer-container{height:100%;}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.sunburst .inner-container div{overflow:hidden;}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translate(0,-27px);}:host .chart.sunburst .inner-container svg{width:100%;height:100%;}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.sunburst .inner-container div.title-container{margin-top:5px;}:host .chart.has-legend{padding-right:120px;}:host .chart.treemap .treemap-container{position:relative;}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px);}:host .chart.treemap .outer-container{height:100%;}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.treemap .inner-container div{overflow:hidden;}:host .chart.treemap .inner-container svg{width:100%;height:100%;}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines,var(--d3fc-axis--lines,white));fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight,black);stroke-opacity:1;}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .branchnode{opacity:0;}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:0.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight,black);}:host .chart.treemap .inner-container .leafnode{fill-opacity:0.8;}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:0.5;}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none;}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:0.7;z-index:4;}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4;}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging;}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:12px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s;}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px#000;transition:box-shadow 0.2s;}:host .chart .x-label{height:1.2em!important;line-height:1em!important;}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color,inherit);font-size:14px;}:host .chart d3fc-canvas.plot-area{display:none;}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block;}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color,rgb(80,80,80));font-size:11px;}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer;}:host .chart .splitter-label::after{margin-left:5px;color:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label:hover::after{color:var(--d3fc-axis-ticks--color,rgb(80,80,80));}:host .chart .splitter-label.disabled::after{color:rgba(80,80,80,0.3);}:host .chart .splitter-label.disabled{cursor:default;}:host .chart .y-label.left-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}:host .chart .y-label.right-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden;}:host .chart .y-label{white-space:nowrap;}:host .chart .nearbyTip{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none;}:host #dragHandles rect{pointer-events:all;}:host .label rect{fill:none;}:host .legend-container{position:absolute;top:12px;right:12px;left:auto;width:150px;height:280px;}:host .legend-container.legend-color{width:90px;height:150px;}:host .legend-container[borderbox-on-hover="true"]{transition:box-shadow 1s;}:host .legend-container[borderbox-on-hover="true"]:hover{background-color:var(--d3fc-legend--background,#ffffff);transition:box-shadow 0.2s,background-color 0.2s;}:host .legend-container .legend{font-size:8pt;width:100%;}:host .legend-container .legend .cell{cursor:pointer;}:host .legend-container .legend .cell path{fill:var(--d3fc-series,rgba(31,119,180,0.5));stroke:var(--d3fc-series,rgb(31,119,180));}:host .legend-container .legend .cell.hidden path{fill:rgba(204,204,204,0.5);stroke:rgb(204,204,204);}:host .legend-container .legend .cell.hidden circle{fill:rgb(204,204,204)!important;}:host .legend-container text{fill:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .label:hover{fill:rgb(34,160,206);}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .legend-controls{margin-left:12px;}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:rgb(31,119,180);}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:rgb(51,51,51);}:host .heatmap .legend-container.legend-color{height:200px;}:host .treemap .legend-container.legend-color{height:200px;}:host .treemap .legend-container:not(.legend-color){width:100px;}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center;}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background,rgb(247,247,247));border:1px solid var(--inactive--color,rgb(204,204,204));color:var(--d3fc-label--color,inherit);font-size:12px;padding:8px;opacity:0.5;cursor:pointer;}:host .zoom-controls button:hover{opacity:1;}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right;}:host .parent-controls button{-webkit-appearance:none;background:rgb(247,247,247);border:1px solid rgb(204,204,204);padding:10px;opacity:0.5;cursor:pointer;}:host .parent-controls button:hover{background:rgb(230,230,230);}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:0.5em;background:var(--d3fc-tooltip--background,#ffffff);color:var(--d3fc-tooltip--color,black);border:1px solid var(--d3fc-tooltip--border-color,#777777);box-shadow:var(--d3fc-tooltip--box-shadow,none);pointer-events:none;}:host div.tooltip ul{margin:0;padding:0;list-style-type:none;}',id={initial:{count:1,names:[]}},Ek=`${Mk}${Ak()}`,Rl=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","textStyles","agg_paths","treemaps","axisMemo","columns_config"];function Ak(){let e=document.querySelector("head").querySelectorAll("style"),t=[];return e.forEach(n=>{n.innerText.indexOf("d3fc-")!==-1&&t.push(n.innerText)}),t.join("")}async function $k(e){await customElements.get("perspective-viewer").registerPlugin(e)}function Tk(...e){let t=new Set(e.length>0?e:nd.map(n=>n.plugin.name));nd.forEach(n=>{if(t.has(n.plugin.name)){let r=n.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),i=`perspective-viewer-d3fc-${r}`;customElements.define(i,class extends HTMLElement{constructor(){super();kn(this,"_chart");kn(this,"_settings");kn(this,"render_warning");kn(this,"_initialized");kn(this,"_container");kn(this,"_staged_view");kn(this,"config");this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${Ek}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return n.plugin.name}get category(){return n.plugin.category}get select_mode(){return n.plugin.selectMode||"select"}get min_config_columns(){var o;return((o=n.plugin.initial)==null?void 0:o.count)||id.initial.count}get config_column_names(){var o;return((o=n.plugin.initial)==null?void 0:o.names)||id.initial.names}get max_cells(){return n.plugin.max_cells||4e3}set max_cells(o){n.plugin.max_cells=o}get max_columns(){return n.plugin.max_columns||50}set max_columns(o){n.plugin.max_columns=o}can_render_column_styles(o,l){var s;return(s=n.can_render_column_styles)==null?void 0:s.call(this,o,l)}column_style_controls(o,l){var s;return(s=n.column_style_controls)==null?void 0:s.call(this,o,l)}async render(){var o=document.createElement("canvas"),l=this.shadowRoot.querySelector("#container");o.width=l.offsetWidth,o.height=l.offsetHeight;let s=o.getContext("2d");s.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",s.fillRect(0,0,o.width,o.height);let c=window.getComputedStyle(this).getPropertyValue("color"),u=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let g of u.reverse()){var d=document.createElement("img");let p=0;d.width=g.parentElement?g.parentElement.offsetWidth:p,d.height=g.parentElement?g.parentElement.offsetHeight:p;let x=g.cloneNode(!0);x.hasAttribute("viewBox")||x.setAttribute("viewBox",`0 0 ${d.width} ${d.height}`),x.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let A of x.querySelectorAll("text"))A.setAttribute("fill",c);var f=new XMLSerializer().serializeToString(x);f=f.replace(/[^\x00-\x7F]/g,"");let b=new Promise((A,$)=>{d.onload=A,d.onerror=$});try{d.src=`data:image/svg+xml;base64,${btoa(f)}`,await b}catch{let A=new Promise(($,E)=>{d.onload=$,d.onerror=E});d.src=`data:image/svg+xml;utf8,${f}`,await A}s.drawImage(d,g.parentNode.offsetLeft,g.parentNode.offsetTop,d.width,d.height)}let h=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let g of h.reverse())s.drawImage(g,g.parentNode.offsetLeft,g.parentNode.offsetTop,g.width/window.devicePixelRatio,g.height/window.devicePixelRatio);return await new Promise(g=>o.toBlob(p=>g(p)),"image/png")}async draw(o,l,s){if(this.offsetParent===null){this._staged_view=[o,l,s];return}this._staged_view=void 0,this._settings&&(this._settings.axisMemo=[[1/0,-1/0],[1/0,-1/0]]),await this.update(o,l,s,!0)}async update(o,l,s,c=!1){if(this.offsetParent===null)return;let u=this.parentElement,d,f,h=n.plugin.name!=="Sunburst";l&&s?d=o.to_columns_string({end_row:s,end_col:l,leaves_only:h}):l?d=o.to_columns_string({end_col:l,leaves_only:h}):s?d=o.to_columns_string({end_row:s,leaves_only:h}):d=o.to_columns_string({leaves_only:h}),f=await Promise.all([u.save(),u.getTable().then(I=>I.schema()),o.expression_schema(!1),o.schema(!1),d,o.get_config()]);let[g,p,x,b,A,$]=f,E=JSON.parse(A),y=Object.keys(E),k={row(I){let ae={};for(let ue of y)ae[ue]=E[ue][I];return ae}};this.config=g;let D=this.config.columns,L=function(I){let ae=p[I];return ae||(ae=x[I]),ae},{columns:G,group_by:Y,split_by:U,filter:re}=$,q=E[Object.keys(E)[0]]||[],N=Y.length>0?q.reduce((I,ae,ue)=>{let F=k.row(ue);if(F.__ROW_PATH__&&F.__ROW_PATH__.length==Y.length)I.agg_paths.push(I.aggs.slice()),I.rows.push(F);else{let K=F.__ROW_PATH__.filter(ge=>ge!==void 0).length;I.aggs[K]=F,I.aggs=I.aggs.slice(0,K+1)}return I},{rows:[],aggs:[],agg_paths:[]}):{rows:q.map((I,ae)=>k.row(ae))},W=(I,ae)=>Y.length?I:{...I,__ROW_PATH__:[ae]},R=N.rows.map(W),Q={realValues:D,crossValues:Y.map(I=>({name:I,type:L(I)})),mainValues:G.map(I=>({name:I,type:b[I]})),splitValues:U.map(I=>({name:I,type:L(I)})),filter:re,data:R,agg_paths:N.agg_paths,...this.config.plugin_config};this._chart=n;let V={set:(I,ae,ue)=>(Rl.includes(ae)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),I[ae]=ue,!0)},j=[[1/0,-1/0],[1/0,-1/0]];this._settings=new Proxy({axisMemo:j,...this._settings,...Q},V),this._settings.splitMainValues&&this._settings.splitMainValues.length>=G.length&&(this._settings.splitMainValues=[]),rd(this._container,this._settings),c&&(this._container.innerHTML=""),this._draw(),await new Promise(I=>requestAnimationFrame(I))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(this.offsetParent!==null){let o=ce(this._container),l=`chart ${r}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(o.attr("class",l),this._settings):o.attr("class",`${l} disabled`)}}async resize(o){var l;if(this.offsetParent!==null)if(((l=this._settings)==null?void 0:l.data)!==void 0)this._draw();else{let[s,c,u]=this._staged_view;this._staged_view=void 0,this.draw(s,c,u)}}async restyle(o,l,s){let c=this._settings;c&&(delete c.colorStyles,delete c.textStyles,this.isConnected&&(rd(this._container,this._settings),this.resize(o)))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let o={...this._settings};return Rl.forEach(l=>{delete o[l]}),o}restore(o,l){var c,u;let s={};for(let d of Rl)((c=this._settings)==null?void 0:c[d])!==void 0&&(s[d]=(u=this._settings)==null?void 0:u[d]);this._settings={...s,...o,columns_config:l}}}),customElements.whenDefined("perspective-viewer").then(()=>$k(i))}})}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);Tk();var Ck=jt("<perspective-viewer></perspective-viewer>",2);function Nk(e,t){nr(t,!1);let n=Ke(t,"perspectiveConfig",24,()=>({columns:[],plugin:"datagrid"})),r=null,i;gs(async()=>{r===null&&(r=await Ul.worker())}),pd(()=>{r&&r.terminate()});async function a(s){r||(r=await Ul.worker());const c=await r.table(s);i=document.getElementById("result"),await i.load(c),n()?await i.restore(n()):await i.restore({columns:[],plugin:"datagrid"})}async function o(){return i?await i.save():{columns:[],plugin:"datagrid"}}Ki();var l=Ck();return ep(l,"id","result"),vd(l,1,"svelte-ewnxrg"),bt(e,l),Wc(t,"loadData",a),Wc(t,"saveViewerConfig",o),rr({loadData:a,saveViewerConfig:o})}const Ok=""+new URL("../assets/perspective-server.UEcA6ZPP.wasm",import.meta.url).href,Lk=""+new URL("../assets/perspective-viewer.DuNKur-R.wasm",import.meta.url).href;async function zk(){console.log("Loading WASM"),await Ul.init_server(fetch(Ok)),await pm.init_client(fetch(Lk)),console.log("Done loading WASM")}class Rk{constructor(t="http://localhost:8888"){this.baseUrl=t}async executeQuery(t,n,r,i,a="local"){const o=t.trim().toUpperCase(),l=o.startsWith("SHOW "),s=o.startsWith("DESCRIBE "),c=l||s?t:`SELECT * FROM (
${t}
) LIMIT ${n}`,u=await fetch(`${this.baseUrl}/trino`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:c,user:r,password:i,environment:a})});return u.ok?{success:!0,data:await u.arrayBuffer()}:{success:!1,error:(await u.json()).error}}}class Vk{saveQuery(t){localStorage.setItem("query",t)}getQuery(){return localStorage.getItem("query")||""}saveUsername(t){localStorage.setItem("username",t)}getUsername(){return localStorage.getItem("username")||""}saveEnvironment(t){localStorage.setItem("environment",t)}getEnvironment(){return localStorage.getItem("environment")||null}saveSavedQueries(t){localStorage.setItem("savedQueries",JSON.stringify(t))}getSavedQueries(){const t=localStorage.getItem("savedQueries");return t?JSON.parse(t):[]}}var Dk=jt('<div class="container svelte-1jaoxh9"><!> <div id="content" class="svelte-1jaoxh9"><div id="editors" class="svelte-1jaoxh9"><!></div> <!> <!> <!></div></div>');function gS(e,t){nr(t,!0);const n=new Vk,r=new Rk;let i=$t(ga(n.getUsername())),a=$t(""),o=$t(!1),l=$t(ga(n.getSavedQueries())),s=$t(ga(n.getEnvironment()||nb()));const u=new URLSearchParams(window.location.search).get("query");let d=$t(ga(u??n.getQuery()??"")),f=$t(""),h=$t(""),g=$t(0),p=$t(!1),x=$t(1e5),b=$t({columns:[],plugin:"datagrid"}),A;gs(async()=>{await zk()});function $(N){N.ctrlKey&&N.key==="Enter"&&Le(o)&&(N.preventDefault(),G())}function E(N,W){Ge(i,N,!0),Ge(a,W,!0),Ge(o,!0),n.saveUsername(Le(i))}function y(N){Ge(f,N.name,!0),Ge(d,N.query,!0),Ge(b,N.perspectiveConfig??{columns:[],plugin:"datagrid"})}async function k(){const N=await A.saveViewerConfig(),W={name:Le(f),query:Le(d),perspectiveConfig:N};Ge(l,Le(l).filter(R=>R.name!==Le(f)).concat(W).sort((R,Q)=>R.name.localeCompare(Q.name)),!0),n.saveSavedQueries(Le(l))}function D(){Ge(d,""),Ge(f,""),Ge(b,{columns:[],plugin:"datagrid"})}function L(N){Ge(s,N,!0),n.saveEnvironment(Le(s))}async function G(){n.saveQuery(Le(d)),Ge(h,""),Ge(p,!0),Ge(g,0);const N=performance.now(),W=setInterval(()=>{Ge(g,performance.now()-N)},100),R=await r.executeQuery(Le(d),Le(x),Le(i),Le(a),Le(s));Ge(p,!1),clearInterval(W),Ge(g,performance.now()-N),R.success?await A.loadData(R.data):Ge(h,R.error,!0)}var Y=ld();gn("keydown",W0,$);var U=hd(Y);{var re=N=>{var W=Dk(),R=ft(W);cp(R,{get savedQueries(){return Le(l)},get currentQueryName(){return Le(f)},onQuerySelected:y});var Q=pt(R,2),V=ft(Q),j=ft(V);eb(j,{get query(){return Le(d)},set query(F){Ge(d,F,!0)}}),at(V);var I=pt(V,2);sb(I,{get executing(){return Le(p)},get lastQueryTime(){return Le(g)},onSave:k,onReset:D,onExecute:G,onEnvironmentChange:L,get queryName(){return Le(f)},set queryName(F){Ge(f,F,!0)},get limit(){return Le(x)},set limit(F){Ge(x,F,!0)},get selectedEnvironment(){return Le(s)},set selectedEnvironment(F){Ge(s,F,!0)}});var ae=pt(I,2);ub(ae,{get error(){return Le(h)}});var ue=pt(ae,2);gd(Nk(ue,{get perspectiveConfig(){return Le(b)}}),F=>A=F,()=>A),at(Q),at(W),bt(N,W)},q=N=>{op(N,{onLogin:E,get username(){return Le(i)},set username(W){Ge(i,W,!0)},get password(){return Le(a)},set password(W){Ge(a,W,!0)}})};Pa(U,N=>{Le(o)?N(re):N(q,!1)})}bt(e,Y),rr()}export{gS as component};
